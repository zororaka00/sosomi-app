import{B as D,a as S,D as f,M as d,G as e,N as _,H as k,E as a,F as r,J as c,a3 as U,P as y,_ as q,C as M,r as T,o as W,$ as G,I as m,Q as H,K as V,L as F,V as J,R as $,O as K}from"./index-D71b0TiV.js";import{u as O,Q as j,a as b,B as g}from"./search-store-BWpmkrKr.js";import{A as X,Q as Y,D as Z}from"./chain-store-BrD8rbwP.js";import{L as ee,W as se,Q as ae}from"./LoadingMonster-CSFkzw9c.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{P as Q}from"./PillButton-D3Uaw3du.js";import{P as te}from"./PillInput-BI9VyZ0c.js";import"./focusout-DzMFof5N.js";const oe={class:"token-row__icon"},ne={class:"text-subtitle1"},le={class:"token-row__info"},re={class:"token-row__name"},de={class:"token-row__subtitle"},ie={class:"token-row__balance"},ce={class:"token-row__amount"},ue={key:0,class:"token-row__usd"},me=D({__name:"TokenRow",props:{token:{},usdValue:{},clickable:{type:Boolean,default:!1}},emits:["click"],setup(v,{emit:C}){const p=v,i=C,x=S(()=>p.token.symbol.charAt(0).toUpperCase()),B=S(()=>{const o=["primary","secondary","positive","info","warning"],n=p.token.symbol.charCodeAt(0)%o.length;return o[n]}),h=S(()=>{const o=parseFloat(p.token.balance);return o===0?"0":o<1e-8?"< 0.00000001":o<1?o.toFixed(8):o<1e3?o.toFixed(Math.min(8,2)):o.toLocaleString("en-US",{maximumFractionDigits:8,minimumFractionDigits:0})}),w=()=>{p.clickable&&i("click")};return(o,n)=>(d(),f("div",{class:"token-row",onClick:w},[e("div",oe,[a(U,{size:"40px",color:B.value,"text-color":"white"},{default:r(()=>[e("span",ne,c(x.value),1)]),_:1},8,["color"])]),e("div",le,[e("div",re,c(v.token.symbol),1),e("div",de,c(v.token.name),1)]),e("div",ie,[e("div",ce,c(h.value),1),v.usdValue?(d(),f("div",ue,"$"+c(v.usdValue),1)):k("",!0)]),v.clickable?(d(),_(y,{key:0,name:"chevron_right",size:"20px",color:"grey-5"})):k("",!0)]))}}),fe=P(me,[["__scopeId","data-v-f88c46c1"]]),ve={class:"page-content"},ke={key:0,class:"address-details fade-in"},pe={class:"page-header"},_e={class:"page-subtitle"},he={class:"address-header"},be={class:"address-info"},ge={class:"balance-header"},ye={class:"balance-amount"},Ce={class:"balance-value"},xe={class:"balance-symbol"},Be={key:0,class:"balance-usd text-grey-7 q-mt-sm"},we={key:0,class:"saved-tokens-section"},Ae={class:"saved-tokens-chips"},Se={class:"add-token-form"},Te={key:1,class:"error-container fade-in"},$e={class:"text-grey-7 q-mb-lg"},Ie=D({__name:"AddressDetail",setup(v){const C=G(),p=J(),i=X(),x=O(),B=q(),{currentChain:h,loading:w,error:o}=M(i),n=T(null),u=T(""),A=T(!1),I=l=>Z(l),R=()=>{p.push({name:"home"})},L=async()=>{const l=C.params.address;try{x.addSearch(l,"Address",i.currentChainId),n.value=await i.getWalletInfo(l)}catch(s){console.error("Failed to load address info:",s)}},N=async()=>{if(!(!n.value||!u.value)){A.value=!0;try{const l=await i.getTokenBalance(u.value,n.value.address);n.value.tokens.push(l),i.addSavedToken(u.value,l.symbol,i.currentChainId),$.create({message:`Added ${l.symbol}`,color:"positive",icon:"mdi-check-circle",position:"top",timeout:2e3}),u.value=""}catch{$.create({message:"Failed to add token. Please check the address.",color:"negative",icon:"mdi-alert-circle",position:"top",timeout:3e3})}finally{A.value=!1}}},z=l=>{i.removeSavedToken(l,i.currentChainId),$.create({message:"Token removed from saved list",color:"info",icon:"mdi-delete",position:"top",timeout:2e3})};return W(()=>{L()}),(l,s)=>(d(),_(j,{class:"address-page"},{default:r(()=>[m(w)?(d(),_(ee,{key:0,message:"Loading address data...",onCancel:R})):k("",!0),e("div",ve,[n.value?(d(),f("div",ke,[e("div",pe,[a(H,{flat:"",round:"",icon:"mdi-arrow-left",onClick:s[0]||(s[0]=t=>l.$router.back()),class:"back-btn"}),e("div",null,[s[3]||(s[3]=e("h1",{class:"page-title"},"Address Detail",-1)),e("p",_e,c(m(h)?.name),1)])]),a(g,{class:"address-card slide-up-soft",elevated:""},{default:r(()=>[a(b,null,{default:r(()=>[e("div",he,[a(y,{name:"mdi-wallet",size:"48px",color:"primary"}),e("div",be,[s[4]||(s[4]=e("div",{class:"address-label"},"Address",-1)),a(se,{color:"primary",address:n.value.address,"is-transaction-hash":!0},null,8,["address"])])])]),_:1})]),_:1}),a(g,{class:"balance-card slide-up-soft stagger-1",bordered:""},{default:r(()=>[a(b,null,{default:r(()=>[e("div",ge,[s[5]||(s[5]=e("h3",{class:"card-title"},"Native Balance",-1)),a(y,{name:"mdi-cash",size:"24px",color:"primary"})]),e("div",ye,[e("span",Ce,c(n.value.formattedBalance),1),e("span",xe,c(m(h)?.chain.nativeCurrency.symbol),1)]),parseFloat(n.value.formattedBalance)>0?(d(),f("div",Be," â‰ˆ "+c(m(B).formatUsdValue(parseFloat(n.value.formattedBalance),m(h)?.chain.nativeCurrency.symbol||""))+" USD ",1)):k("",!0)]),_:1})]),_:1}),n.value.tokens.length>0?(d(),_(g,{key:0,class:"tokens-card slide-up-soft stagger-2",bordered:""},{default:r(()=>[a(b,null,{default:r(()=>[s[6]||(s[6]=e("h3",{class:"card-title"},"Token Balances",-1)),a(Y,{separator:""},{default:r(()=>[(d(!0),f(V,null,F(n.value.tokens,t=>(d(),_(fe,{key:t.address,token:{symbol:t.symbol,name:t.name,balance:t.formattedBalance},clickable:""},null,8,["token"]))),128))]),_:1})]),_:1})]),_:1})):k("",!0),a(g,{class:"add-token-card slide-up-soft stagger-4",bordered:""},{default:r(()=>[a(b,null,{default:r(()=>[s[8]||(s[8]=e("h3",{class:"card-title"},"Add Custom Token",-1)),s[9]||(s[9]=e("p",{class:"card-subtitle"}," Enter an ERC20 token contract address to check its balance for this address ",-1)),m(i).currentChainSavedTokens.length>0?(d(),f("div",we,[s[7]||(s[7]=e("div",{class:"saved-tokens-title"},"Previously Added Tokens:",-1)),e("div",Ae,[(d(!0),f(V,null,F(m(i).currentChainSavedTokens,t=>(d(),_(ae,{key:t.address,clickable:"",outline:"",color:"primary",icon:"mdi-coin",onClick:E=>u.value=t.address,removable:"",onRemove:E=>z(t.address),class:"saved-token-chip"},{default:r(()=>[K(c(t.symbol),1)]),_:2},1032,["onClick","onRemove"]))),128))])])):k("",!0),e("div",Se,[a(te,{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t),placeholder:"Enter token contract address","prepend-icon":"mdi-coin","bg-color":"#fafafa","text-color":"#111827",rules:[t=>!t||I(t.toString())||"Invalid address"]},null,8,["modelValue","rules"]),a(Q,{label:"Add Token",icon:"mdi-plus","bg-color":"#3b82f6","text-color":"#ffffff",disabled:!u.value||!I(u.value)||A.value,onClick:N,class:"add-token-btn"},null,8,["disabled"])])]),_:1})]),_:1})])):m(o)?(d(),f("div",Te,[a(g,{elevated:""},{default:r(()=>[a(b,{class:"text-center"},{default:r(()=>[a(y,{name:"mdi-alert-circle",size:"64px",color:"negative",class:"q-mb-md"}),s[10]||(s[10]=e("h3",{class:"text-h6 q-mb-sm"},"Address Not Found",-1)),e("p",$e,c(m(o)),1),a(Q,{label:"Go Back",icon:"mdi-arrow-left","bg-color":"#3b82f6","text-color":"#ffffff",onClick:s[2]||(s[2]=t=>l.$router.back())})]),_:1})]),_:1})])):k("",!0)])]),_:1}))}}),ze=P(Ie,[["__scopeId","data-v-814e3a5e"]]);export{ze as default};
