import{B as E,r as x,C as k,N as m,F as s,V as H,M as c,G as n,E as t,D as I,H as Q,X as $,Q as b,I as P,O as f,K as L,L as K,Y as z,P as B,J as p,Z as F,R as i}from"./index-D71b0TiV.js";import{u as O,Q as U,B as w,a as N,b as G}from"./search-store-BWpmkrKr.js";import{Q as J,a as h,b as R}from"./QItem-DSVf96Az.js";import{B as M,C as X,A as Y,Q as Z,D as j}from"./chain-store-BrD8rbwP.js";import{P as W}from"./PillButton-D3Uaw3du.js";import{P as ee}from"./PillInput-BI9VyZ0c.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";function te(l){return M(l)&&X(l)===32}const se={class:"search-container fade-in"},re={key:0,class:"recent-section slide-up-soft stagger-2"},oe={class:"recent-header"},ne=E({__name:"IndexPage",setup(l){const g=H(),y=O(),v=Y(),o=x(""),d=x(!1),{recentSearches:_}=k(y),{currentChainId:S}=k(v),C=e=>v.SUPPORTED_CHAINS[e]?.name||e,u=async()=>{const e=o.value.trim();if(!e){i.create({message:"Please enter a search query",color:"warning",icon:"mdi-alert",position:"top",timeout:2e3});return}d.value=!0;try{te(e)?await g.push({name:"transaction",params:{hash:e}}):j(e)?await g.push({name:"address",params:{address:e}}):i.create({message:"Invalid address or transaction hash",color:"negative",icon:"mdi-alert-circle",position:"top",timeout:3e3})}catch(a){console.error("Search error:",a),i.create({message:"Search failed. Please try again.",color:"negative",icon:"mdi-alert-circle",position:"top",timeout:3e3})}finally{d.value=!1}},V=async e=>{const a=e.chainId||"ethereum";a!==S.value&&(S.value=a,i.create({message:`Switched to ${C(a)}`,color:"info",icon:"mdi-check-circle",position:"top",timeout:2e3})),o.value=e.query,u()},T=()=>{y.clearSearchHistory(),i.create({message:"Search history cleared",color:"positive",icon:"mdi-check-circle",position:"top",timeout:2e3})},q=e=>({Transaction:"mdi-receipt-text",Address:"mdi-wallet"})[e]||"mdi-magnify",A=e=>!e||e.length<=12?e:`${e.slice(0,6)}xxxx${e.slice(-4)}`;return(e,a)=>(c(),m(U,{class:"search-page"},{default:s(()=>[n("div",se,[a[4]||(a[4]=n("div",{class:"hero-section"},[n("h1",{class:"hero-title"},"Blockchain Explorer"),n("p",{class:"hero-subtitle"}," Search for transaction hash or address across multiple chain ")],-1)),t(w,{class:"search-card",elevated:""},{default:s(()=>[t(N,{class:"search-card__content"},{default:s(()=>[t(ee,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=r=>o.value=r),placeholder:"Enter tx hash or address","prepend-icon":"mdi-magnify","bg-color":"#fafafa","text-color":"#111827",class:"search-input",onKeyup:$(u,["enter"])},{append:s(()=>[o.value?(c(),m(b,{key:0,flat:"",dense:"",round:"",icon:"mdi-close",onClick:a[0]||(a[0]=r=>o.value=""),color:"grey-6"})):Q("",!0)]),_:1},8,["modelValue"]),t(W,{label:"Search",icon:"mdi-magnify","bg-color":"#3b82f6","text-color":"#ffffff",disabled:!o.value||d.value,onClick:u,class:"search-btn"},null,8,["disabled"])]),_:1})]),_:1}),P(_).length>0?(c(),I("div",re,[t(w,{bordered:""},{default:s(()=>[t(N,null,{default:s(()=>[n("div",oe,[a[3]||(a[3]=n("h3",{class:"recent-title"},"Recent Searches",-1)),t(b,{flat:"",dense:"",round:"",size:"sm",icon:"mdi-close-circle",onClick:T},{default:s(()=>[t(G,null,{default:s(()=>[...a[2]||(a[2]=[f("Clear all",-1)])]),_:1})]),_:1})]),t(Z,{separator:""},{default:s(()=>[(c(!0),I(L,null,K(P(_),(r,D)=>z((c(),m(J,{key:D,clickable:"",onClick:ce=>V(r),class:"recent-item"},{default:s(()=>[t(h,{avatar:""},{default:s(()=>[t(B,{name:q(r.type),color:"primary"},null,8,["name"])]),_:2},1024),t(h,null,{default:s(()=>[t(R,{class:"recent-query"},{default:s(()=>[f(p(A(r.query)),1)]),_:2},1024),t(R,{caption:""},{default:s(()=>[f(p(r.type)+" Â· "+p(C(r.chainId||"ethereum")),1)]),_:2},1024)]),_:2},1024),t(h,{side:""},{default:s(()=>[t(B,{name:"mdi-chevron-right",color:"grey-5"})]),_:1})]),_:2},1032,["onClick"])),[[F]])),128))]),_:1})]),_:1})]),_:1})])):Q("",!0)])]),_:1}))}}),he=ae(ne,[["__scopeId","data-v-1dd41e0e"]]);export{he as default};
