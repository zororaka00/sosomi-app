import{B as D,a as T,D as v,M as r,G as e,N as _,H as p,E as a,F as o,J as c,a3 as U,P as g,_ as q,C as M,r as S,o as W,$ as G,I as m,Q as $,K as V,L as F,V as H,R as I,O as J}from"./index-DewENMIW.js";import{u as K,Q as O,a as b,B as y}from"./search-store-W9MHfDtj.js";import{_ as R,A as j,Q as X,D as Y}from"./_plugin-vue_export-helper-BuWph6zF.js";import{L as Z,W as ee,Q as se}from"./LoadingMonster-BQAvHIxR.js";import{Q as ae}from"./QInput-DxKTH9ri.js";import"./focusout-DswQHd7s.js";const te={class:"token-row__icon"},oe={class:"text-subtitle1"},ne={class:"token-row__info"},de={class:"token-row__name"},le={class:"token-row__subtitle"},re={class:"token-row__balance"},ie={class:"token-row__amount"},ce={key:0,class:"token-row__usd"},ue=D({__name:"TokenRow",props:{token:{},usdValue:{},clickable:{type:Boolean,default:!1}},emits:["click"],setup(k,{emit:C}){const f=k,i=C,A=T(()=>f.token.symbol.charAt(0).toUpperCase()),w=T(()=>{const n=["primary","secondary","positive","info","warning"],d=f.token.symbol.charCodeAt(0)%n.length;return n[d]}),h=T(()=>{const n=parseFloat(f.token.balance);return n===0?"0":n<1e-8?"< 0.00000001":n<1?n.toFixed(8):n<1e3?n.toFixed(Math.min(8,2)):n.toLocaleString("en-US",{maximumFractionDigits:8,minimumFractionDigits:0})}),x=()=>{f.clickable&&i("click")};return(n,d)=>(r(),v("div",{class:"token-row",onClick:x},[e("div",te,[a(U,{size:"40px",color:w.value,"text-color":"white"},{default:o(()=>[e("span",oe,c(A.value),1)]),_:1},8,["color"])]),e("div",ne,[e("div",de,c(k.token.symbol),1),e("div",le,c(k.token.name),1)]),e("div",re,[e("div",ie,c(h.value),1),k.usdValue?(r(),v("div",ce,"$"+c(k.usdValue),1)):p("",!0)]),k.clickable?(r(),_(g,{key:0,name:"chevron_right",size:"20px",color:"grey-5"})):p("",!0)]))}}),me=R(ue,[["__scopeId","data-v-f88c46c1"]]),ve={class:"page-content"},ke={key:0,class:"address-details fade-in"},pe={class:"page-header"},fe={class:"page-subtitle"},_e={class:"address-header"},he={class:"address-info"},be={class:"balance-header"},ye={class:"balance-amount"},ge={class:"balance-value"},Ce={class:"balance-symbol"},Ae={key:0,class:"balance-usd text-grey-7 q-mt-sm"},we={key:0,class:"saved-tokens-section"},xe={class:"saved-tokens-chips"},Be={class:"add-token-form"},Te={key:1,class:"error-container fade-in"},Se={class:"text-grey-7 q-mb-lg"},$e=D({__name:"AddressDetail",setup(k){const C=G(),f=H(),i=j(),A=K(),w=q(),{currentChain:h,loading:x,error:n}=M(i),d=S(null),u=S(""),B=S(!1),Q=l=>Y(l),L=()=>{f.push({name:"home"})},N=async()=>{const l=C.params.address;try{A.addSearch(l,"Address",i.currentChainId),d.value=await i.getWalletInfo(l)}catch(s){console.error("Failed to load address info:",s)}},z=async()=>{if(!(!d.value||!u.value)){B.value=!0;try{const l=await i.getTokenBalance(u.value,d.value.address);d.value.tokens.push(l),i.addSavedToken(u.value,l.symbol,i.currentChainId),I.create({message:`Added ${l.symbol}`,color:"positive",icon:"mdi-check-circle",position:"top",timeout:2e3}),u.value=""}catch{I.create({message:"Failed to add token. Please check the address.",color:"negative",icon:"mdi-alert-circle",position:"top",timeout:3e3})}finally{B.value=!1}}},E=l=>{i.removeSavedToken(l,i.currentChainId),I.create({message:"Token removed from saved list",color:"info",icon:"mdi-delete",position:"top",timeout:2e3})};return W(()=>{N()}),(l,s)=>(r(),_(O,{class:"address-page"},{default:o(()=>[m(x)?(r(),_(Z,{key:0,message:"Loading address data...",onCancel:L})):p("",!0),e("div",ve,[d.value?(r(),v("div",ke,[e("div",pe,[a($,{flat:"",round:"",icon:"mdi-arrow-left",onClick:s[0]||(s[0]=t=>l.$router.back()),class:"back-btn"}),e("div",null,[s[3]||(s[3]=e("h1",{class:"page-title"},"Address Detail",-1)),e("p",fe,c(m(h)?.name),1)])]),a(y,{class:"address-card slide-up-soft",elevated:""},{default:o(()=>[a(b,null,{default:o(()=>[e("div",_e,[a(g,{name:"mdi-wallet",size:"48px",color:"primary"}),e("div",he,[s[4]||(s[4]=e("div",{class:"address-label"},"Address",-1)),a(ee,{color:"primary",address:d.value.address,"is-transaction-hash":!0},null,8,["address"])])])]),_:1})]),_:1}),a(y,{class:"balance-card slide-up-soft stagger-1",bordered:""},{default:o(()=>[a(b,null,{default:o(()=>[e("div",be,[s[5]||(s[5]=e("h3",{class:"card-title"},"Native Balance",-1)),a(g,{name:"mdi-cash",size:"24px",color:"primary"})]),e("div",ye,[e("span",ge,c(d.value.formattedBalance),1),e("span",Ce,c(m(h)?.chain.nativeCurrency.symbol),1)]),parseFloat(d.value.formattedBalance)>0?(r(),v("div",Ae," â‰ˆ "+c(m(w).formatUsdValue(parseFloat(d.value.formattedBalance),m(h)?.chain.nativeCurrency.symbol||""))+" USD ",1)):p("",!0)]),_:1})]),_:1}),d.value.tokens.length>0?(r(),_(y,{key:0,class:"tokens-card slide-up-soft stagger-2",bordered:""},{default:o(()=>[a(b,null,{default:o(()=>[s[6]||(s[6]=e("h3",{class:"card-title"},"Token Balances",-1)),a(X,{separator:""},{default:o(()=>[(r(!0),v(V,null,F(d.value.tokens,t=>(r(),_(me,{key:t.address,token:{symbol:t.symbol,name:t.name,balance:t.formattedBalance},clickable:""},null,8,["token"]))),128))]),_:1})]),_:1})]),_:1})):p("",!0),a(y,{class:"add-token-card slide-up-soft stagger-4",bordered:""},{default:o(()=>[a(b,null,{default:o(()=>[s[8]||(s[8]=e("h3",{class:"card-title"},"Add Custom Token",-1)),s[9]||(s[9]=e("p",{class:"card-subtitle"}," Enter an ERC20 token contract address to check its balance for this address ",-1)),m(i).currentChainSavedTokens.length>0?(r(),v("div",we,[s[7]||(s[7]=e("div",{class:"saved-tokens-title"},"Previously Added Tokens:",-1)),e("div",xe,[(r(!0),v(V,null,F(m(i).currentChainSavedTokens,t=>(r(),_(se,{key:t.address,clickable:"",outline:"",color:"primary",icon:"mdi-coin",onClick:P=>u.value=t.address,removable:"",onRemove:P=>E(t.address),class:"saved-token-chip"},{default:o(()=>[J(c(t.symbol),1)]),_:2},1032,["onClick","onRemove"]))),128))])])):p("",!0),e("div",Be,[a(ae,{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t),outlined:"",placeholder:"Enter token contract address",label:"Token Address",rules:[t=>!t||Q(t)||"Invalid address"]},{prepend:o(()=>[a(g,{name:"mdi-coin"})]),_:1},8,["modelValue","rules"]),a($,{unelevated:"",rounded:"",color:"primary",label:"Add Token","icon-right":"mdi-plus","no-caps":"",loading:B.value,disable:!u.value||!Q(u.value),onClick:z,class:"add-token-btn"},null,8,["loading","disable"])])]),_:1})]),_:1})])):m(n)?(r(),v("div",Te,[a(y,{elevated:""},{default:o(()=>[a(b,{class:"text-center"},{default:o(()=>[a(g,{name:"mdi-alert-circle",size:"64px",color:"negative",class:"q-mb-md"}),s[10]||(s[10]=e("h3",{class:"text-h6 q-mb-sm"},"Address Not Found",-1)),e("p",Se,c(m(n)),1),a($,{unelevated:"",rounded:"",color:"primary",label:"Go Back",icon:"mdi-arrow-left",onClick:s[2]||(s[2]=t=>l.$router.back())})]),_:1})]),_:1})])):p("",!0)])]),_:1}))}}),Le=R($e,[["__scopeId","data-v-ff36d6bd"]]);export{Le as default};
