import{z as L,$ as A,A as q,r as G,a as Q,o as R,L as d,D as r,a0 as E,X as M,K as l,F as i,E as a,G as c,B as u,C as t,Q as H,H as o,N as p,S as W,M as m,I as J,J as K}from"./index-DiyrpTSE.js";import{Q as B,a as v}from"./QSeparator-CTLvRlRf.js";import{u as X,Q as j,B as b,a as h}from"./search-store-BJWFpL6d.js";import{Q as O,a as Y,b as C}from"./QItem-Dc6L5wLM.js";import{Q as Z}from"./QTooltip-CAKvGxt-.js";import{u as ss}from"./chain-store-Ceq43Kru.js";import{L as as,W as _}from"./LoadingMonster-p3-yqGA9.js";import{P as es}from"./PillButton-C-HBdToH.js";import{_ as ts}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./focusout-esBpzBkP.js";const os={class:"page-content"},ls={key:0,class:"transaction-details fade-in"},ns={class:"page-header"},rs={class:"page-subtitle"},is={class:"status-text"},ds={class:"info-row"},cs={class:"info-value"},us={class:"info-row"},vs={class:"info-value"},fs={class:"info-row"},ms={class:"info-value"},ps={key:1,class:"text-grey-6"},gs={class:"info-row"},_s={class:"info-value"},ks={class:"info-row"},ys={class:"info-value value-amount"},bs={key:0,class:"info-usd text-grey-7"},hs={key:0,class:"info-row"},Cs={class:"info-value"},Ts={key:0,class:"info-usd text-grey-7"},xs={class:"info-row"},ws={class:"info-value mono-text"},Ss={class:"info-row"},Qs={class:"info-value"},Bs={key:0},Fs={class:"text-grey-6"},Is={key:1,class:"text-grey-6"},Ns={class:"info-row"},$s={class:"info-value"},Us={key:2,class:"info-row"},zs={class:"info-value mono-text"},Ds={class:"info-row"},Vs={class:"info-value mono-text"},Ps={class:"card-title"},Ls={class:"log-addresses"},As={class:"log-address-row"},qs={class:"log-address-row"},Gs={class:"input-data"},Rs={key:1,class:"error-container fade-in"},Es=L({__name:"TransactionDetail",setup(Ms){const F=E(),x=M(),g=ss(),I=X(),w=A(),{currentChain:k,loading:N,error:$}=q(g),e=G(null),U=Q(()=>e.value?e.value.logs&&e.value.logs.length>0?"Contract Interaction":g.getTransactionType(e.value.input):"Unknown"),T=Q(()=>!e.value?.gasUsed||!e.value?.gasPrice?null:g.calculateTransactionCost(e.value.gasUsed,e.value.gasPrice)),z=f=>new Date(Number(f)*1e3).toLocaleString(),y=f=>{x.push({name:"address",params:{address:f}})},D=()=>{x.push({name:"home"})},V=async()=>{const f=F.params.hash;try{e.value=await g.getTransaction(f),console.log("Transaction loaded:",{hash:e.value.hash,logsCount:e.value.logs?.length||0,logs:e.value.logs}),I.addSearch(f,"Transaction",g.currentChainId)}catch(s){console.error("Failed to load transaction:",s)}};return R(()=>{V()}),(f,s)=>(l(),d(j,{class:"transaction-page"},{default:r(()=>[c(N)?(l(),d(as,{key:0,message:"Fetching transaction data...",onCancel:D})):i("",!0),a("div",os,[e.value?(l(),u("div",ls,[a("div",ns,[t(H,{flat:"",round:"",icon:"mdi-arrow-left",onClick:s[0]||(s[0]=n=>f.$router.back()),class:"back-btn"}),a("div",null,[s[4]||(s[4]=a("h1",{class:"page-title"},"Transaction Detail",-1)),a("p",rs,"View transaction information on "+o(c(k)?.name),1)])]),t(b,{class:"status-card slide-up-soft",elevated:""},{default:r(()=>[t(h,{class:"status-content"},{default:r(()=>[t(p,{name:e.value.status==="success"?"mdi-check-circle":"mdi-close-circle",color:e.value.status==="success"?"positive":"negative",size:"48px"},null,8,["name","color"]),a("div",is,[s[5]||(s[5]=a("div",{class:"status-label"},"Status",-1)),a("div",{class:W(["status-value",`status-value--${e.value.status}`])},o(e.value.status==="success"?"Success":"Failed"),3)]),e.value.confirmations>0?(l(),d(B,{key:0,color:"primary",label:`${e.value.confirmations} confirmations`,class:"confirmations-badge"},null,8,["label"])):i("",!0)]),_:1})]),_:1}),t(b,{class:"info-card slide-up-soft stagger-1",bordered:""},{default:r(()=>[t(h,null,{default:r(()=>[a("div",ds,[s[6]||(s[6]=a("div",{class:"info-label"},"Transaction Hash",-1)),a("div",cs,[t(_,{color:"primary",address:e.value.hash,"is-transaction-hash":!0,icon:"mdi-receipt-text"},null,8,["address"])])]),t(v,{class:"info-separator"}),a("div",us,[s[7]||(s[7]=a("div",{class:"info-label"},"From",-1)),a("div",vs,[t(_,{color:"primary",address:e.value.from,"is-transaction-hash":!0,clickable:"",onClick:s[1]||(s[1]=n=>y(e.value.from))},null,8,["address"])])]),t(v,{class:"info-separator"}),a("div",fs,[s[8]||(s[8]=a("div",{class:"info-label"},"To",-1)),a("div",ms,[e.value.to?(l(),d(_,{key:0,color:"primary",address:e.value.to,"is-transaction-hash":!0,clickable:"",onClick:s[2]||(s[2]=n=>y(e.value.to))},null,8,["address"])):(l(),u("span",ps,"Contract Creation"))])]),s[17]||(s[17]=m()),t(v,{class:"info-separator"}),a("div",gs,[s[9]||(s[9]=a("div",{class:"info-label"},"Transaction Type",-1)),a("div",_s,[t(B,{color:"primary",label:U.value},null,8,["label"])])]),t(v,{class:"info-separator"}),a("div",ks,[s[10]||(s[10]=a("div",{class:"info-label"},"Value",-1)),a("div",ys,[t(p,{name:"currency_exchange",size:"20px",color:"primary"}),a("span",null,o(e.value.formattedValue)+" "+o(c(k)?.chain.nativeCurrency.symbol),1)]),e.value.value>0n?(l(),u("div",bs," ≈ "+o(c(w).formatUsdValue(parseFloat(e.value.formattedValue),c(k)?.chain.nativeCurrency.symbol||""))+" USD ",1)):i("",!0)]),t(v,{class:"info-separator"}),T.value?(l(),u("div",hs,[s[11]||(s[11]=a("div",{class:"info-label"},"Transaction Fee",-1)),a("div",Cs,o(T.value.formattedCost)+" "+o(c(k)?.chain.nativeCurrency.symbol),1),T.value.cost>0?(l(),u("div",Ts," ≈ "+o(c(w).formatUsdValue(parseFloat(T.value.formattedCost),c(k)?.chain.nativeCurrency.symbol||""))+" USD ",1)):i("",!0)])):i("",!0),t(v,{class:"info-separator"}),a("div",xs,[s[12]||(s[12]=a("div",{class:"info-label"},"Block Number",-1)),a("div",ws,o(e.value.blockNumber.toString()),1)]),t(v,{class:"info-separator"}),a("div",Ss,[s[13]||(s[13]=a("div",{class:"info-label"},"Timestamp",-1)),a("div",Qs,[e.value.timestamp?(l(),u("span",Bs,[m(o(z(e.value.timestamp))+"  ",1),a("span",Fs," ("+o(c(g).getTimeAgo(e.value.timestamp))+") ",1)])):(l(),u("span",Is,"Pending..."))])]),t(v,{class:"info-separator"}),a("div",Ns,[s[14]||(s[14]=a("div",{class:"info-label"},"Gas Price",-1)),a("div",$s,o(e.value.formattedGasPrice)+" Gwei ",1)]),e.value.gasUsed?(l(),d(v,{key:1,class:"info-separator"})):i("",!0),e.value.gasUsed?(l(),u("div",Us,[s[15]||(s[15]=a("div",{class:"info-label"},"Gas Used",-1)),a("div",zs,o(e.value.gasUsed.toString()),1)])):i("",!0),t(v,{class:"info-separator"}),a("div",Ds,[s[16]||(s[16]=a("div",{class:"info-label"},"Nonce",-1)),a("div",Vs,o(e.value.nonce),1)])]),_:1})]),_:1}),e.value.logs&&e.value.logs.length>0?(l(),d(b,{key:0,class:"logs-card slide-up-soft stagger-2",bordered:""},{default:r(()=>[t(h,null,{default:r(()=>[a("h3",Ps,[t(p,{name:"mdi-swap-horizontal",size:"20px",color:"primary",class:"q-mr-sm"}),s[18]||(s[18]=m(" Token Transfers ",-1))]),t(Z,{separator:""},{default:r(()=>[(l(!0),u(J,null,K(e.value.logs,(n,P)=>(l(),d(O,{key:P,class:"log-item"},{default:r(()=>[t(Y,null,{default:r(()=>[t(C,{class:"log-token-name"},{default:r(()=>[m(o(n.tokenName)+" ("+o(n.tokenSymbol)+") ",1)]),_:2},1024),t(C,{caption:"",class:"log-type"},{default:r(()=>[m(o(n.type==="ERC20_Transfer"?"Token Transfer":n.type==="ERC721_Transfer"?"NFT Transfer":"ERC-1155 Transfer"),1)]),_:2},1024),a("div",Ls,[a("div",As,[s[19]||(s[19]=a("span",{class:"log-label"},"From:",-1)),t(_,{color:"primary",address:n.from,"is-transaction-hash":!0,icon:"mdi-account",clickable:"",onClick:S=>y(n.from)},null,8,["address","onClick"])]),a("div",qs,[s[20]||(s[20]=a("span",{class:"log-label"},"To:",-1)),t(_,{color:"primary",address:n.to,"is-transaction-hash":!0,icon:"mdi-account",clickable:"",onClick:S=>y(n.to)},null,8,["address","onClick"])])]),n.value?(l(),d(C,{key:0,class:"log-value"},{default:r(()=>[t(p,{name:"mdi-cash",size:"16px",class:"q-mr-xs"}),s[21]||(s[21]=m(" Amount: ",-1)),a("strong",null,o(n.value)+" "+o(n.tokenSymbol),1)]),_:2},1024)):i("",!0),n.tokenId?(l(),d(C,{key:1,class:"log-value"},{default:r(()=>[t(p,{name:"mdi-tag",size:"16px",class:"q-mr-xs"}),s[22]||(s[22]=m(" Token ID: ",-1)),a("strong",null,"#"+o(n.tokenId),1)]),_:2},1024)):i("",!0),t(C,{caption:"",class:"log-contract"},{default:r(()=>[t(p,{name:"mdi-file-code",size:"14px",class:"q-mr-xs"}),s[23]||(s[23]=m(" Contract: ",-1)),t(_,{color:"primary",address:n.tokenAddress,"is-transaction-hash":!0,icon:"mdi-file-code",clickable:"",onClick:S=>y(n.tokenAddress)},null,8,["address","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):i("",!0),e.value.input!=="0x"?(l(),d(b,{key:1,class:"input-card slide-up-soft stagger-2",bordered:""},{default:r(()=>[t(h,null,{default:r(()=>[s[24]||(s[24]=a("h3",{class:"card-title"},"Input Data",-1)),a("div",Gs,[a("code",null,o(e.value.input),1)])]),_:1})]),_:1})):i("",!0)])):c($)?(l(),u("div",Rs,[t(b,{elevated:""},{default:r(()=>[t(h,{class:"text-center"},{default:r(()=>[t(p,{name:"mdi-alert-circle",size:"64px",color:"negative",class:"q-mb-md"}),s[25]||(s[25]=a("h3",{class:"text-h6 q-mb-sm"},"Transaction Not Found",-1)),t(es,{label:"Go Back",icon:"mdi-arrow-left","bg-color":"#3b82f6","text-color":"#ffffff",onClick:s[3]||(s[3]=n=>f.$router.back())})]),_:1})]),_:1})])):i("",!0)])]),_:1}))}}),aa=ts(Es,[["__scopeId","data-v-e2461044"]]);export{aa as default};
