import{C as F,a as x,E as v,N as l,H as e,O as p,I as f,F as t,G as n,K as c,a3 as M,R as b,D as P,r as $,o as q,$ as U,J as m,Q as B,L as Q,M as V,X as W,S,P as G}from"./index-Wm0S3xPc.js";import{u as H,Q as J,a as _,B as h}from"./search-store-C46R9OL-.js";import{_ as R,A as K,Q as O,D as X}from"./_plugin-vue_export-helper-BD_jKrkw.js";import{L as j,W as Y,Q as Z}from"./LoadingMonster-Mt2yiDT0.js";import{Q as ee}from"./QInput-D0D1fzyU.js";import"./focusout-C962D6ot.js";const se={class:"token-row__icon"},ae={class:"text-subtitle1"},te={class:"token-row__info"},oe={class:"token-row__name"},ne={class:"token-row__subtitle"},de={class:"token-row__balance"},le={class:"token-row__amount"},re={key:0,class:"token-row__usd"},ie=F({__name:"TokenRow",props:{token:{},usdValue:{},clickable:{type:Boolean,default:!1}},emits:["click"],setup(u,{emit:C}){const k=u,r=C,A=x(()=>k.token.symbol.charAt(0).toUpperCase()),g=x(()=>{const a=["primary","secondary","positive","info","warning"],i=k.token.symbol.charCodeAt(0)%a.length;return a[i]}),w=x(()=>{const a=parseFloat(k.token.balance);return a===0?"0":a<1e-8?"< 0.00000001":a<1?a.toFixed(8):a<1e3?a.toFixed(Math.min(8,2)):a.toLocaleString("en-US",{maximumFractionDigits:8,minimumFractionDigits:0})}),y=()=>{k.clickable&&r("click")};return(a,i)=>(l(),v("div",{class:"token-row",onClick:y},[e("div",se,[t(M,{size:"40px",color:g.value,"text-color":"white"},{default:n(()=>[e("span",ae,c(A.value),1)]),_:1},8,["color"])]),e("div",te,[e("div",oe,c(u.token.symbol),1),e("div",ne,c(u.token.name),1)]),e("div",de,[e("div",le,c(w.value),1),u.usdValue?(l(),v("div",re,"$"+c(u.usdValue),1)):f("",!0)]),u.clickable?(l(),p(b,{key:0,name:"chevron_right",size:"20px",color:"grey-5"})):f("",!0)]))}}),ce=R(ie,[["__scopeId","data-v-f88c46c1"]]),ue={class:"page-content"},me={key:0,class:"address-details fade-in"},ve={class:"page-header"},ke={class:"page-subtitle"},pe={class:"address-header"},fe={class:"address-info"},_e={class:"balance-header"},he={class:"balance-amount"},be={class:"balance-value"},ge={class:"balance-symbol"},ye={key:0,class:"saved-tokens-section"},Ce={class:"saved-tokens-chips"},Ae={class:"add-token-form"},we={key:1,class:"error-container fade-in"},Te={class:"text-grey-7 q-mb-lg"},xe=F({__name:"AddressDetail",setup(u){const C=U(),k=W(),r=K(),A=H(),{currentChain:g,loading:w,error:y}=P(r),a=$(null),i=$(""),T=$(!1),I=d=>X(d),D=()=>{k.push({name:"home"})},L=async()=>{const d=C.params.address;try{A.addSearch(d,"Address",r.currentChainId),a.value=await r.getWalletInfo(d)}catch(s){console.error("Failed to load address info:",s)}},N=async()=>{if(!(!a.value||!i.value)){T.value=!0;try{const d=await r.getTokenBalance(i.value,a.value.address);a.value.tokens.push(d),r.addSavedToken(i.value,d.symbol,r.currentChainId),S.create({message:`Added ${d.symbol}`,color:"positive",icon:"mdi-check-circle",position:"top",timeout:2e3}),i.value=""}catch{S.create({message:"Failed to add token. Please check the address.",color:"negative",icon:"mdi-alert-circle",position:"top",timeout:3e3})}finally{T.value=!1}}},z=d=>{r.removeSavedToken(d,r.currentChainId),S.create({message:"Token removed from saved list",color:"info",icon:"mdi-delete",position:"top",timeout:2e3})};return q(()=>{L()}),(d,s)=>(l(),p(J,{class:"address-page"},{default:n(()=>[m(w)?(l(),p(j,{key:0,message:"Loading address data...",onCancel:D})):f("",!0),e("div",ue,[a.value?(l(),v("div",me,[e("div",ve,[t(B,{flat:"",round:"",icon:"mdi-arrow-left",onClick:s[0]||(s[0]=o=>d.$router.back()),class:"back-btn"}),e("div",null,[s[3]||(s[3]=e("h1",{class:"page-title"},"Address Detail",-1)),e("p",ke,c(m(g)?.name),1)])]),t(h,{class:"address-card slide-up-soft",elevated:""},{default:n(()=>[t(_,null,{default:n(()=>[e("div",pe,[t(b,{name:"mdi-wallet",size:"48px",color:"primary"}),e("div",fe,[s[4]||(s[4]=e("div",{class:"address-label"},"Address",-1)),t(Y,{color:"primary",address:a.value.address,"is-transaction-hash":!0},null,8,["address"])])])]),_:1})]),_:1}),t(h,{class:"balance-card slide-up-soft stagger-1",bordered:""},{default:n(()=>[t(_,null,{default:n(()=>[e("div",_e,[s[5]||(s[5]=e("h3",{class:"card-title"},"Native Balance",-1)),t(b,{name:"mdi-cash",size:"24px",color:"primary"})]),e("div",he,[e("span",be,c(a.value.formattedBalance),1),e("span",ge,c(m(g)?.chain.nativeCurrency.symbol),1)])]),_:1})]),_:1}),a.value.tokens.length>0?(l(),p(h,{key:0,class:"tokens-card slide-up-soft stagger-2",bordered:""},{default:n(()=>[t(_,null,{default:n(()=>[s[6]||(s[6]=e("h3",{class:"card-title"},"Token Balances",-1)),t(O,{separator:""},{default:n(()=>[(l(!0),v(Q,null,V(a.value.tokens,o=>(l(),p(ce,{key:o.address,token:{symbol:o.symbol,name:o.name,balance:o.formattedBalance},clickable:""},null,8,["token"]))),128))]),_:1})]),_:1})]),_:1})):f("",!0),t(h,{class:"add-token-card slide-up-soft stagger-4",bordered:""},{default:n(()=>[t(_,null,{default:n(()=>[s[8]||(s[8]=e("h3",{class:"card-title"},"Add Custom Token",-1)),s[9]||(s[9]=e("p",{class:"card-subtitle"}," Enter an ERC20 token contract address to check its balance for this address ",-1)),m(r).currentChainSavedTokens.length>0?(l(),v("div",ye,[s[7]||(s[7]=e("div",{class:"saved-tokens-title"},"Previously Added Tokens:",-1)),e("div",Ce,[(l(!0),v(Q,null,V(m(r).currentChainSavedTokens,o=>(l(),p(Z,{key:o.address,clickable:"",outline:"",color:"primary",icon:"mdi-coin",onClick:E=>i.value=o.address,removable:"",onRemove:E=>z(o.address),class:"saved-token-chip"},{default:n(()=>[G(c(o.symbol),1)]),_:2},1032,["onClick","onRemove"]))),128))])])):f("",!0),e("div",Ae,[t(ee,{modelValue:i.value,"onUpdate:modelValue":s[1]||(s[1]=o=>i.value=o),outlined:"",placeholder:"Enter token contract address",label:"Token Address",rules:[o=>!o||I(o)||"Invalid address"]},{prepend:n(()=>[t(b,{name:"mdi-coin"})]),_:1},8,["modelValue","rules"]),t(B,{unelevated:"",rounded:"",color:"primary",label:"Add Token","icon-right":"mdi-plus","no-caps":"",loading:T.value,disable:!i.value||!I(i.value),onClick:N,class:"add-token-btn"},null,8,["loading","disable"])])]),_:1})]),_:1})])):m(y)?(l(),v("div",we,[t(h,{elevated:""},{default:n(()=>[t(_,{class:"text-center"},{default:n(()=>[t(b,{name:"mdi-alert-circle",size:"64px",color:"negative",class:"q-mb-md"}),s[10]||(s[10]=e("h3",{class:"text-h6 q-mb-sm"},"Address Not Found",-1)),e("p",Te,c(m(y)),1),t(B,{unelevated:"",rounded:"",color:"primary",label:"Go Back",icon:"mdi-arrow-left",onClick:s[2]||(s[2]=o=>d.$router.back())})]),_:1})]),_:1})])):f("",!0)])]),_:1}))}}),Fe=R(xe,[["__scopeId","data-v-d11566ae"]]);export{Fe as default};
