import{z as $,r as k,A as I,L as p,D as s,X as D,K as n,E as i,C as t,B as Q,F as b,Y as L,Q as B,G as P,M as h,I as z,J as K,Z as F,N as w,H as f,_ as O,O as c}from"./index-DiyrpTSE.js";import{u as U,Q as G,B as V,a as N}from"./search-store-BJWFpL6d.js";import{A as J,Q as M}from"./QTooltip-CAKvGxt-.js";import{Q as X,a as y,b as A}from"./QItem-Dc6L5wLM.js";import{P as Y}from"./PillButton-C-HBdToH.js";import{P as Z}from"./PillInput-B05VZbju.js";import{i as j,s as W,u as ee,a as ae}from"./chain-store-Ceq43Kru.js";import{u as te}from"./bitcoin-store-BDM-WsTL.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";function re(d){return j(d)&&W(d)===32}const oe={class:"search-container fade-in"},ie={key:0,class:"recent-section slide-up-soft stagger-2"},ne={class:"recent-header"},ce=$({__name:"IndexPage",setup(d){const l=D(),g=U(),_=ee(),v=te(),o=k(""),u=k(!1),{recentSearches:S}=I(g),{currentChainId:C}=I(_),x=e=>_.SUPPORTED_CHAINS[e]?.name||e,m=async()=>{const e=o.value.trim();if(!e){c.create({message:"Please enter a search query",color:"warning",icon:"mdi-alert",position:"top",timeout:2e3});return}u.value=!0;try{if(v.isValidBitcoinAddress(e)){await l.push({name:"bitcoin-address",params:{address:e}});return}else if(v.isValidBitcoinTxid(e)){await l.push({name:"bitcoin-transaction",params:{txid:e}});return}re(e)?await l.push({name:"transaction",params:{hash:e}}):ae(e)?await l.push({name:"address",params:{address:e}}):c.create({message:"Invalid address or transaction hash",color:"negative",icon:"mdi-alert-circle",position:"top",timeout:3e3})}catch(a){console.error("Search error:",a),c.create({message:"Search failed. Please try again.",color:"negative",icon:"mdi-alert-circle",position:"top",timeout:3e3})}finally{u.value=!1}},R=async e=>{const a=e.chainId||"ethereum";a!==C.value&&(C.value=a,c.create({message:`Switched to ${x(a)}`,color:"info",icon:"mdi-check-circle",position:"top",timeout:2e3})),o.value=e.query,m()},T=()=>{g.clearSearchHistory(),c.create({message:"Search history cleared",color:"positive",icon:"mdi-check-circle",position:"top",timeout:2e3})},q=e=>({Transaction:"mdi-receipt-text",Address:"mdi-wallet"})[e]||"mdi-magnify",E=e=>!e||e.length<=12?e:`${e.slice(0,6)}xxxx${e.slice(-4)}`;return(e,a)=>(n(),p(G,{class:"search-page"},{default:s(()=>[i("div",oe,[a[4]||(a[4]=i("div",{class:"hero-section"},[i("h1",{class:"hero-title"},"Blockchain Explorer"),i("p",{class:"hero-subtitle"}," Search for transaction hash or address across multiple chain ")],-1)),t(V,{class:"search-card",elevated:""},{default:s(()=>[t(N,{class:"search-card__content"},{default:s(()=>[t(Z,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=r=>o.value=r),placeholder:"Enter tx hash or address","prepend-icon":"mdi-magnify",class:"search-input",onKeyup:L(m,["enter"])},{append:s(()=>[o.value?(n(),p(B,{key:0,flat:"",dense:"",round:"",icon:"mdi-close",onClick:a[0]||(a[0]=r=>o.value=""),color:"grey-6"})):b("",!0)]),_:1},8,["modelValue"]),t(Y,{label:"Search",icon:"mdi-magnify",disabled:!o.value||u.value,onClick:m,class:"search-btn"},null,8,["disabled"])]),_:1})]),_:1}),P(S).length>0?(n(),Q("div",ie,[t(V,{bordered:""},{default:s(()=>[t(N,null,{default:s(()=>[i("div",ne,[a[3]||(a[3]=i("h3",{class:"recent-title"},"Recent Searches",-1)),t(B,{flat:"",dense:"",round:"",size:"sm",icon:"mdi-close-circle",onClick:T},{default:s(()=>[t(J,null,{default:s(()=>[...a[2]||(a[2]=[h("Clear all",-1)])]),_:1})]),_:1})]),t(M,{separator:""},{default:s(()=>[(n(!0),Q(z,null,K(P(S),(r,H)=>F((n(),p(X,{key:H,clickable:"",onClick:le=>R(r),class:"recent-item"},{default:s(()=>[t(y,{avatar:""},{default:s(()=>[t(w,{name:q(r.type),color:"primary"},null,8,["name"])]),_:2},1024),t(y,null,{default:s(()=>[t(A,{class:"recent-query"},{default:s(()=>[h(f(E(r.query)),1)]),_:2},1024),t(A,{caption:""},{default:s(()=>[h(f(r.type)+" Â· "+f(x(r.chainId||"ethereum")),1)]),_:2},1024)]),_:2},1024),t(y,{side:""},{default:s(()=>[t(w,{name:"mdi-chevron-right",color:"grey-5"})]),_:1})]),_:2},1032,["onClick"])),[[O]])),128))]),_:1})]),_:1})]),_:1})])):b("",!0)])]),_:1}))}}),ve=se(ce,[["__scopeId","data-v-bfe7aa52"]]);export{ve as default};
