import{c as L,a as b,h as U,u as E,g as M,B as H,_ as W,C as j,r as J,o as K,N as u,F as r,$ as O,V as X,M as l,H as d,G as s,I as v,D as m,E as t,Q as F,J as n,P as _,a0 as Y,O as p,K as Z,L as ee}from"./index-DewENMIW.js";import{u as se,Q as ae,B as $,a as w}from"./search-store-W9MHfDtj.js";import{f as te,j as oe,A as ne,Q as le,_ as ie}from"./_plugin-vue_export-helper-BuWph6zF.js";import{Q as re,a as de,b as B}from"./QItem-surQeLoA.js";import{L as ce,W as x}from"./LoadingMonster-BQAvHIxR.js";import"./focusout-DswQHd7s.js";const ue=["top","middle","bottom"],V=L({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:o=>ue.includes(o)}},setup(o,{slots:T}){const h=b(()=>o.align!==void 0?{verticalAlign:o.align}:null),c=b(()=>{const k=o.outline===!0&&o.color||o.textColor;return`q-badge flex inline items-center no-wrap q-badge--${o.multiLine===!0?"multi":"single"}-line`+(o.outline===!0?" q-badge--outline":o.color!==void 0?` bg-${o.color}`:"")+(k!==void 0?` text-${k}`:"")+(o.floating===!0?" q-badge--floating":"")+(o.rounded===!0?" q-badge--rounded":"")+(o.transparent===!0?" q-badge--transparent":"")});return()=>U("div",{class:c.value,style:h.value,role:"status","aria-label":o.label},E(T.default,o.label!==void 0?[o.label]:[]))}}),ve={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},I={xs:2,sm:4,md:8,lg:16,xl:24},f=L({name:"QSeparator",props:{...te,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(o){const T=M(),h=oe(o,T.proxy.$q),c=b(()=>o.vertical===!0?"vertical":"horizontal"),k=b(()=>` q-separator--${c.value}`),q=b(()=>o.inset!==!1?`${k.value}-${ve[o.inset]}`:""),y=b(()=>`q-separator${k.value}${q.value}`+(o.color!==void 0?` bg-${o.color}`:"")+(h.value===!0?" q-separator--dark":"")),D=b(()=>{const C={};if(o.size!==void 0&&(C[o.vertical===!0?"width":"height"]=o.size),o.spaced!==!1){const a=o.spaced===!0?`${I.md}px`:o.spaced in I?`${I[o.spaced]}px`:o.spaced,Q=o.vertical===!0?["Left","Right"]:["Top","Bottom"];C[`margin${Q[0]}`]=C[`margin${Q[1]}`]=a}return C});return()=>U("hr",{class:y.value,style:D.value,"aria-orientation":c.value})}}),me={class:"page-content"},fe={key:0,class:"transaction-details fade-in"},ge={class:"page-header"},be={class:"page-subtitle"},pe={class:"status-text"},ke={class:"info-row"},ye={class:"info-value"},_e={class:"info-row"},he={class:"info-value"},Ce={class:"info-row"},xe={class:"info-value"},Te={key:1,class:"text-grey-6"},Se={class:"info-row"},$e={class:"info-value"},we={class:"info-row"},Be={class:"info-value value-amount"},qe={key:0,class:"info-usd text-grey-7"},Qe={key:0,class:"info-row"},ze={class:"info-value"},De={key:0,class:"info-usd text-grey-7"},Ie={class:"info-row"},Ne={class:"info-value mono-text"},Fe={class:"info-row"},Ve={class:"info-value"},Le={key:0},Ue={class:"text-grey-6"},Pe={key:1,class:"text-grey-6"},Ae={class:"info-row"},Re={class:"info-value"},Ge={key:2,class:"info-row"},Ee={class:"info-value mono-text"},Me={class:"info-row"},He={class:"info-value mono-text"},We={class:"card-title"},je={class:"log-addresses"},Je={class:"log-address-row"},Ke={class:"log-address-row"},Oe={class:"input-data"},Xe={key:1,class:"error-container fade-in"},Ye=H({__name:"TransactionDetail",setup(o){const T=O(),h=X(),c=ne(),k=se(),q=W(),{currentChain:y,loading:D,error:C}=j(c),a=J(null),Q=b(()=>a.value?a.value.logs&&a.value.logs.length>0?"Contract Interaction":c.getTransactionType(a.value.input):"Unknown"),z=b(()=>!a.value?.gasUsed||!a.value?.gasPrice?null:c.calculateTransactionCost(a.value.gasUsed,a.value.gasPrice)),P=g=>new Date(Number(g)*1e3).toLocaleString(),S=g=>{h.push({name:"address",params:{address:g}})},A=()=>{h.push({name:"home"})},R=async()=>{const g=T.params.hash;try{a.value=await c.getTransaction(g),console.log("Transaction loaded:",{hash:a.value.hash,logsCount:a.value.logs?.length||0,logs:a.value.logs}),k.addSearch(g,"Transaction",c.currentChainId)}catch(e){console.error("Failed to load transaction:",e)}};return K(()=>{R()}),(g,e)=>(l(),u(ae,{class:"transaction-page"},{default:r(()=>[v(D)?(l(),u(ce,{key:0,message:"Fetching transaction from blockchain...",onCancel:A})):d("",!0),s("div",me,[a.value?(l(),m("div",fe,[s("div",ge,[t(F,{flat:"",round:"",icon:"mdi-arrow-left",onClick:e[0]||(e[0]=i=>g.$router.back()),class:"back-btn"}),s("div",null,[e[4]||(e[4]=s("h1",{class:"page-title"},"Transaction Detail",-1)),s("p",be,"View transaction information on "+n(v(y)?.name),1)])]),t($,{class:"status-card slide-up-soft",elevated:""},{default:r(()=>[t(w,{class:"status-content"},{default:r(()=>[t(_,{name:a.value.status==="success"?"mdi-check-circle":"mdi-close-circle",color:a.value.status==="success"?"positive":"negative",size:"48px"},null,8,["name","color"]),s("div",pe,[e[5]||(e[5]=s("div",{class:"status-label"},"Status",-1)),s("div",{class:Y(["status-value",`status-value--${a.value.status}`])},n(a.value.status==="success"?"Success":"Failed"),3)]),a.value.confirmations>0?(l(),u(V,{key:0,color:"primary",label:`${a.value.confirmations} confirmations`,class:"confirmations-badge"},null,8,["label"])):d("",!0)]),_:1})]),_:1}),t($,{class:"info-card slide-up-soft stagger-1",bordered:""},{default:r(()=>[t(w,null,{default:r(()=>[s("div",ke,[e[6]||(e[6]=s("div",{class:"info-label"},"Transaction Hash",-1)),s("div",ye,[t(x,{color:"primary",address:a.value.hash,"is-transaction-hash":!0,icon:"mdi-receipt-text"},null,8,["address"])])]),t(f,{class:"info-separator"}),s("div",_e,[e[7]||(e[7]=s("div",{class:"info-label"},"From",-1)),s("div",he,[t(x,{color:"primary",address:a.value.from,"is-transaction-hash":!0,clickable:"",onClick:e[1]||(e[1]=i=>S(a.value.from))},null,8,["address"])])]),t(f,{class:"info-separator"}),s("div",Ce,[e[8]||(e[8]=s("div",{class:"info-label"},"To",-1)),s("div",xe,[a.value.to?(l(),u(x,{key:0,color:"primary",address:a.value.to,"is-transaction-hash":!0,clickable:"",onClick:e[2]||(e[2]=i=>S(a.value.to))},null,8,["address"])):(l(),m("span",Te,"Contract Creation"))])]),e[17]||(e[17]=p()),t(f,{class:"info-separator"}),s("div",Se,[e[9]||(e[9]=s("div",{class:"info-label"},"Transaction Type",-1)),s("div",$e,[t(V,{color:"primary",label:Q.value},null,8,["label"])])]),t(f,{class:"info-separator"}),s("div",we,[e[10]||(e[10]=s("div",{class:"info-label"},"Value",-1)),s("div",Be,[t(_,{name:"currency_exchange",size:"20px",color:"primary"}),s("span",null,n(a.value.formattedValue)+" "+n(v(y)?.chain.nativeCurrency.symbol),1)]),a.value.value>0n?(l(),m("div",qe," ("+n(v(q).formatUsdValue(parseFloat(a.value.formattedValue),v(y)?.chain.nativeCurrency.symbol||""))+" USD) ",1)):d("",!0)]),t(f,{class:"info-separator"}),z.value?(l(),m("div",Qe,[e[11]||(e[11]=s("div",{class:"info-label"},"Transaction Fee",-1)),s("div",ze,n(z.value.formattedCost)+" "+n(v(y)?.chain.nativeCurrency.symbol),1),z.value.cost>0?(l(),m("div",De," ("+n(v(q).formatUsdValue(parseFloat(z.value.formattedCost),v(y)?.chain.nativeCurrency.symbol||""))+" USD) ",1)):d("",!0)])):d("",!0),t(f,{class:"info-separator"}),s("div",Ie,[e[12]||(e[12]=s("div",{class:"info-label"},"Block Number",-1)),s("div",Ne,n(a.value.blockNumber.toString()),1)]),t(f,{class:"info-separator"}),s("div",Fe,[e[13]||(e[13]=s("div",{class:"info-label"},"Timestamp",-1)),s("div",Ve,[a.value.timestamp?(l(),m("span",Le,[p(n(P(a.value.timestamp))+"Â  ",1),s("span",Ue," ("+n(v(c).getTimeAgo(a.value.timestamp))+") ",1)])):(l(),m("span",Pe,"Pending..."))])]),t(f,{class:"info-separator"}),s("div",Ae,[e[14]||(e[14]=s("div",{class:"info-label"},"Gas Price",-1)),s("div",Re,n(a.value.formattedGasPrice)+" Gwei ",1)]),a.value.gasUsed?(l(),u(f,{key:1,class:"info-separator"})):d("",!0),a.value.gasUsed?(l(),m("div",Ge,[e[15]||(e[15]=s("div",{class:"info-label"},"Gas Used",-1)),s("div",Ee,n(a.value.gasUsed.toString()),1)])):d("",!0),t(f,{class:"info-separator"}),s("div",Me,[e[16]||(e[16]=s("div",{class:"info-label"},"Nonce",-1)),s("div",He,n(a.value.nonce),1)])]),_:1})]),_:1}),a.value.logs&&a.value.logs.length>0?(l(),u($,{key:0,class:"logs-card slide-up-soft stagger-2",bordered:""},{default:r(()=>[t(w,null,{default:r(()=>[s("h3",We,[t(_,{name:"mdi-swap-horizontal",size:"20px",color:"primary",class:"q-mr-sm"}),e[18]||(e[18]=p(" Token Transfers ",-1))]),t(le,{separator:""},{default:r(()=>[(l(!0),m(Z,null,ee(a.value.logs,(i,G)=>(l(),u(re,{key:G,class:"log-item"},{default:r(()=>[t(de,null,{default:r(()=>[t(B,{class:"log-token-name"},{default:r(()=>[p(n(i.tokenName)+" ("+n(i.tokenSymbol)+") ",1)]),_:2},1024),t(B,{caption:"",class:"log-type"},{default:r(()=>[p(n(i.type==="ERC20_Transfer"?"Token Transfer":i.type==="ERC721_Transfer"?"NFT Transfer":"ERC-1155 Transfer"),1)]),_:2},1024),s("div",je,[s("div",Je,[e[19]||(e[19]=s("span",{class:"log-label"},"From:",-1)),t(x,{color:"primary",address:i.from,"is-transaction-hash":!0,icon:"mdi-account",clickable:"",onClick:N=>S(i.from)},null,8,["address","onClick"])]),s("div",Ke,[e[20]||(e[20]=s("span",{class:"log-label"},"To:",-1)),t(x,{color:"primary",address:i.to,"is-transaction-hash":!0,icon:"mdi-account",clickable:"",onClick:N=>S(i.to)},null,8,["address","onClick"])])]),i.value?(l(),u(B,{key:0,class:"log-value"},{default:r(()=>[t(_,{name:"mdi-cash",size:"16px",class:"q-mr-xs"}),e[21]||(e[21]=p(" Amount: ",-1)),s("strong",null,n(i.value)+" "+n(i.tokenSymbol),1)]),_:2},1024)):d("",!0),i.tokenId?(l(),u(B,{key:1,class:"log-value"},{default:r(()=>[t(_,{name:"mdi-tag",size:"16px",class:"q-mr-xs"}),e[22]||(e[22]=p(" Token ID: ",-1)),s("strong",null,"#"+n(i.tokenId),1)]),_:2},1024)):d("",!0),t(B,{caption:"",class:"log-contract"},{default:r(()=>[t(_,{name:"mdi-file-code",size:"14px",class:"q-mr-xs"}),e[23]||(e[23]=p(" Contract: ",-1)),t(x,{color:"primary",address:i.tokenAddress,"is-transaction-hash":!0,icon:"mdi-file-code",clickable:"",onClick:N=>S(i.tokenAddress)},null,8,["address","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):d("",!0),a.value.input!=="0x"?(l(),u($,{key:1,class:"input-card slide-up-soft stagger-2",bordered:""},{default:r(()=>[t(w,null,{default:r(()=>[e[24]||(e[24]=s("h3",{class:"card-title"},"Input Data",-1)),s("div",Oe,[s("code",null,n(a.value.input),1)])]),_:1})]),_:1})):d("",!0)])):v(C)?(l(),m("div",Xe,[t($,{elevated:""},{default:r(()=>[t(w,{class:"text-center"},{default:r(()=>[t(_,{name:"mdi-alert-circle",size:"64px",color:"negative",class:"q-mb-md"}),e[25]||(e[25]=s("h3",{class:"text-h6 q-mb-sm"},"Transaction Not Found",-1)),t(F,{unelevated:"",rounded:"",color:"primary",label:"Go Back",icon:"mdi-arrow-left",onClick:e[3]||(e[3]=i=>g.$router.back())})]),_:1})]),_:1})])):d("",!0)])]),_:1}))}}),ns=ie(Ye,[["__scopeId","data-v-393624c9"]]);export{ns as default};
