import{B as E,r as x,C as I,N as m,F as s,V as H,M as c,G as n,E as t,D as b,H as B,X as $,Q as p,P as h,I as w,O as f,K as L,L as K,Y as z,J as g,Z as F,R as i}from"./index-DewENMIW.js";import{Q as O}from"./QInput-DxKTH9ri.js";import{u as U,Q as G,B as N,a as P,b as J}from"./search-store-W9MHfDtj.js";import{Q as M,a as y,b as R}from"./QItem-surQeLoA.js";import{B as X,C as Y,A as Z,Q as j,D as W,_ as ee}from"./_plugin-vue_export-helper-BuWph6zF.js";function ae(l){return X(l)&&Y(l)===32}const te={class:"search-container fade-in"},se={key:0,class:"recent-section slide-up-soft stagger-2"},re={class:"recent-header"},oe=E({__name:"IndexPage",setup(l){const v=H(),_=U(),S=Z(),o=x(""),d=x(!1),{recentSearches:C}=I(_),{currentChainId:k}=I(S),Q=e=>S.SUPPORTED_CHAINS[e]?.name||e,u=async()=>{const e=o.value.trim();if(!e){i.create({message:"Please enter a search query",color:"warning",icon:"mdi-alert",position:"top",timeout:2e3});return}d.value=!0;try{ae(e)?await v.push({name:"transaction",params:{hash:e}}):W(e)?await v.push({name:"address",params:{address:e}}):i.create({message:"Invalid address or transaction hash",color:"negative",icon:"mdi-alert-circle",position:"top",timeout:3e3})}catch(a){console.error("Search error:",a),i.create({message:"Search failed. Please try again.",color:"negative",icon:"mdi-alert-circle",position:"top",timeout:3e3})}finally{d.value=!1}},V=async e=>{const a=e.chainId||"ethereum";a!==k.value&&(k.value=a,i.create({message:`Switched to ${Q(a)}`,color:"info",icon:"mdi-check-circle",position:"top",timeout:2e3})),o.value=e.query,u()},T=()=>{_.clearSearchHistory(),i.create({message:"Search history cleared",color:"positive",icon:"mdi-check-circle",position:"top",timeout:2e3})},q=e=>({Transaction:"mdi-receipt-text",Address:"mdi-wallet"})[e]||"mdi-magnify",A=e=>!e||e.length<=12?e:`${e.slice(0,6)}xxxx${e.slice(-4)}`;return(e,a)=>(c(),m(G,{class:"search-page"},{default:s(()=>[n("div",te,[a[4]||(a[4]=n("div",{class:"hero-section"},[n("h1",{class:"hero-title"},"Blockchain Explorer"),n("p",{class:"hero-subtitle"}," Search for transaction hash or address across multiple chain ")],-1)),t(N,{class:"search-card",elevated:""},{default:s(()=>[t(P,{class:"search-card__content"},{default:s(()=>[t(O,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=r=>o.value=r),outlined:"",placeholder:"Enter tx hash or address",class:"search-input",onKeyup:$(u,["enter"])},{prepend:s(()=>[t(h,{name:"mdi-magnify",color:"grey-6"})]),append:s(()=>[o.value?(c(),m(p,{key:0,flat:"",dense:"",round:"",icon:"mdi-close",onClick:a[0]||(a[0]=r=>o.value=""),color:"grey-6"})):B("",!0)]),_:1},8,["modelValue"]),t(p,{unelevated:"",rounded:"",color:"primary",label:"Search","icon-right":"mdi-magnify","no-caps":"",class:"search-btn scale-on-press",loading:d.value,disable:!o.value,onClick:u},null,8,["loading","disable"])]),_:1})]),_:1}),w(C).length>0?(c(),b("div",se,[t(N,{bordered:""},{default:s(()=>[t(P,null,{default:s(()=>[n("div",re,[a[3]||(a[3]=n("h3",{class:"recent-title"},"Recent Searches",-1)),t(p,{flat:"",dense:"",round:"",size:"sm",icon:"mdi-close-circle",onClick:T},{default:s(()=>[t(J,null,{default:s(()=>[...a[2]||(a[2]=[f("Clear all",-1)])]),_:1})]),_:1})]),t(j,{separator:""},{default:s(()=>[(c(!0),b(L,null,K(w(C),(r,D)=>z((c(),m(M,{key:D,clickable:"",onClick:ne=>V(r),class:"recent-item"},{default:s(()=>[t(y,{avatar:""},{default:s(()=>[t(h,{name:q(r.type),color:"primary"},null,8,["name"])]),_:2},1024),t(y,null,{default:s(()=>[t(R,{class:"recent-query"},{default:s(()=>[f(g(A(r.query)),1)]),_:2},1024),t(R,{caption:""},{default:s(()=>[f(g(r.type)+" Â· "+g(Q(r.chainId||"ethereum")),1)]),_:2},1024)]),_:2},1024),t(y,{side:""},{default:s(()=>[t(h,{name:"mdi-chevron-right",color:"grey-5"})]),_:1})]),_:2},1032,["onClick"])),[[F]])),128))]),_:1})]),_:1})]),_:1})])):B("",!0)])]),_:1}))}}),me=ee(oe,[["__scopeId","data-v-42557e09"]]);export{me as default};
