import{z as $,r as b,A as k,L as f,D as s,S as D,K as n,E as i,C as t,B as I,F as Q,U as L,Q as B,G as P,M as p,I as z,J as K,V as U,N as w,H as h,X as F,O as c}from"./index-CdOfnMph.js";import{u as O,Q as G,B as V,a as N,b as J}from"./search-store-BzIiXSqb.js";import{Q as M,a as g,b as R}from"./QItem-B4nvqyaI.js";import{Q as X}from"./bitcoin-Da4x5qa8.js";import{P as j}from"./PillButton-eCAYzmn7.js";import{P as W}from"./PillInput-CGPethOm.js";import{i as Y,s as Z,u as ee,a as ae}from"./chain-store-B5bYJ3TH.js";import{u as te}from"./bitcoin-store-3gFLD2kJ.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";function re(d){return Y(d)&&Z(d)===32}const oe={class:"search-container fade-in"},ie={key:0,class:"recent-section slide-up-soft stagger-2"},ne={class:"recent-header"},ce=$({__name:"IndexPage",setup(d){const l=D(),y=O(),v=ee(),_=te(),o=b(""),u=b(!1),{recentSearches:S}=k(y),{currentChainId:x}=k(v),C=e=>v.SUPPORTED_CHAINS[e]?.name||e,m=async()=>{const e=o.value.trim();if(!e){c.create({message:"Please enter a search query",color:"warning",icon:"mdi-alert",position:"top",timeout:2e3});return}u.value=!0;try{if(_.isValidBitcoinAddress(e)){await l.push({name:"bitcoin-address",params:{address:e}});return}else if(_.isValidBitcoinTxid(e)){await l.push({name:"bitcoin-transaction",params:{txid:e}});return}re(e)?await l.push({name:"transaction",params:{hash:e}}):ae(e)?await l.push({name:"address",params:{address:e}}):c.create({message:"Invalid address or transaction hash",color:"negative",icon:"mdi-alert-circle",position:"top",timeout:3e3})}catch(a){console.error("Search error:",a),c.create({message:"Search failed. Please try again.",color:"negative",icon:"mdi-alert-circle",position:"top",timeout:3e3})}finally{u.value=!1}},T=async e=>{const a=e.chainId||"ethereum";a!==x.value&&(x.value=a,c.create({message:`Switched to ${C(a)}`,color:"info",icon:"mdi-check-circle",position:"top",timeout:2e3})),o.value=e.query,m()},A=()=>{y.clearSearchHistory(),c.create({message:"Search history cleared",color:"positive",icon:"mdi-check-circle",position:"top",timeout:2e3})},q=e=>({Transaction:"mdi-receipt-text",Address:"mdi-wallet"})[e]||"mdi-magnify",E=e=>!e||e.length<=12?e:`${e.slice(0,6)}xxxx${e.slice(-4)}`;return(e,a)=>(n(),f(G,{class:"search-page"},{default:s(()=>[i("div",oe,[a[4]||(a[4]=i("div",{class:"hero-section"},[i("h1",{class:"hero-title"},"Blockchain Explorer"),i("p",{class:"hero-subtitle"}," Search for transaction hash or address across multiple chain ")],-1)),t(V,{class:"search-card",elevated:""},{default:s(()=>[t(N,{class:"search-card__content"},{default:s(()=>[t(W,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=r=>o.value=r),placeholder:"Enter tx hash or address","prepend-icon":"mdi-magnify","bg-color":"#fafafa","text-color":"#111827",class:"search-input",onKeyup:L(m,["enter"])},{append:s(()=>[o.value?(n(),f(B,{key:0,flat:"",dense:"",round:"",icon:"mdi-close",onClick:a[0]||(a[0]=r=>o.value=""),color:"grey-6"})):Q("",!0)]),_:1},8,["modelValue"]),t(j,{label:"Search",icon:"mdi-magnify","bg-color":"#3b82f6","text-color":"#ffffff",disabled:!o.value||u.value,onClick:m,class:"search-btn"},null,8,["disabled"])]),_:1})]),_:1}),P(S).length>0?(n(),I("div",ie,[t(V,{bordered:""},{default:s(()=>[t(N,null,{default:s(()=>[i("div",ne,[a[3]||(a[3]=i("h3",{class:"recent-title"},"Recent Searches",-1)),t(B,{flat:"",dense:"",round:"",size:"sm",icon:"mdi-close-circle",onClick:A},{default:s(()=>[t(J,null,{default:s(()=>[...a[2]||(a[2]=[p("Clear all",-1)])]),_:1})]),_:1})]),t(X,{separator:""},{default:s(()=>[(n(!0),I(z,null,K(P(S),(r,H)=>U((n(),f(M,{key:H,clickable:"",onClick:le=>T(r),class:"recent-item"},{default:s(()=>[t(g,{avatar:""},{default:s(()=>[t(w,{name:q(r.type),color:"primary"},null,8,["name"])]),_:2},1024),t(g,null,{default:s(()=>[t(R,{class:"recent-query"},{default:s(()=>[p(h(E(r.query)),1)]),_:2},1024),t(R,{caption:""},{default:s(()=>[p(h(r.type)+" Â· "+h(C(r.chainId||"ethereum")),1)]),_:2},1024)]),_:2},1024),t(g,{side:""},{default:s(()=>[t(w,{name:"mdi-chevron-right",color:"grey-5"})]),_:1})]),_:2},1032,["onClick"])),[[F]])),128))]),_:1})]),_:1})]),_:1})])):Q("",!0)])]),_:1}))}}),_e=se(ce,[["__scopeId","data-v-c718b2a9"]]);export{_e as default};
