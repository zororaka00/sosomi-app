const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ccip-Cyceam4B.js","./index-CdOfnMph.js","./index-ChaaT3tc.css","./bitcoin-Da4x5qa8.js"])))=>i.map(i=>d[i]);
import{ae as di,af as Oc,ag as Nn,r as Cn,w as Fc,a as Sn}from"./index-CdOfnMph.js";import{B as Rc}from"./bitcoin-Da4x5qa8.js";const jc="1.1.0";let oe=class _r extends Error{constructor(t,n={}){const r=n.cause instanceof _r?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof _r&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${jc}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function _e(e,t){return e.exec(t)?.groups}const li=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,hi=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,bi=/^\(.+?\).*?$/,bo=/^tuple(?<array>(\[(\d*)\])*)$/;function Gr(e){let t=e.type;if(bo.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Gr(o),s<n-1&&(t+=", ")}const r=_e(bo,e.type);return t+=`)${r?.array??""}`,Gr({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function wt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Gr(s),r!==n-1&&(t+=", ")}return t}function jn(e){return e.type==="function"?`function ${e.name}(${wt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${wt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${wt(e.inputs)})`:e.type==="error"?`error ${e.name}(${wt(e.inputs)})`:e.type==="constructor"?`constructor(${wt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const pi=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Uc(e){return pi.test(e)}function Dc(e){return _e(pi,e)}const mi=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function _c(e){return mi.test(e)}function Gc(e){return _e(mi,e)}const yi=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Hc(e){return yi.test(e)}function Vc(e){return _e(yi,e)}const gi=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Wn(e){return gi.test(e)}function qc(e){return _e(gi,e)}const wi=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Wc(e){return wi.test(e)}function Zc(e){return _e(wi,e)}const xi=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Yc(e){return xi.test(e)}function Kc(e){return _e(xi,e)}const Jc=/^receive\(\) external payable$/;function Qc(e){return Jc.test(e)}const po=new Set(["memory","indexed","storage","calldata"]),Xc=new Set(["indexed"]),Hr=new Set(["calldata","memory","storage"]);class e0 extends oe{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class t0 extends oe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class n0 extends oe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class r0 extends oe{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class s0 extends oe{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class o0 extends oe{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class i0 extends oe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class a0 extends oe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class c0 extends oe{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class St extends oe{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class u0 extends oe{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class f0 extends oe{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class d0 extends oe{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class l0 extends oe{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function h0(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const vr=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Vr(e,t={}){if(Hc(e))return b0(e,t);if(_c(e))return p0(e,t);if(Uc(e))return m0(e,t);if(Wc(e))return y0(e,t);if(Yc(e))return g0(e);if(Qc(e))return{type:"receive",stateMutability:"payable"};throw new u0({signature:e})}function b0(e,t={}){const n=Vc(e);if(!n)throw new St({signature:e,type:"function"});const r=ae(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Ue(r[a],{modifiers:Hr,structs:t,type:"function"}));const i=[];if(n.returns){const a=ae(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Ue(a[u],{modifiers:Hr,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function p0(e,t={}){const n=Gc(e);if(!n)throw new St({signature:e,type:"event"});const r=ae(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ue(r[i],{modifiers:Xc,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function m0(e,t={}){const n=Dc(e);if(!n)throw new St({signature:e,type:"error"});const r=ae(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ue(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function y0(e,t={}){const n=Zc(e);if(!n)throw new St({signature:e,type:"constructor"});const r=ae(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ue(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function g0(e){const t=Kc(e);if(!t)throw new St({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const w0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,x0=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,v0=/^u?int$/;function Ue(e,t){const n=h0(e,t?.type,t?.structs);if(vr.has(n))return vr.get(n);const r=bi.test(e),s=_e(r?x0:w0,e);if(!s)throw new s0({param:e});if(s.name&&P0(s.name))throw new o0({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const l=ae(s.type),d=[],h=l.length;for(let p=0;p<h;p++)d.push(Ue(l[p],{structs:a}));u={components:d}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(v0.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!vi(c))throw new n0({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new i0({param:e,type:t?.type,modifier:s.modifier});if(Hr.has(s.modifier)&&!I0(c,!!s.array))throw new a0({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return vr.set(n,f),f}function ae(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?ae(a,[...t,n.trim()]):ae(a,t,`${n}${i}`,r);case"(":return ae(a,t,`${n}${i}`,r+1);case")":return ae(a,t,`${n}${i}`,r-1);default:return ae(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new l0({current:n,depth:r});return t.push(n.trim()),t}function vi(e){return e==="address"||e==="bool"||e==="function"||e==="string"||li.test(e)||hi.test(e)}const E0=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function P0(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||li.test(e)||hi.test(e)||E0.test(e)}function I0(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Es(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Wn(a))continue;const c=qc(a);if(!c)throw new St({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],l=u.length;for(let d=0;d<l;d++){const p=u[d].trim();if(!p)continue;const b=Ue(p,{type:"struct"});f.push(b)}if(!f.length)throw new f0({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=Ei(c,t)}return r}const A0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Ei(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(bi.test(i.type))r.push(i);else{const c=_e(A0,i.type);if(!c?.type)throw new c0({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new d0({type:f});r.push({...i,type:`tuple${u??""}`,components:Ei(t[f]??[],t,new Set([...n,f]))})}else if(vi(f))r.push(i);else throw new t0({type:f})}}return r}function _t(e){const t=Es(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Wn(o)||n.push(Vr(o,t))}return n}function mo(e){let t;if(typeof e=="string")t=Vr(e);else{const n=Es(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Wn(o)){t=Vr(o,n);break}}}if(!t)throw new e0({signature:e});return t}function yo(e){const t=[];if(typeof e=="string"){const n=ae(e),r=n.length;for(let s=0;s<r;s++)t.push(Ue(n[s],{modifiers:po}))}else{const n=Es(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Wn(o))continue;const i=ae(o),a=i.length;for(let c=0;c<a;c++)t.push(Ue(i[c],{modifiers:po,structs:n}))}}if(t.length===0)throw new r0({params:e});return t}function j(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function ye(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new R0(e.type);return`${e.name}(${Zn(e.inputs,{includeName:t})})`}function Zn(e,{includeName:t=!1}={}){return e?e.map(n=>B0(n,{includeName:t})).join(t?", ":","):""}function B0(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Zn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function $e(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function V(e){return $e(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Pi="2.38.6";let Er={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Pi}`},T=class qr extends Error{constructor(t,n={}){const r=n.cause instanceof qr?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof qr&&n.cause.docsPath||n.docsPath,o=Er.getDocsUrl?.({...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...Er.version?[`Version: ${Er.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Pi}walk(t){return Ii(this,t)}};function Ii(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Ii(e.cause,t):t?null:e}class T0 extends T{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class go extends T{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Ai extends T{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Zn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class wn extends T{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class M0 extends T{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class $0 extends T{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${V(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class N0 extends T{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class C0 extends T{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class wo extends T{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Bi extends T{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class S0 extends T{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Ti extends T{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class xo extends T{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Bt extends T{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Mi extends T{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class k0 extends T{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class L0 extends T{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${ye(t.abiItem)}\`, and`,`\`${n.type}\` in \`${ye(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let z0=class extends T{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Vt extends T{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Zn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Yn extends T{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ye(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class O0 extends T{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class F0 extends T{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let $i=class extends T{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class R0 extends T{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class j0 extends T{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let Ni=class extends T{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Ci=class extends T{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class vo extends T{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function kt(e,{dir:t,size:n=32}={}){return typeof e=="string"?Ve(e,{dir:t,size:n}):U0(e,{dir:t,size:n})}function Ve(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Ci({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function U0(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Ci({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let Si=class extends T{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},D0=class extends T{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class _0 extends T{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let G0=class extends T{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function me(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function ve(e,{size:t}){if(V(e)>t)throw new G0({givenSize:V(e),maxSize:t})}function X(e,t={}){const{signed:n}=t;t.size&&ve(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function H0(e,t={}){let n=e;if(t.size&&(ve(n,{size:t.size}),n=me(n)),me(n)==="0x00")return!1;if(me(n)==="0x01")return!0;throw new _0(n)}function Ne(e,t={}){return Number(X(e,t))}const V0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ce(e,t={}){return typeof e=="number"||typeof e=="bigint"?N(e,t):typeof e=="string"?qt(e,t):typeof e=="boolean"?ki(e,t):q(e,t)}function ki(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ve(n,{size:t.size}),kt(n,{size:t.size})):n}function q(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=V0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ve(r,{size:t.size}),kt(r,{dir:"right",size:t.size})):r}function N(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new Si({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?kt(a,{size:r}):a}const q0=new TextEncoder;function qt(e,t={}){const n=q0.encode(e);return q(n,t)}const W0=new TextEncoder;function Lt(e,t={}){return typeof e=="number"||typeof e=="bigint"?Y0(e,t):typeof e=="boolean"?Z0(e,t):$e(e)?Ce(e,t):Xe(e,t)}function Z0(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(ve(n,{size:t.size}),kt(n,{size:t.size})):n}const ke={zero:48,nine:57,A:65,F:70,a:97,f:102};function Eo(e){if(e>=ke.zero&&e<=ke.nine)return e-ke.zero;if(e>=ke.A&&e<=ke.F)return e-(ke.A-10);if(e>=ke.a&&e<=ke.f)return e-(ke.a-10)}function Ce(e,t={}){let n=e;t.size&&(ve(n,{size:t.size}),n=kt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=Eo(r.charCodeAt(a++)),u=Eo(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new T(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function Y0(e,t){const n=N(e,t);return Ce(n)}function Xe(e,t={}){const n=W0.encode(e);return typeof t.size=="number"?(ve(n,{size:t.size}),kt(n,{dir:"right",size:t.size})):n}const kn=BigInt(2**32-1),Po=BigInt(32);function K0(e,t=!1){return t?{h:Number(e&kn),l:Number(e>>Po&kn)}:{h:Number(e>>Po&kn)|0,l:Number(e&kn)|0}}function J0(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=K0(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const Q0=(e,t,n)=>e<<n|t>>>32-n,X0=(e,t,n)=>t<<n|e>>>32-n,eu=(e,t,n)=>t<<n-32|e>>>64-n,tu=(e,t,n)=>e<<n-32|t>>>64-n,mt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function nu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Wt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function nt(e,...t){if(!nu(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ru(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Wt(e.outputLen),Wt(e.blockLen)}function Tt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Li(e,t){nt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function su(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Mt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Pr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ae(e,t){return e<<32-t|e>>>t}const ou=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function iu(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function au(e){for(let t=0;t<e.length;t++)e[t]=iu(e[t]);return e}const Io=ou?e=>e:au;function cu(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Kn(e){return typeof e=="string"&&(e=cu(e)),nt(e),e}function uu(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];nt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class Ps{}function zi(e){const t=r=>e().update(Kn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function fu(e=32){if(mt&&typeof mt.getRandomValues=="function")return mt.getRandomValues(new Uint8Array(e));if(mt&&typeof mt.randomBytes=="function")return Uint8Array.from(mt.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const du=BigInt(0),Rt=BigInt(1),lu=BigInt(2),hu=BigInt(7),bu=BigInt(256),pu=BigInt(113),Oi=[],Fi=[],Ri=[];for(let e=0,t=Rt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Oi.push(2*(5*r+n)),Fi.push((e+1)*(e+2)/2%64);let s=du;for(let o=0;o<7;o++)t=(t<<Rt^(t>>hu)*pu)%bu,t&lu&&(s^=Rt<<(Rt<<BigInt(o))-Rt);Ri.push(s)}const ji=J0(Ri,!0),mu=ji[0],yu=ji[1],Ao=(e,t,n)=>n>32?eu(e,t,n):Q0(e,t,n),Bo=(e,t,n)=>n>32?tu(e,t,n):X0(e,t,n);function gu(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],l=Ao(u,f,1)^n[a],d=Bo(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=l,e[i+h+1]^=d}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Fi[i],c=Ao(s,o,a),u=Bo(s,o,a),f=Oi[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=mu[r],e[1]^=yu[r]}Mt(n)}class Is extends Ps{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,Wt(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=su(this.state)}clone(){return this._cloneInto()}keccak(){Io(this.state32),gu(this.state32,this.rounds),Io(this.state32),this.posOut=0,this.pos=0}update(t){Tt(this),t=Kn(t),nt(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Tt(this,!1),nt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Wt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Li(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Mt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Is(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const wu=(e,t,n)=>zi(()=>new Is(t,e,n)),Ui=wu(1,136,256/8);function K(e,t){const n=t||"hex",r=Ui($e(e,{strict:!1})?Lt(e):e);return n==="bytes"?r:ce(r)}const xu=e=>K(Lt(e));function vu(e){return xu(e)}function Eu(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new T("Unable to normalize signature.");return s}const Pu=e=>{const t=typeof e=="string"?e:jn(e);return Eu(t)};function Di(e){return vu(Pu(e))}const Jn=Di;let te=class extends T{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},As=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Ir=new As(8192);function Qn(e,t){if(Ir.has(`${e}.${t}`))return Ir.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=K(Xe(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Ir.set(`${e}.${t}`,o),o}function _i(e,t){if(!W(e,{strict:!1}))throw new te({address:e});return Qn(e,t)}const Iu=/^0x[a-fA-F0-9]{40}$/,Ar=new As(8192);function W(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Ar.has(r))return Ar.get(r);const s=Iu.test(e)?e.toLowerCase()===e?!0:n?Qn(e)===e:!0:!1;return Ar.set(r,s),s}function Se(e){return typeof e[0]=="string"?Ee(e):Au(e)}function Au(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ee(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function rt(e,t,n,{strict:r}={}){return $e(e,{strict:!1})?Bu(e,t,n,{strict:r}):Vi(e,t,n,{strict:r})}function Gi(e,t){if(typeof t=="number"&&t>0&&t>V(e)-1)throw new Ni({offset:t,position:"start",size:V(e)})}function Hi(e,t,n){if(typeof t=="number"&&typeof n=="number"&&V(e)!==n-t)throw new Ni({offset:n,position:"end",size:V(e)})}function Vi(e,t,n,{strict:r}={}){Gi(e,t);const s=e.slice(t,n);return r&&Hi(s,t,n),s}function Bu(e,t,n,{strict:r}={}){Gi(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Hi(s,t,n),s}const Tu=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,qi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ft(e,t){if(e.length!==t.length)throw new N0({expectedLength:e.length,givenLength:t.length});const n=Mu({params:e,values:t}),r=Ts(n);return r.length===0?"0x":r}function Mu({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Bs({param:e[r],value:t[r]}));return n}function Bs({param:e,value:t}){const n=Ms(e.type);if(n){const[r,s]=n;return Nu(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return zu(t,{param:e});if(e.type==="address")return $u(t);if(e.type==="bool")return Su(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=qi.exec(e.type)??[];return ku(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return Cu(t,{param:e});if(e.type==="string")return Lu(t);throw new O0(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ts(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=V(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(N(t+s,{size:32})),r.push(a),s+=V(a)):n.push(a)}return Se([...n,...r])}function $u(e){if(!W(e))throw new te({address:e});return{dynamic:!1,encoded:Ve(e.toLowerCase())}}function Nu(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new $i(e);if(!r&&e.length!==t)throw new M0({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=Bs({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=Ts(o);if(r){const a=N(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Se([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:Se(o.map(({encoded:i})=>i))}}function Cu(e,{param:t}){const[,n]=t.type.split("bytes"),r=V(e);if(!n){let s=e;return r%32!==0&&(s=Ve(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Se([Ve(N(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new $0({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ve(e,{dir:"right"})}}function Su(e){if(typeof e!="boolean")throw new T(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ve(ki(e))}}function ku(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Si({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:N(e,{size:32,signed:t})}}function Lu(e){const t=qt(e),n=Math.ceil(V(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ve(rt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Se([Ve(N(V(t),{size:32})),...r])}}function zu(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=Bs({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Ts(r):Se(r.map(({encoded:s})=>s))}}function Ms(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const xn=e=>rt(Di(e),0,4);function dt(e){const{abi:t,args:n=[],name:r}=e,s=$e(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?xn(a)===r:a.type==="event"?Jn(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const l="inputs"in a&&a.inputs[f];return l?Wr(u,l):!1})){if(i&&"inputs"in i&&i.inputs){const u=Wi(a.inputs,i.inputs,n);if(u)throw new L0({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Wr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return W(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Wr(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Wr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Wi(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Wi(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?W(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?W(n[r],{strict:!1}):!1)return i}}const To="/docs/contract/encodeEventTopics";function vn(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=dt({abi:t,name:n});if(!c)throw new xo(n,{docsPath:To});s=c}if(s.type!=="event")throw new xo(void 0,{docsPath:To});const o=ye(s),i=Jn(o);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(a=c?.map((f,l)=>Array.isArray(u[l])?u[l].map((d,h)=>Mo({param:f,value:u[l][h]})):typeof u[l]<"u"&&u[l]!==null?Mo({param:f,value:u[l]}):null)??[])}return[i,...a]}function Mo({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return K(Lt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new j0(e.type);return ft([e],[t])}function Xn(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),(r=>n[r]||e.request)}async function Zi(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=Xn(e,{method:"eth_newFilter"}),f=o?vn({abi:r,args:s,eventName:o}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?N(i):i,toBlock:typeof c=="bigint"?N(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:l,request:u(l),strict:!!a,type:"event"}}function Pe(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const $o="/docs/contract/encodeFunctionData";function Ou(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=dt({abi:t,args:n,name:r});if(!o)throw new Bt(r,{docsPath:$o});s=o}if(s.type!=="function")throw new Bt(void 0,{docsPath:$o});return{abi:[s],functionName:xn(ye(s))}}function Ie(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:Ou(e),s=n[0],o=r,i="inputs"in s&&s.inputs?ft(s.inputs,t??[]):void 0;return Ee([o,i??"0x"])}const Fu={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Yi={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Ru={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let No=class extends T{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Ki=class extends T{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},ju=class extends T{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Uu={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new ju({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ki({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new No({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new No({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function $s(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Uu);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Du(e,t={}){typeof t.size<"u"&&ve(e,{size:t.size});const n=q(e,t);return X(n,t)}function _u(e,t={}){let n=e;if(typeof t.size<"u"&&(ve(n,{size:t.size}),n=me(n)),n.length>1||n[0]>1)throw new D0(n);return!!n[0]}function Re(e,t={}){typeof t.size<"u"&&ve(e,{size:t.size});const n=q(e,t);return Ne(n,t)}function Gu(e,t={}){let n=e;return typeof t.size<"u"&&(ve(n,{size:t.size}),n=me(n,{dir:"right"})),new TextDecoder().decode(n)}function En(e,t){const n=typeof t=="string"?Ce(t):t,r=$s(n);if(V(n)===0&&e.length>0)throw new wn;if(V(t)&&V(t)<32)throw new Ai({data:typeof t=="string"?t:q(t),params:e,size:V(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=Et(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function Et(e,t,{staticPosition:n}){const r=Ms(t.type);if(r){const[s,o]=r;return Vu(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return Yu(e,t,{staticPosition:n});if(t.type==="address")return Hu(e);if(t.type==="bool")return qu(e);if(t.type.startsWith("bytes"))return Wu(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Zu(e,t);if(t.type==="string")return Ku(e,{staticPosition:n});throw new F0(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Co=32,Zr=32;function Hu(e){const t=e.readBytes(32);return[Qn(q(Vi(t,-20))),32]}function Vu(e,t,{length:n,staticPosition:r}){if(!n){const i=Re(e.readBytes(Zr)),a=r+i,c=a+Co;e.setPosition(a);const u=Re(e.readBytes(Co)),f=Zt(t);let l=0;const d=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:l));const[p,b]=Et(e,t,{staticPosition:c});l+=b,d.push(p)}return e.setPosition(r+32),[d,32]}if(Zt(t)){const i=Re(e.readBytes(Zr)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=Et(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=Et(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function qu(e){return[_u(e.readBytes(32),{size:32}),32]}function Wu(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Re(e.readBytes(32));e.setPosition(n+i);const a=Re(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[q(c),32]}return[q(e.readBytes(Number.parseInt(s,10),32)),32]}function Zu(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Du(s,{signed:n}):Re(s,{signed:n}),32]}function Yu(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(Zt(t)){const i=Re(e.readBytes(Zr)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,l]=Et(e,u,{staticPosition:a});o+=l,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=Et(e,a,{staticPosition:n});s[r?i:a?.name]=c,o+=u}return[s,o]}function Ku(e,{staticPosition:t}){const n=Re(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Re(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Gu(me(o));return e.setPosition(t+32),[i,32]}function Zt(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Zt);const n=Ms(e.type);return!!(n&&Zt({...e,type:n[1]}))}function Ju(e){const{abi:t,data:n}=e,r=rt(n,0,4);if(r==="0x")throw new wn;const o=[...t||[],Yi,Ru].find(i=>i.type==="error"&&r===xn(ye(i)));if(!o)throw new Bi(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?En(o.inputs,rt(n,4)):void 0,errorName:o.name}}const J=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Ji({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?J(t[o]):t[o]}`).join(", ")})`}const Qu={gwei:9,wei:18},Xu={ether:-9,wei:9};function Un(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function Gt(e,t="wei"){return Un(e,Qu[t])}function he(e,t="wei"){return Un(e,Xu[t])}class ef extends T{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class tf extends T{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function So(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function nf(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=So(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=So(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function er(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class rf extends T{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class sf extends T{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class of extends T{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",er(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class af extends T{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Qi extends T{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class Xi extends T{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class cf extends T{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class uf extends T{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const ff=e=>e,Ns=e=>e;class ea extends T{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d,stateOverride:h}){const p=n?Pe(n):void 0;let b=er({from:p?.address,to:l,value:typeof d<"u"&&`${Gt(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${he(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${he(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${he(u)} gwei`,nonce:f});h&&(b+=`
${nf(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ta extends T{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=dt({abi:n,args:r,name:i}),u=c?Ji({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?ye(c,{includeName:!0}):void 0,l=er({address:s&&ff(s),function:f,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Yr extends T{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=Ju({abi:t,data:n});const{abiItem:f,errorName:l,args:d}=i;if(l==="Error")c=d[0];else if(l==="Panic"){const[h]=d;c=Fu[h]}else{const h=f?ye(f,{includeName:!0}):void 0,p=f&&d?Ji({abiItem:f,args:d,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array(l?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof Bi&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class df extends T{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class lf extends T{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class tr extends T{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Ht extends T{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${Ns(i)}`,t&&`Request body: ${J(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class Cs extends T{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Ns(r)}`,`Request body: ${J(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class ko extends T{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Ns(n)}`,`Request body: ${J(t)}`],name:"TimeoutError"})}}const hf=-1;class ie extends T{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof Cs?t.code:n??hf}}class fe extends ie{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Yt extends ie{constructor(t){super(t,{code:Yt.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Kt extends ie{constructor(t){super(t,{code:Kt.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Jt extends ie{constructor(t,{method:n}={}){super(t,{code:Jt.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Qt extends ie{constructor(t){super(t,{code:Qt.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class st extends ie{constructor(t){super(t,{code:st.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(st,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ot extends ie{constructor(t){super(t,{code:ot.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Xt extends ie{constructor(t){super(t,{code:Xt.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class en extends ie{constructor(t){super(t,{code:en.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class $t extends ie{constructor(t){super(t,{code:$t.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty($t,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ke extends ie{constructor(t,{method:n}={}){super(t,{code:Ke.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ke,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Nt extends ie{constructor(t){super(t,{code:Nt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class tn extends ie{constructor(t){super(t,{code:tn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class et extends fe{constructor(t){super(t,{code:et.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class nn extends fe{constructor(t){super(t,{code:nn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class rn extends fe{constructor(t,{method:n}={}){super(t,{code:rn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class sn extends fe{constructor(t){super(t,{code:sn.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class on extends fe{constructor(t){super(t,{code:on.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(on,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class an extends fe{constructor(t){super(t,{code:an.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(an,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class cn extends fe{constructor(t){super(t,{code:cn.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class un extends fe{constructor(t){super(t,{code:un.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(un,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class fn extends fe{constructor(t){super(t,{code:fn.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class dn extends fe{constructor(t){super(t,{code:dn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class ln extends fe{constructor(t){super(t,{code:ln.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class hn extends fe{constructor(t){super(t,{code:hn.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class bn extends fe{constructor(t){super(t,{code:bn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class bf extends ie{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const pf=3;function Ct(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof tr?e:e instanceof T?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:u,details:f,message:l,shortMessage:d}=a,h=e instanceof wn?new df({functionName:o}):[pf,st.code].includes(c)&&(u||f||l||d)?new Yr({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof Cs?f:d??l}):e;return new ta(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function mf(e){const t=K(`0x${e.substring(4)}`).substring(26);return Qn(`0x${t}`)}async function yf({hash:e,signature:t}){const n=$e(e)?e:ce(e),{secp256k1:r}=await di(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>nh);return{secp256k1:i}},void 0,import.meta.url);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:l,yParity:d}=t,h=Number(d??l),p=Lo(h);return new r.Signature(X(u),X(f)).addRecoveryBit(p)}const i=$e(t)?t:ce(t);if(V(i)!==65)throw new Error("invalid signature length");const a=Ne(`0x${i.slice(130)}`),c=Lo(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Lo(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function na({hash:e,signature:t}){return mf(await yf({hash:e,signature:t}))}function qe(e,t="hex"){const n=ra(e),r=$s(new Uint8Array(n.length));return n.encode(r),t==="hex"?q(r.bytes):r.bytes}function ra(e){return Array.isArray(e)?gf(e.map(t=>ra(t))):wf(e)}function gf(e){const t=e.reduce((s,o)=>s+o.length,0),n=sa(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function wf(e){const t=typeof e=="string"?Ce(e):e,n=sa(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function sa(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new T("Length is too large.")}function xf(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=K(Ee(["0x05",qe([t?N(t):"0x",s,n?N(n):"0x"])]));return r==="bytes"?Ce(o):o}async function oa(e){const{authorization:t,signature:n}=e;return na({hash:xf(t),signature:n??t})}class vf extends T{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d}){const h=er({from:n?.address,to:l,value:typeof d<"u"&&`${Gt(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${he(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${he(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${he(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Je extends T{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Je,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Je,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class it extends T{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${he(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(it,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Kr extends T{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${he(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Kr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Jr extends T{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Jr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Qr extends T{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Qr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Xr extends T{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Xr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class es extends T{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(es,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class ts extends T{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(ts,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class ns extends T{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(ns,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class rs extends T{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(rs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class pn extends T{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${he(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${he(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(pn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class nr extends T{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Ss(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof T?e.walk(s=>s?.code===Je.code):e;return r instanceof T?new Je({cause:e,message:r.details}):Je.nodeMessage.test(n)?new Je({cause:e,message:e.details}):it.nodeMessage.test(n)?new it({cause:e,maxFeePerGas:t?.maxFeePerGas}):Kr.nodeMessage.test(n)?new Kr({cause:e,maxFeePerGas:t?.maxFeePerGas}):Jr.nodeMessage.test(n)?new Jr({cause:e,nonce:t?.nonce}):Qr.nodeMessage.test(n)?new Qr({cause:e,nonce:t?.nonce}):Xr.nodeMessage.test(n)?new Xr({cause:e,nonce:t?.nonce}):es.nodeMessage.test(n)?new es({cause:e}):ts.nodeMessage.test(n)?new ts({cause:e,gas:t?.gas}):ns.nodeMessage.test(n)?new ns({cause:e,gas:t?.gas}):rs.nodeMessage.test(n)?new rs({cause:e}):pn.nodeMessage.test(n)?new pn({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new nr({cause:e})}function Ef(e,{docsPath:t,...n}){const r=(()=>{const s=Ss(e,n);return s instanceof nr?e:s})();return new vf(r,{docsPath:t,...n})}function ks(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}function Ls(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,o)=>{const i=t(s,o);if(n)for(const a of n)delete i[a];return{...i,...r(s,o)}},type:e})}const Pf={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function rr(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=If(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>q(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=N(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=N(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=N(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=N(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=N(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=N(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Pf[e.type]),typeof e.value<"u"&&(n.value=N(e.value)),n}function If(e){return e.map(t=>({address:t.address,r:t.r?N(BigInt(t.r)):t.r,s:t.s?N(BigInt(t.s)):t.s,chainId:N(t.chainId),nonce:N(t.nonce),...typeof t.yParity<"u"?{yParity:N(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:N(t.v)}:{}}))}function zo(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new vo({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new vo({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Af(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=N(t)),n!==void 0&&(i.nonce=N(n)),r!==void 0&&(i.state=zo(r)),s!==void 0){if(i.state)throw new tf;i.stateDiff=zo(s)}return i}function zs(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!W(n,{strict:!1}))throw new te({address:n});if(t[n])throw new ef({address:n});t[n]=Af(r)}return t}const sr=2n**256n-1n;function Pn(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?Pe(t):void 0;if(i&&!W(i.address))throw new te({address:i.address});if(o&&!W(o))throw new te({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new rf;if(r&&r>sr)throw new it({maxFeePerGas:r});if(s&&r&&s>r)throw new pn({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Bf extends T{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Os extends T{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Tf extends T{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${he(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ia extends T{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const aa={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function or(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Ne(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Ne(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?aa[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=$f(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const Mf=Ls("transaction",or);function $f(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Fs(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:or(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Nf=Ls("block",Fs);async function Te(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?N(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new ia({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Fs)(a,"getBlock")}async function Rs(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Cf(e,t){return ca(e,t)}async function ca(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await j(e,Te,"getBlock")({}),c=await o({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return X(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):j(e,Te,"getBlock")({}),j(e,Rs,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new Os;const a=i-o.baseFeePerGas;return a<0n?0n:a}}async function Sf(e,t){return ss(e,t)}async function ss(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new Bf;const c=10**(i.toString().split(".")[1]?.length??0),u=d=>d*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await j(e,Te,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const d=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(d!==null)return d}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Os;const d=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await ca(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??h+d,maxPriorityFeePerGas:d}}return{gasPrice:s?.gasPrice??u(await j(e,Rs,"getGasPrice")({}))}}async function ua(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?N(r):n]},{dedupe:!!r});return Ne(s)}function js(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Ce(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>q(o))}function Us(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Ce(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Ce(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>q(i))}function kf(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function Lf(e,t,n){return e&t^~e&n}function zf(e,t,n){return e&t^e&n^t&n}class Of extends Ps{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Pr(this.buffer)}update(t){Tt(this),t=Kn(t),nt(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=Pr(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Tt(this),Li(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Mt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let l=i;l<s;l++)n[l]=0;kf(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=Pr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,f[l],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Ge=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ff=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),He=new Uint32Array(64);class Rf extends Of{constructor(t=32){super(64,t,8,!1),this.A=Ge[0]|0,this.B=Ge[1]|0,this.C=Ge[2]|0,this.D=Ge[3]|0,this.E=Ge[4]|0,this.F=Ge[5]|0,this.G=Ge[6]|0,this.H=Ge[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let l=0;l<16;l++,n+=4)He[l]=t.getUint32(n,!1);for(let l=16;l<64;l++){const d=He[l-15],h=He[l-2],p=Ae(d,7)^Ae(d,18)^d>>>3,b=Ae(h,17)^Ae(h,19)^h>>>10;He[l]=b+He[l-7]+p+He[l-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let l=0;l<64;l++){const d=Ae(a,6)^Ae(a,11)^Ae(a,25),h=f+d+Lf(a,c,u)+Ff[l]+He[l]|0,b=(Ae(r,2)^Ae(r,13)^Ae(r,22))+zf(r,s,o)|0;f=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+b|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){Mt(He)}destroy(){this.set(0,0,0,0,0,0,0,0),Mt(this.buffer)}}const fa=zi(()=>new Rf),jf=fa;function Uf(e,t){return jf($e(e,{strict:!1})?Lt(e):e)}function Df(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Uf(t);return s.set([n],0),r==="bytes"?s:q(s)}function da(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(Df({commitment:o,to:r,version:n}));return s}const Oo=6,la=32,Ds=4096,ha=la*Ds,Fo=ha*Oo-1-1*Ds*Oo,ba=1;class _f extends T{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class pa extends T{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Gf extends T{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Hf extends T{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${ba}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Vf(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ce(e.data):e.data,r=V(n);if(!r)throw new pa;if(r>Fo)throw new _f({maxSize:Fo,size:r});const s=[];let o=!0,i=0;for(;o;){const a=$s(new Uint8Array(ha));let c=0;for(;c<Ds;){const u=n.slice(i,i+(la-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>q(a.bytes))}function ma(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Vf({data:t,to:r}),o=e.commitments??js({blobs:s,kzg:n,to:r}),i=e.proofs??Us({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function ya(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new of({transaction:e})}async function ga(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Ne(t)}const qf=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Ro=new Map;async function wa(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,nonceManager:c,parameters:u=qf,type:f}=t,l=n&&Pe(n),d={...t,...l?{from:l?.address}:{}};let h;async function p(){return h||(h=await j(e,Te,"getBlock")({blockTag:"latest"}),h)}let b;async function g(){return b||(s?s.id:typeof t.chainId<"u"?t.chainId:(b=await j(e,ga,"getChainId")({}),b))}if(u.includes("nonce")&&typeof a>"u"&&l)if(c){const E=await g();d.nonce=await c.consume({address:l.address,chainId:E,client:e})}else d.nonce=await j(e,ua,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const E=js({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const M=da({commitments:E,to:"hex"});d.blobVersionedHashes=M}if(u.includes("sidecars")){const M=Us({blobs:r,commitments:E,kzg:i}),w=ma({blobs:r,commitments:E,proofs:M,to:"hex"});d.sidecars=w}}if(u.includes("chainId")&&(d.chainId=await g()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{d.type=ya(d)}catch{let E=Ro.get(e.uid);typeof E>"u"&&(E=typeof(await p())?.baseFeePerGas=="bigint",Ro.set(e.uid,E)),d.type=E?"eip1559":"legacy"}if(u.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){const E=await p(),{maxFeePerGas:M,maxPriorityFeePerGas:w}=await ss(e,{block:E,chain:s,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new Tf({maxPriorityFeePerGas:w});d.maxPriorityFeePerGas=w,d.maxFeePerGas=M}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Os;if(typeof t.gasPrice>"u"){const E=await p(),{gasPrice:M}=await ss(e,{block:E,chain:s,request:d,type:"legacy"});d.gasPrice=M}}return u.includes("gas")&&typeof o>"u"&&(d.gas=await j(e,_s,"estimateGas")({...d,account:l,prepare:l?.type==="local"?[]:["blobVersionedHashes"]})),Pn(d),delete d.parameters,d}async function _s(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?Pe(n):void 0,o=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:i,authorizationList:a,blobs:c,blobVersionedHashes:u,blockNumber:f,blockTag:l,data:d,gas:h,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:g,maxPriorityFeePerGas:E,nonce:M,value:w,stateOverride:m,...x}=r?await wa(e,{...t,parameters:o}):t,P=(typeof f=="bigint"?N(f):void 0)||l,S=zs(m),F=await(async()=>{if(x.to)return x.to;if(a&&a.length>0)return await oa({authorization:a[0]}).catch(()=>{throw new T("`to` is required. Could not infer from `authorizationList`")})})();Pn(t);const z=e.chain?.formatters?.transactionRequest?.format,O=(z||rr)({...ks(x,{format:z}),account:s,accessList:i,authorizationList:a,blobs:c,blobVersionedHashes:u,data:d,gas:h,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:g,maxPriorityFeePerGas:E,nonce:M,to:F,value:w},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:S?[O,P??e.experimental_blockTag??"latest",S]:P?[O,P]:[O]}))}catch(i){throw Ef(i,{...t,account:s,chain:e.chain})}}async function Wf(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,c=Ie({abi:n,args:s,functionName:o});try{return await j(e,_s,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?Pe(a.account):void 0;throw Ct(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}function ir(e,t){if(!W(e,{strict:!1}))throw new te({address:e});if(!W(t,{strict:!1}))throw new te({address:t});return e.toLowerCase()===t.toLowerCase()}const jo="/docs/contract/decodeEventLog";function Pt(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new S0({docsPath:jo});const c=t.find(b=>b.type==="event"&&i===Jn(ye(b)));if(!(c&&"name"in c)||c.type!=="event")throw new Ti(i,{docsPath:jo});const{name:u,inputs:f}=c,l=f?.some(b=>!("name"in b&&b.name)),d=l?[]:{},h=f.map((b,g)=>[b,g]).filter(([b])=>"indexed"in b&&b.indexed);for(let b=0;b<h.length;b++){const[g,E]=h[b],M=a[b];if(!M)throw new Yn({abiItem:c,param:g});d[l?E:g.name||E]=Zf({param:g,value:M})}const p=f.filter(b=>!("indexed"in b&&b.indexed));if(p.length>0){if(n&&n!=="0x")try{const b=En(p,n);if(b)if(l)for(let g=0;g<f.length;g++)d[g]=d[g]??b.shift();else for(let g=0;g<p.length;g++)d[p[g].name]=b[g]}catch(b){if(o)throw b instanceof Ai||b instanceof Ki?new Vt({abiItem:c,data:n,params:p,size:V(n)}):b}else if(o)throw new Vt({abiItem:c,data:"0x",params:p,size:0})}return{eventName:u,args:Object.values(d).length>0?d:void 0}}function Zf({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(En([e],t)||[])[0]}function Gs(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{try{const a=t.find(u=>u.type==="event"&&i.topics[0]===Jn(u));if(!a)return null;const c=Pt({...i,abi:[a],strict:s});return o&&!o.includes(c.eventName)||!Yf({args:c.args,inputs:a.inputs,matchArgs:n})?null:{...c,...i}}catch(a){let c,u;if(a instanceof Ti)return null;if(a instanceof Vt||a instanceof Yn){if(s)return null;c=a.abiItem.name,u=a.abiItem.inputs?.some(f=>!("name"in f&&f.name))}return{...i,args:u?[]:{},eventName:c}}}).filter(Boolean)}function Yf(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?ir(i,a):o.type==="string"||o.type==="bytes"?K(Lt(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function De(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Hs(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let l=[];f&&(l=[f.flatMap(b=>vn({abi:[b],eventName:b.name,args:i?void 0:a}))],o&&(l=l[0]));let d;n?d=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):d=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?N(r):r,toBlock:typeof s=="bigint"?N(s):s}]});const h=d.map(p=>De(p));return f?Gs({abi:f,args:a,logs:h,strict:u}):h}async function xa(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?dt({abi:n,name:i}):void 0,l=f?void 0:n.filter(d=>d.type==="event");return j(e,Hs,"getLogs")({address:r,args:s,blockHash:o,event:f,events:l,fromBlock:a,toBlock:c,strict:u})}const Br="/docs/contract/decodeFunctionResult";function lt(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=dt({abi:t,args:n,name:r});if(!a)throw new Bt(r,{docsPath:Br});o=a}if(o.type!=="function")throw new Bt(void 0,{docsPath:Br});if(!o.outputs)throw new Mi(o.name,{docsPath:Br});const i=En(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const Vs=BigInt(0),os=BigInt(1);function In(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function qs(e){if(!In(e))throw new Error("Uint8Array expected")}function mn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Ln(e){const t=e.toString(16);return t.length&1?"0"+t:t}function va(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Vs:BigInt("0x"+e)}const Ea=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Kf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function yn(e){if(qs(e),Ea)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Kf[e[n]];return t}const Le={_0:48,_9:57,A:65,F:70,a:97,f:102};function Uo(e){if(e>=Le._0&&e<=Le._9)return e-Le._0;if(e>=Le.A&&e<=Le.F)return e-(Le.A-10);if(e>=Le.a&&e<=Le.f)return e-(Le.a-10)}function Dn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Ea)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Uo(e.charCodeAt(o)),a=Uo(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function tt(e){return va(yn(e))}function Pa(e){return qs(e),va(yn(Uint8Array.from(e).reverse()))}function An(e,t){return Dn(e.toString(16).padStart(t*2,"0"))}function Ia(e,t){return An(e,t).reverse()}function le(e,t,n){let r;if(typeof t=="string")try{r=Dn(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(In(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function _n(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];qs(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const Tr=e=>typeof e=="bigint"&&Vs<=e;function Ws(e,t,n){return Tr(e)&&Tr(t)&&Tr(n)&&t<=e&&e<n}function It(e,t,n,r){if(!Ws(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Jf(e){let t;for(t=0;e>Vs;e>>=os,t+=1);return t}const ar=e=>(os<<BigInt(e))-os,Mr=e=>new Uint8Array(e),Do=e=>Uint8Array.from(e);function Qf(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Mr(e),s=Mr(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...l)=>n(s,r,...l),c=(l=Mr(0))=>{s=a(Do([0]),l),r=a(),l.length!==0&&(s=a(Do([1]),l),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const d=[];for(;l<t;){r=a();const h=r.slice();d.push(h),l+=r.length}return _n(...d)};return(l,d)=>{i(),c(l);let h;for(;!(h=d(u()));)c();return i(),h}}const Xf={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||In(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function cr(e,t,n={}){const r=(s,o,i)=>{const a=Xf[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function _o(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const ed="0.1.1";function td(){return ed}class _ extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof _){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof _&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${td()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return Aa(this,t)}}function Aa(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Aa(e.cause,t):t?null:e}function Bn(e,t){if(xt(e)>t)throw new gd({givenSize:xt(e),maxSize:t})}const ze={zero:48,nine:57,A:65,F:70,a:97,f:102};function Go(e){if(e>=ze.zero&&e<=ze.nine)return e-ze.zero;if(e>=ze.A&&e<=ze.F)return e-(ze.A-10);if(e>=ze.a&&e<=ze.f)return e-(ze.a-10)}function nd(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new wd({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Ba(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function ur(e,t){if(ue(e)>t)throw new Ad({givenSize:ue(e),maxSize:t})}function rd(e,t){if(typeof t=="number"&&t>0&&t>ue(e)-1)throw new za({offset:t,position:"start",size:ue(e)})}function sd(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ue(e)!==n-t)throw new za({offset:n,position:"end",size:ue(e)})}function Ta(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Bd({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const od="#__bigint";function Ma(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+od:s,n)}const id=new TextDecoder,ad=new TextEncoder;function cd(e){return e instanceof Uint8Array?e:typeof e=="string"?$a(e):ud(e)}function ud(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function $a(e,t={}){const{size:n}=t;let r=e;n&&(ur(e,n),r=ct(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Go(s.charCodeAt(c++)),f=Go(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new _(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u*16+f}return i}function fd(e,t={}){const{size:n}=t,r=ad.encode(e);return typeof n=="number"?(Bn(r,n),dd(r,n)):r}function dd(e,t){return nd(e,{dir:"right",size:t})}function xt(e){return e.length}function ld(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function hd(e,t={}){const{size:n}=t;typeof n<"u"&&Bn(e,n);const r=we(e,t);return Sa(r,t)}function bd(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Bn(r,n),r=Na(r)),r.length>1||r[0]>1)throw new yd(r);return!!r[0]}function je(e,t={}){const{size:n}=t;typeof n<"u"&&Bn(e,n);const r=we(e,t);return ka(r,t)}function pd(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Bn(r,n),r=md(r)),id.decode(r)}function Na(e){return Ba(e,{dir:"left"})}function md(e){return Ba(e,{dir:"right"})}class yd extends _{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let gd=class extends _{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},wd=class extends _{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const xd=new TextEncoder,vd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ed(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ho(e);if(typeof e!="string")throw new Ho(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Vo(e);if(!e.startsWith("0x"))throw new Vo(e)}function ge(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Pd(e){return e instanceof Uint8Array?we(e):Array.isArray(e)?we(new Uint8Array(e)):e}function Ca(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ur(n,t.size),at(n,t.size)):n}function we(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=vd[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ur(r,t.size),ct(r,t.size)):r}function Q(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new La({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?at(c,r):c}function Zs(e,t={}){return we(xd.encode(e),t)}function at(e,t){return Ta(e,{dir:"left",size:t})}function ct(e,t){return Ta(e,{dir:"right",size:t})}function Me(e,t,n,r={}){const{strict:s}=r;rd(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&sd(o,t,n),o}function ue(e){return Math.ceil((e.length-2)/2)}function Sa(e,t={}){const{signed:n}=t;t.size&&ur(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function ka(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Sa(e,t))}function Id(e,t={}){const{strict:n=!1}=t;try{return Ed(e,{strict:n}),!0}catch{return!1}}class La extends _{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ho extends _{constructor(t){super(`Value \`${typeof t=="object"?Ma(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Vo extends _{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Ad extends _{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class za extends _{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Bd extends _{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Td(e){return{address:e.address,amount:Q(e.amount),index:Q(e.index),validatorIndex:Q(e.validatorIndex)}}function Oa(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:Q(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:Q(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:Q(e.gasLimit)},...typeof e.number=="bigint"&&{number:Q(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:Q(e.prevRandao)},...typeof e.time=="bigint"&&{time:Q(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Td)}}}const Gn=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],is=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Fa=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Ra=[...Fa,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Md=[...Fa,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],qo=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Wo=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],ja=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Zo=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],$d="0x82ad56cb",Ua="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Nd="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Cd="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Ys="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class as extends T{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Da extends T{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class fr extends T{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const $r="/docs/contract/encodeDeployData";function Ks(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new T0({docsPath:$r});if(!("inputs"in s))throw new go({docsPath:$r});if(!s.inputs||s.inputs.length===0)throw new go({docsPath:$r});const o=ft(s.inputs,n);return Ee([r,o])}function zt({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new as({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new as({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function _a(e,{docsPath:t,...n}){const r=(()=>{const s=Ss(e,n);return s instanceof nr?e:s})();return new ea(r,{docsPath:t,...n})}function Ga(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Nr=new Map;function Ha({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const f=c();i();const l=f.map(({args:d})=>d);l.length!==0&&e(l).then(d=>{s&&Array.isArray(d)&&d.sort(s);for(let h=0;h<f.length;h++){const{resolve:p}=f[h];p?.([d[h],d])}}).catch(d=>{for(let h=0;h<f.length;h++){const{reject:p}=f[h];p?.(d)}})},i=()=>Nr.delete(t),a=()=>c().map(({args:f})=>f),c=()=>Nr.get(t)||[],u=f=>Nr.set(t,[...c(),f]);return{flush:i,async schedule(f){const{promise:l,resolve:d,reject:h}=Ga();return n?.([...a(),f])&&o(),c().length>0?(u({args:f,resolve:d,reject:h}),l):(u({args:f,resolve:d,reject:h}),setTimeout(o,r),l)}}}async function dr(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:l,factory:d,factoryData:h,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:M,nonce:w,to:m,value:x,stateOverride:B,...P}=t,S=n?Pe(n):void 0;if(f&&(d||h))throw new T("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&m)throw new T("Cannot provide both `code` & `to` as parameters.");const F=f&&l,z=d&&h&&m&&l,L=F||z,O=F?Va({code:f,data:l}):z?Ld({data:l,factory:d,factoryData:h,to:m}):l;try{Pn(t);const $=(typeof o=="bigint"?N(o):void 0)||i,y=u?Oa(u):void 0,I=zs(B),k=e.chain?.formatters?.transactionRequest?.format,C=(k||rr)({...ks(P,{format:k}),accessList:a,account:S,authorizationList:r,blobs:c,data:O,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:M,nonce:w,to:L?void 0:m,value:x},"call");if(s&&Sd({request:C})&&!I&&!y)try{return await kd(e,{...C,blockNumber:o,blockTag:i})}catch(D){if(!(D instanceof Da)&&!(D instanceof as))throw D}const R=(()=>{const D=[C,$];return I&&y?[...D,I,y]:I?[...D,I]:y?[...D,{},y]:D})(),U=await e.request({method:"eth_call",params:R});return U==="0x"?{data:void 0}:{data:U}}catch(v){const $=zd(v),{offchainLookup:y,offchainLookupSignature:I}=await di(async()=>{const{offchainLookup:k,offchainLookupSignature:A}=await import("./ccip-Cyceam4B.js");return{offchainLookup:k,offchainLookupSignature:A}},__vite__mapDeps([0,1,2,3]),import.meta.url);if(e.ccipRead!==!1&&$?.slice(0,10)===I&&m)return{data:await y(e,{data:$,to:m})};throw L&&$?.slice(0,10)==="0x101bb98d"?new lf({factory:d}):_a(v,{...t,account:S,chain:e.chain})}}function Sd({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith($d)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function kd(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return zt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Da})(),l=(typeof o=="bigint"?N(o):void 0)||i,{schedule:d}=Ha({id:`${e.uid}.${l}`,wait:s,shouldSplitBatch(b){return b.reduce((E,{data:M})=>E+(M.length-2),0)>n*2},fn:async b=>{const g=b.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),E=Ie({abi:Gn,args:[g],functionName:"aggregate3"}),M=await e.request({method:"eth_call",params:[{...u===null?{data:Va({code:Ys,data:E})}:{to:u,data:E}},l]});return lt({abi:Gn,args:[g],functionName:"aggregate3",data:M||"0x"})}}),[{returnData:h,success:p}]=await d({data:a,to:c});if(!p)throw new tr({data:h});return h==="0x"?{data:void 0}:{data:h}}function Va(e){const{code:t,data:n}=e;return Ks({abi:_t(["constructor(bytes, bytes)"]),bytecode:Ua,args:[t,n]})}function Ld(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Ks({abi:_t(["constructor(address, bytes, address, bytes)"]),bytecode:Nd,args:[s,t,n,r]})}function zd(e){if(!(e instanceof T))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function xe(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=Ie({abi:n,args:s,functionName:o});try{const{data:c}=await j(e,dr,"call")({...i,data:a,to:r});return lt({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw Ct(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Od(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?Pe(a.account):e.account,u=Ie({abi:n,args:s,functionName:i});try{const{data:f}=await j(e,dr,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),l=lt({abi:n,args:s,functionName:i,data:f||"0x"}),d=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:l,request:{abi:d,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(f){throw Ct(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}const Cr=new Map,Yo=new Map;let Fd=0;function We(e,t,n){const r=++Fd,s=()=>Cr.get(e)||[],o=()=>{const f=s();Cr.set(e,f.filter(l=>l.id!==r))},i=()=>{const f=s();if(!f.some(d=>d.id===r))return;const l=Yo.get(e);if(f.length===1&&l){const d=l();d instanceof Promise&&d.catch(()=>{})}o()},a=s();if(Cr.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=((...l)=>{const d=s();if(d.length!==0)for(const h of d)h.fns[f]?.(...l)});const u=n(c);return typeof u=="function"&&Yo.set(e,u),i}async function Hn(e){return new Promise(t=>setTimeout(t,e))}function Tn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await n?.(a)??r;await Hn(c);const u=async()=>{s&&(await e({unpoll:o}),await Hn(r),u())};u()})(),o}const Rd=new Map,jd=new Map;function Ud(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Rd),r=t(e,jd);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Dd(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Ud(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const _d=e=>`blockNumber.${e}`;async function Mn(e,{cacheTime:t=e.cacheTime}={}){const n=await Dd(()=>e.request({method:"eth_blockNumber"}),{cacheKey:_d(e.uid),cacheTime:t});return BigInt(n)}async function lr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>De(o));return!("abi"in t)||!t.abi?s:Gs({abi:t.abi,logs:s,strict:n})}async function hr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Gd(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:l=e.pollingInterval,strict:d}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=d??!1,E=J(["watchContractEvent",r,s,o,e.uid,i,l,g,a]);return We(E,{onLogs:u,onError:c},M=>{let w;a!==void 0&&(w=a-1n);let m,x=!1;const B=Tn(async()=>{if(!x){try{m=await j(e,Zi,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:g,fromBlock:a})}catch{}x=!0;return}try{let P;if(m)P=await j(e,lr,"getFilterChanges")({filter:m});else{const S=await j(e,Mn,"getBlockNumber")({});w&&w<S?P=await j(e,xa,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:w+1n,toBlock:S,strict:g}):P=[],w=S}if(P.length===0)return;if(o)M.onLogs(P);else for(const S of P)M.onLogs([S])}catch(P){m&&P instanceof ot&&(x=!1),M.onError?.(P)}},{emitOnBegin:!0,interval:l});return async()=>{m&&await j(e,hr,"uninstallFilter")({filter:m}),B()}})})():(()=>{const g=d??!1,E=J(["watchContractEvent",r,s,o,e.uid,i,l,g]);let M=!0,w=()=>M=!1;return We(E,{onLogs:u,onError:c},m=>((async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(F=>F.config.type==="webSocket"||F.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),B=i?vn({abi:n,eventName:i,args:s}):[],{unsubscribe:P}=await x.subscribe({params:["logs",{address:r,topics:B}],onData(S){if(!M)return;const F=S.result;try{const{eventName:z,args:L}=Pt({abi:n,data:F.data,topics:F.topics,strict:d}),O=De(F,{args:L,eventName:z});m.onLogs([O])}catch(z){let L,O;if(z instanceof Vt||z instanceof Yn){if(d)return;L=z.abiItem.name,O=z.abiItem.inputs?.some($=>!("name"in $&&$.name))}const v=De(F,{args:O?[]:{},eventName:L});m.onLogs([v])}},onError(S){m.onError?.(S)}});w=P,M||w()}catch(x){c?.(x)}})(),()=>w()))})()}async function Hd(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}function cs(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await Hn(f),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}const Vd={"0x0":"reverted","0x1":"success"};function Js(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>De(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Ne(e.transactionIndex):null,status:e.status?Vd[e.status]:null,type:e.type?aa[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const qd=Ls("transactionReceipt",Js),us=256;let zn=us,On;function qa(e=11){if(!On||zn+e>us*2){On="",zn=0;for(let t=0;t<us;t++)On+=(256+Math.random()*256|0).toString(16).substring(1)}return On.substring(zn,zn+++e)}function Wd(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,l=e.cacheTime??f,d=e.account?Pe(e.account):void 0,{config:h,request:p,value:b}=e.transport({chain:n,pollingInterval:f}),g={...h,...b},E={account:d,batch:t,cacheTime:l,ccipRead:r,chain:n,key:s,name:o,pollingInterval:f,request:p,transport:g,type:i,uid:qa(),...a?{experimental_blockTag:a}:{}};function M(w){return m=>{const x=m(w);for(const P in E)delete x[P];const B={...w,...x};return Object.assign(B,{extend:M(B)})}}return Object.assign(E,{extend:M(E)})}function Qs(e){if(!(e instanceof T))return!1;const t=e.walk(n=>n instanceof Yr);return t instanceof Yr?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function Zd(e){const{abi:t,data:n}=e,r=rt(n,0,4),s=t.find(o=>o.type==="function"&&r===xn(ye(o)));if(!s)throw new k0(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?En(s.inputs,rt(n,4)):void 0}}const Sr="/docs/contract/encodeErrorResult";function Ko(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=dt({abi:t,args:r,name:n});if(!c)throw new wo(n,{docsPath:Sr});s=c}if(s.type!=="error")throw new wo(void 0,{docsPath:Sr});const o=ye(s),i=xn(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new C0(s.name,{docsPath:Sr});a=ft(s.inputs,r)}return Ee([i,a])}const kr="/docs/contract/encodeFunctionResult";function Yd(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=dt({abi:t,name:n});if(!i)throw new Bt(n,{docsPath:kr});s=i}if(s.type!=="function")throw new Bt(void 0,{docsPath:kr});if(!s.outputs)throw new Mi(s.name,{docsPath:kr});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new $i(r)})();return ft(s.outputs,o)}const br="x-batch-gateway:true";async function Kd(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Zd({abi:is,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(br)?await Kd({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Jd(c)}})),Yd({abi:is,functionName:"query",result:[s,o]})}function Jd(e){return e.name==="HttpRequestError"&&e.status?Ko({abi:is,errorName:"HttpError",args:[e.status,e.shortMessage]}):Ko({abi:[Yi],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Wa(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return $e(t)?t:null}function fs(e){let t=new Uint8Array(32).fill(0);if(!e)return q(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Wa(n[r]),o=s?Lt(s):K(Xe(n[r]),"bytes");t=K(Se([t,o]),"bytes")}return q(t)}function Qd(e){return`[${e.slice(2)}]`}function Xd(e){const t=new Uint8Array(32).fill(0);return e?Wa(e)||K(Xe(e)):q(t)}function Xs(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Xe(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=Xe(s[o]);i.byteLength>255&&(i=Xe(Qd(Xd(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function el(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return zt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;const l=s!=null?[fs(o),BigInt(s)]:[fs(o)];try{const d=Ie({abi:Wo,functionName:"addr",args:l}),h={address:u,abi:Ra,functionName:"resolveWithGateways",args:[ce(Xs(o)),d,i??[br]],blockNumber:n,blockTag:r},b=await j(e,xe,"readContract")(h);if(b[0]==="0x")return null;const g=lt({abi:Wo,args:l,functionName:"addr",data:b[0]});return g==="0x"||me(g)==="0x00"?null:g}catch(d){if(a)throw d;if(Qs(d))return null;throw d}}class tl extends T{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class jt extends T{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class eo extends T{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class nl extends T{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const rl=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,sl=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,ol=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,il=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function al(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Jo(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Za({uri:e,gatewayUrls:t}){const n=ol.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Jo(t?.ipfs,"https://ipfs.io"),s=Jo(t?.arweave,"https://arweave.net"),o=e.match(rl),{protocol:i,subpath:a,target:c,subtarget:u=""}=o?.groups||{},f=i==="ipns:/"||a==="ipns/",l=i==="ipfs:/"||a==="ipfs/"||sl.test(e);if(e.startsWith("http")&&!f&&!l){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||l)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(il,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new eo({uri:e})}function Ya(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new tl({data:e});return e.image||e.image_url||e.image_data}async function cl({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await to({gatewayUrls:e,uri:Ya(n)})}catch{throw new eo({uri:t})}}async function to({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Za({uri:t,gatewayUrls:e});if(r||await al(n))return n;throw new eo({uri:t})}function ul(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new jt({reason:"Only EIP-155 supported"});if(!i)throw new jt({reason:"Chain ID not found"});if(!c)throw new jt({reason:"Contract address not found"});if(!s)throw new jt({reason:"Token ID not found"});if(!a)throw new jt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function fl(e,{nft:t}){if(t.namespace==="erc721")return xe(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return xe(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new nl({namespace:t.namespace})}async function dl(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?ll(e,{gatewayUrls:t,record:n}):to({uri:n,gatewayUrls:t})}async function ll(e,{gatewayUrls:t,record:n}){const r=ul(n),s=await fl(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Za({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return to({uri:Ya(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),cl({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Ka(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return zt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;try{const l={address:u,abi:Ra,args:[ce(Xs(o)),Ie({abi:qo,functionName:"text",args:[fs(o),s]}),i??[br]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await j(e,xe,"readContract")(l);if(h[0]==="0x")return null;const p=lt({abi:qo,functionName:"text",data:h[0]});return p===""?null:p}catch(l){if(a)throw l;if(Qs(l))return null;throw l}}async function hl(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await j(e,Ka,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await dl(e,{record:c,gatewayUrls:r})}catch{return null}}async function bl(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return zt({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:Md,args:[n,o,i??[br]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},l=j(e,xe,"readContract"),[d]=await l(f);return d||null}catch(f){if(a)throw f;if(Qs(f))return null;throw f}}async function pl(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return zt({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await j(e,xe,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ce(Xs(s))],blockNumber:n,blockTag:r});return c}async function Ja(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:d,value:h,...p}=t,b=n?Pe(n):void 0;try{Pn(t);const E=(typeof r=="bigint"?N(r):void 0)||s,M=e.chain?.formatters?.transactionRequest?.format,m=(M||rr)({...ks(p,{format:M}),account:b,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:d,value:h},"createAccessList"),x=await e.request({method:"eth_createAccessList",params:[m,E]});return{accessList:x.accessList,gasUsed:BigInt(x.gasUsed)}}catch(g){throw _a(g,{...t,account:b,chain:e.chain})}}async function ml(e){const t=Xn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Qa(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Xn(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>vn({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?N(o):o,toBlock:typeof a=="bigint"?N(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:l,request:u(l),strict:!!i,toBlock:a,type:"event"}}async function Xa(e){const t=Xn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function yl(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?N(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function gl(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function wl(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?N(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Ne(o)}async function ds(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?N(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class xl extends T{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function vl(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,l]=await j(e,xe,"readContract")({abi:El,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:l,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new xl({address:n}):i}}const El=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Pl(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function Il(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?N(n):void 0,i=await e.request({method:"eth_feeHistory",params:[N(t),o||r,s]},{dedupe:!!o});return Pl(i)}async function Al(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>De(o));return t.abi?Gs({abi:t.abi,logs:s,strict:n}):s}function Bl(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!W(s))throw new te({address:s});if(r<0)throw new fr({chainId:r})}no(e)}function Tl(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new pa;for(const n of t){const r=V(n),s=Ne(rt(n,0,1));if(r!==32)throw new Gf({hash:n,size:r});if(s!==ba)throw new Hf({hash:n,version:s})}}no(e)}function no(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new fr({chainId:t});if(s&&!W(s))throw new te({address:s});if(r&&r>sr)throw new it({maxFeePerGas:r});if(n&&r&&n>r)throw new pn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Ml(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new fr({chainId:t});if(o&&!W(o))throw new te({address:o});if(n||s)throw new T("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>sr)throw new it({maxFeePerGas:r})}function $l(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!W(o))throw new te({address:o});if(typeof t<"u"&&t<=0)throw new fr({chainId:t});if(n||s)throw new T("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>sr)throw new it({maxFeePerGas:r})}function pr(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new af({storageKey:s[o]});if(!W(r,{strict:!1}))throw new te({address:r});t.push([r,s])}return t}function Nl(e,t){const n=ya(e);return n==="eip1559"?kl(e,t):n==="eip2930"?Ll(e,t):n==="eip4844"?Sl(e,t):n==="eip7702"?Cl(e,t):zl(e,t)}function Cl(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:l}=e;Bl(e);const d=pr(f),h=Ol(n);return Ee(["0x04",qe([N(r),o?N(o):"0x",u?N(u):"0x",c?N(c):"0x",s?N(s):"0x",i??"0x",a?N(a):"0x",l??"0x",d,h,...$n(e,t)])])}function Sl(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:l}=e;Tl(e);let d=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof d>"u"||typeof h>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(B=>q(B)),m=e.kzg,x=js({blobs:w,kzg:m});if(typeof d>"u"&&(d=da({commitments:x})),typeof h>"u"){const B=Us({blobs:w,commitments:x,kzg:m});h=ma({blobs:w,commitments:x,proofs:B})}}const p=pr(f),b=[N(n),s?N(s):"0x",u?N(u):"0x",c?N(c):"0x",r?N(r):"0x",o??"0x",i?N(i):"0x",l??"0x",p,a?N(a):"0x",d??[],...$n(e,t)],g=[],E=[],M=[];if(h)for(let w=0;w<h.length;w++){const{blob:m,commitment:x,proof:B}=h[w];g.push(m),E.push(x),M.push(B)}return Ee(["0x03",qe(h?[b,g,E,M]:b)])}function kl(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:f}=e;no(e);const l=pr(u),d=[N(n),s?N(s):"0x",c?N(c):"0x",a?N(a):"0x",r?N(r):"0x",o??"0x",i?N(i):"0x",f??"0x",l,...$n(e,t)];return Ee(["0x02",qe(d)])}function Ll(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:u}=e;Ml(e);const f=pr(c),l=[N(n),o?N(o):"0x",u?N(u):"0x",r?N(r):"0x",i??"0x",a?N(a):"0x",s??"0x",f,...$n(e,t)];return Ee(["0x01",qe(l)])}function zl(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;$l(e);let u=[o?N(o):"0x",c?N(c):"0x",r?N(r):"0x",i??"0x",a?N(a):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new sf({v:t.v});return h})(),l=me(t.r),d=me(t.s);u=[...u,N(f),l==="0x00"?"0x":l,d==="0x00"?"0x":d]}else n>0&&(u=[...u,N(n),"0x","0x"]);return qe(u)}function $n(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=me(n.r),i=me(n.s);return[typeof s=="number"?s?N(1):"0x":r===0n?"0x":r===1n?N(1):r===27n?"0x":N(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function Ol(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,i=n.address;t.push([r?ce(r):"0x",i,s?ce(s):"0x",...$n({},o)])}return t}async function Fl({address:e,authorization:t,signature:n}){return ir(_i(e),await oa({authorization:t,signature:n}))}const Fn=new As(8192);function Rl(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Fn.get(n))return Fn.get(n);const r=e().finally(()=>Fn.delete(n));return Fn.set(n,r),r}function jl(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if(o?.exclude?.includes(u))throw new Ke(new Error("method not supported"),{method:u});if(o?.include&&!o.include.includes(u))throw new Ke(new Error("method not supported"),{method:u});const f=s?qt(`${c}.${J(n)}`):void 0;return Rl(()=>cs(async()=>{try{return await e(n)}catch(l){const d=l;switch(d.code){case Yt.code:throw new Yt(d);case Kt.code:throw new Kt(d);case Jt.code:throw new Jt(d,{method:n.method});case Qt.code:throw new Qt(d);case st.code:throw new st(d);case ot.code:throw new ot(d);case Xt.code:throw new Xt(d);case en.code:throw new en(d);case $t.code:throw new $t(d);case Ke.code:throw new Ke(d,{method:n.method});case Nt.code:throw new Nt(d);case tn.code:throw new tn(d);case et.code:throw new et(d);case nn.code:throw new nn(d);case rn.code:throw new rn(d);case sn.code:throw new sn(d);case on.code:throw new on(d);case an.code:throw new an(d);case cn.code:throw new cn(d);case un.code:throw new un(d);case fn.code:throw new fn(d);case dn.code:throw new dn(d);case ln.code:throw new ln(d);case hn.code:throw new hn(d);case bn.code:throw new bn(d);case 5e3:throw new et(d);default:throw l instanceof T?l:new bf(d)}}},{delay:({count:l,error:d})=>{if(d&&d instanceof Ht){const h=d?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<l)*i},retryCount:a,shouldRetry:({error:l})=>Ul(l)}),{enabled:s,id:f})}}function Ul(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Nt.code||e.code===st.code:e instanceof Ht&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function ht(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function Dl(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r&&a.abort()},n)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function _l(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Qo=_l();function Gl(e,t={}){return{async request(n){const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:o=t.onRequest,onResponse:i=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:f,signal:l}=c;try{const d=await Dl(async({signal:p})=>{const b={...c,body:Array.isArray(r)?J(r.map(w=>({jsonrpc:"2.0",id:w.id??Qo.take(),...w}))):J({jsonrpc:"2.0",id:r.id??Qo.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:l||(a>0?p:null)},g=new Request(e,b),E=await o?.(g,b)??{...b,url:e};return await s(E.url??e,E)},{errorInstance:new ko({body:r,url:e}),timeout:a,signal:!0});i&&await i(d);let h;if(d.headers.get("Content-Type")?.startsWith("application/json"))h=await d.json();else{h=await d.text();try{h=JSON.parse(h||"{}")}catch(p){if(d.ok)throw p;h={error:h}}}if(!d.ok)throw new Ht({body:r,details:J(h.error)||d.statusText,headers:d.headers,status:d.status,url:e});return h}catch(d){throw d instanceof Ht||d instanceof ko?d:new Ht({body:r,cause:d,url:e})}}}}const Hl=`Ethereum Signed Message:
`;function Vl(e){const t=typeof e=="string"?qt(e):typeof e.raw=="string"?e.raw:q(e.raw),n=qt(`${Hl}${V(t)}`);return Se([n,t])}function ec(e,t){return K(Vl(e),t)}class ql extends T{constructor({domain:t}){super(`Invalid domain "${J(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Wl extends T{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Zl extends T{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Yl(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,l=a[u],d=f.match(qi);if(d&&(typeof l=="number"||typeof l=="bigint")){const[b,g,E]=d;N(l,{signed:g==="int",size:Number.parseInt(E,10)/8})}if(f==="address"&&typeof l=="string"&&!W(l))throw new te({address:l});const h=f.match(Tu);if(h){const[b,g]=h;if(g&&V(l)!==Number.parseInt(g,10))throw new z0({expectedSize:Number.parseInt(g,10),givenSize:V(l)})}const p=s[f];p&&(Jl(f),o(p,l))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new ql({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Wl({primaryType:r,types:s})}function Kl({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Jl(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Zl({type:e})}function Ql(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Kl({domain:t}),...e.types};Yl({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Xl({domain:t,types:s})),r!=="EIP712Domain"&&o.push(tc({data:n,primaryType:r,types:s})),K(Se(o))}function Xl({domain:e,types:t}){return tc({data:e,primaryType:"EIP712Domain",types:t})}function tc({data:e,primaryType:t,types:n}){const r=nc({data:e,primaryType:t,types:n});return K(r)}function nc({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[e1({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=sc({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return ft(r,s)}function e1({primaryType:e,types:t}){const n=ce(t1({primaryType:e,types:t}));return K(n)}function t1({primaryType:e,types:t}){let n="";const r=rc({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function rc({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])rc({primaryType:o.type,types:t},n);return n}function sc({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},K(nc({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},K(r)];if(n==="string")return[{type:"bytes32"},K(ce(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>sc({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},K(ft(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class n1 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const r1={checksum:new n1(8192)},Lr=r1.checksum;function oc(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Ui(cd(e));return n==="Bytes"?r:we(r)}const s1=/^0x[a-fA-F0-9]{40}$/;function mr(e,t={}){const{strict:n=!0}=t;if(!s1.test(e))throw new Xo({address:e,cause:new o1});if(n){if(e.toLowerCase()===e)return;if(ic(e)!==e)throw new Xo({address:e,cause:new i1})}}function ic(e){if(Lr.has(e))return Lr.get(e);mr(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=oc(fd(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return Lr.set(e,s),s}function ls(e,t={}){const{strict:n=!0}=t??{};try{return mr(e,{strict:n}),!0}catch{return!1}}class Xo extends _{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class o1 extends _{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class i1 extends _{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const a1=/^(.*)\[([0-9]*)\]$/,c1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ac=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ei=2n**256n-1n;function At(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=oo(t.type);if(o){const[i,a]=o;return f1(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return b1(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return u1(e,{checksum:r});if(t.type==="bool")return d1(e);if(t.type.startsWith("bytes"))return l1(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return h1(e,t);if(t.type==="string")return p1(e,{staticPosition:s});throw new ao(t.type)}const ti=32,hs=32;function u1(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?ic(o):o)(we(ld(r,-20))),32]}function f1(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=je(e.readBytes(hs)),u=o+c,f=u+ti;e.setPosition(u);const l=je(e.readBytes(ti)),d=gn(t);let h=0;const p=[];for(let b=0;b<l;++b){e.setPosition(f+(d?b*32:h));const[g,E]=At(e,t,{checksumAddress:r,staticPosition:f});h+=E,p.push(g)}return e.setPosition(o+32),[p,32]}if(gn(t)){const c=je(e.readBytes(hs)),u=o+c,f=[];for(let l=0;l<s;++l){e.setPosition(u+l*32);const[d]=At(e,t,{checksumAddress:r,staticPosition:u});f.push(d)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=At(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function d1(e){return[bd(e.readBytes(32),{size:32}),32]}function l1(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=je(e.readBytes(32));e.setPosition(n+i);const a=je(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[we(c),32]}return[we(e.readBytes(Number.parseInt(s,10),32)),32]}function h1(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?hd(s,{signed:n}):je(s,{signed:n}),32]}function b1(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(gn(t)){const c=je(e.readBytes(hs)),u=s+c;for(let f=0;f<t.components.length;++f){const l=t.components[f];e.setPosition(u+a);const[d,h]=At(e,l,{checksumAddress:r,staticPosition:u});a+=h,i[o?f:l?.name]=d}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,l]=At(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u?.name]=f,a+=l}return[i,a]}function p1(e,{staticPosition:t}){const n=je(e.readBytes(32)),r=t+n;e.setPosition(r);const s=je(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=pd(Na(o));return e.setPosition(t+32),[i,32]}function m1({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(ro({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function ro({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=oo(r.type);if(s){const[o,i]=s;return g1(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return P1(n,{checksumAddress:e,parameter:r});if(r.type==="address")return y1(n,{checksum:e});if(r.type==="bool")return x1(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=ac.exec(r.type)??[];return v1(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return w1(n,{type:r.type});if(r.type==="string")return E1(n);throw new ao(r.type)}function so(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=ue(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(Q(t+s,{size:32})),r.push(a),s+=ue(a)):n.push(a)}return ge(...n,...r)}function y1(e,t){const{checksum:n=!1}=t;return mr(e,{strict:n}),{dynamic:!1,encoded:at(e.toLowerCase())}}function g1(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new S1(e);if(!o&&e.length!==r)throw new C1({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=ro({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=so(a);if(o){const u=Q(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?ge(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:ge(...a.map(({encoded:c})=>c))}}function w1(e,{type:t}){const[,n]=t.split("bytes"),r=ue(e);if(!n){let s=e;return r%32!==0&&(s=ct(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:ge(at(Q(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new uc({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:ct(e)}}function x1(e){if(typeof e!="boolean")throw new _(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:at(Ca(e))}}function v1(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new La({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Q(e,{size:32,signed:t})}}function E1(e){const t=Zs(e),n=Math.ceil(ue(t)/32),r=[];for(let s=0;s<n;s++)r.push(ct(Me(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:ge(ct(Q(ue(t),{size:32})),...r)}}function P1(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=ro({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?so(o):ge(...o.map(({encoded:i})=>i))}}function oo(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function gn(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(gn);const n=oo(e.type);return!!(n&&gn({...e,type:n[1]}))}const I1={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new T1({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new B1({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ni({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ni({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function A1(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(I1);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class ni extends _{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class B1 extends _{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class T1 extends _{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function M1(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?$a(t):t,i=A1(o);if(xt(o)===0&&e.length>0)throw new N1;if(xt(o)&&xt(o)<32)throw new $1({data:typeof t=="string"?t:we(t),parameters:e,size:xt(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[l,d]=At(i,f,{checksumAddress:s,staticPosition:0});a+=d,r==="Array"?c.push(l):c[f.name??u]=l}return c}function io(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new fc({expectedLength:e.length,givenLength:t.length});const s=m1({checksumAddress:r,parameters:e,values:t}),o=so(s);return o.length===0?"0x":o}function bs(e,t){if(e.length!==t.length)throw new fc({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(bs.encode(s,o))}return ge(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return mr(c),at(c.toLowerCase(),s?32:0)}if(n==="string")return Zs(r);if(n==="bytes")return r;if(n==="bool")return at(Ca(r),s?32:1);const o=n.match(ac);if(o){const[c,u,f="256"]=o,l=Number.parseInt(f,10)/8;return Q(r,{size:s?32:l,signed:u==="int"})}const i=n.match(c1);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new uc({expectedSize:Number.parseInt(u,10),value:r});return ct(r,s?32:0)}const a=n.match(a1);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let l=0;l<r.length;l++)f.push(t(u,r[l],!0));return f.length===0?"0x":ge(...f)}throw new ao(n)}e.encode=t})(bs||(bs={}));function cc(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?yo(e):e}class $1 extends _{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${wt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class N1 extends _{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class C1 extends _{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class uc extends _{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ue(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class fc extends _{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class S1 extends _{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class ao extends _{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class dc extends Ps{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,ru(t);const r=Kn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Mt(o)}update(t){return Tt(this),this.iHash.update(t),this}digestInto(t){Tt(this),nt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const lc=(e,t,n)=>new dc(e,t).update(n).digest();lc.create=(e,t)=>new dc(e,t);const se=BigInt(0),ee=BigInt(1),Qe=BigInt(2),k1=BigInt(3),hc=BigInt(4),bc=BigInt(5),pc=BigInt(8);function re(e,t){const n=e%t;return n>=se?n:t+n}function de(e,t,n){let r=e;for(;t-- >se;)r*=r,r%=n;return r}function ps(e,t){if(e===se)throw new Error("invert: expected non-zero number");if(t<=se)throw new Error("invert: expected positive modulus, got "+t);let n=re(e,t),r=t,s=se,o=ee;for(;n!==se;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==ee)throw new Error("invert: does not exist");return re(s,t)}function mc(e,t){const n=(e.ORDER+ee)/hc,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function L1(e,t){const n=(e.ORDER-bc)/pc,r=e.mul(t,Qe),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,Qe),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function z1(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ee,n=0;for(;t%Qe===se;)t/=Qe,n++;let r=Qe;const s=co(e);for(;ri(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return mc;let o=s.pow(r,t);const i=(t+ee)/Qe;return function(c,u){if(c.is0(u))return u;if(ri(c,u)!==1)throw new Error("Cannot find square root");let f=n,l=c.mul(c.ONE,o),d=c.pow(u,t),h=c.pow(u,i);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let p=1,b=c.sqr(d);for(;!c.eql(b,c.ONE);)if(p++,b=c.sqr(b),p===f)throw new Error("Cannot find square root");const g=ee<<BigInt(f-p-1),E=c.pow(l,g);f=p,l=c.sqr(E),d=c.mul(d,l),h=c.mul(h,E)}return h}}function O1(e){return e%hc===k1?mc:e%pc===bc?L1:z1(e)}const F1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function R1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=F1.reduce((r,s)=>(r[s]="function",r),t);return cr(e,n)}function j1(e,t,n){if(n<se)throw new Error("invalid exponent, negatives unsupported");if(n===se)return e.ONE;if(n===ee)return t;let r=e.ONE,s=t;for(;n>se;)n&ee&&(r=e.mul(r,s)),s=e.sqr(s),n>>=ee;return r}function yc(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function ri(e,t){const n=(e.ORDER-ee)/Qe,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function gc(e,t){t!==void 0&&Wt(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function co(e,t,n=!1,r={}){if(e<=se)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=gc(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:ar(s),ZERO:se,ONE:ee,create:c=>re(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return se<=c&&c<e},is0:c=>c===se,isOdd:c=>(c&ee)===ee,neg:c=>re(-c,e),eql:(c,u)=>c===u,sqr:c=>re(c*c,e),add:(c,u)=>re(c+u,e),sub:(c,u)=>re(c-u,e),mul:(c,u)=>re(c*u,e),pow:(c,u)=>j1(a,c,u),div:(c,u)=>re(c*ps(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>ps(c,e),sqrt:r.sqrt||(c=>(i||(i=O1(e)),i(a,c))),toBytes:c=>n?Ia(c,o):An(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?Pa(c):tt(c)},invertBatch:c=>yc(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function wc(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function xc(e){const t=wc(e);return t+Math.ceil(t/2)}function U1(e,t,n=!1){const r=e.length,s=wc(t),o=xc(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?Pa(e):tt(e),a=re(i,t-ee)+ee;return n?Ia(a,s):An(a,s)}const si=BigInt(0),ms=BigInt(1);function zr(e,t){const n=t.negate();return e?n:t}function vc(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Or(e,t){vc(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=ar(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function oi(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=ms);const u=t*r,f=u+Math.abs(a)-1,l=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:l,isNeg:d,isNegF:h,offsetF:u}}function D1(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function _1(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Fr=new WeakMap,Ec=new WeakMap;function Rr(e){return Ec.get(e)||1}function G1(e,t){return{constTimeNegate:zr,hasPrecomputes(n){return Rr(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>si;)r&ms&&(s=s.add(o)),o=o.double(),r>>=ms;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=Or(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=Or(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:l,isNeg:d,isNegF:h,offsetF:p}=oi(s,c,a);s=u,l?i=i.add(zr(h,r[p])):o=o.add(zr(d,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=Or(n,t);for(let a=0;a<i.windows&&s!==si;a++){const{nextN:c,offset:u,isZero:f,isNeg:l}=oi(s,a,i);if(s=c,!f){const d=r[u];o=o.add(l?d.negate():d)}}return o},getPrecomputes(n,r,s){let o=Fr.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Fr.set(r,s(o))),o},wNAFCached(n,r,s){const o=Rr(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=Rr(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){vc(r,t),Ec.set(n,r),Fr.delete(n)}}}function H1(e,t,n,r){D1(n,e),_1(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=Jf(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=ar(c),f=new Array(Number(u)+1).fill(i),l=Math.floor((t.BITS-1)/c)*c;let d=i;for(let h=l;h>=0;h-=c){f.fill(i);for(let b=0;b<o;b++){const g=r[b],E=Number(g>>BigInt(h)&u);f[E]=f[E].add(n[b])}let p=i;for(let b=f.length-1,g=i;b>0;b--)g=g.add(f[b]),p=p.add(g);if(d=d.add(p),h!==0)for(let b=0;b<c;b++)d=d.double()}return d}function Pc(e){return R1(e.Fp),cr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...gc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function ii(e){e.lowS!==void 0&&mn("lowS",e.lowS),e.prehash!==void 0&&mn("prehash",e.prehash)}function V1(e){const t=Pc(e);cr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class q1 extends Error{constructor(t=""){super(t)}}const Oe={Err:q1,_tlv:{encode:(e,t)=>{const{Err:n}=Oe;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Ln(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Ln(s.length/2|128):"";return Ln(e)+o+s+t},decode(e,t){const{Err:n}=Oe;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Oe;if(e<Fe)throw new t("integer: negative integers are not allowed");let n=Ln(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Oe;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return tt(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Oe,s=le("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Oe,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function jr(e,t){return yn(An(e,t))}const Fe=BigInt(0),Y=BigInt(1);BigInt(2);const Ur=BigInt(3),W1=BigInt(4);function Z1(e){const t=V1(e),{Fp:n}=t,r=co(t.n,t.nBitLength),s=t.toBytes||((w,m,x)=>{const B=m.toAffine();return _n(Uint8Array.from([4]),n.toBytes(B.x),n.toBytes(B.y))}),o=t.fromBytes||(w=>{const m=w.subarray(1),x=n.fromBytes(m.subarray(0,n.BYTES)),B=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x,y:B}});function i(w){const{a:m,b:x}=t,B=n.sqr(w),P=n.mul(B,w);return n.add(n.add(P,n.mul(w,m)),x)}function a(w,m){const x=n.sqr(m),B=i(w);return n.eql(x,B)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Ur),W1),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(w){return Ws(w,Y,t.n)}function l(w){const{allowedPrivateKeyLengths:m,nByteLength:x,wrapPrivateKey:B,n:P}=t;if(m&&typeof w!="bigint"){if(In(w)&&(w=yn(w)),typeof w!="string"||!m.includes(w.length))throw new Error("invalid private key");w=w.padStart(x*2,"0")}let S;try{S=typeof w=="bigint"?w:tt(le("private key",w,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof w)}return B&&(S=re(S,P)),It("private key",S,Y,P),S}function d(w){if(!(w instanceof b))throw new Error("ProjectivePoint expected")}const h=_o((w,m)=>{const{px:x,py:B,pz:P}=w;if(n.eql(P,n.ONE))return{x,y:B};const S=w.is0();m==null&&(m=S?n.ONE:n.inv(P));const F=n.mul(x,m),z=n.mul(B,m),L=n.mul(P,m);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(L,n.ONE))throw new Error("invZ was invalid");return{x:F,y:z}}),p=_o(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:m,y:x}=w.toAffine();if(!n.isValid(m)||!n.isValid(x))throw new Error("bad point: x or y not FE");if(!a(m,x))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(m,x,B){if(m==null||!n.isValid(m))throw new Error("x required");if(x==null||!n.isValid(x)||n.is0(x))throw new Error("y required");if(B==null||!n.isValid(B))throw new Error("z required");this.px=m,this.py=x,this.pz=B,Object.freeze(this)}static fromAffine(m){const{x,y:B}=m||{};if(!m||!n.isValid(x)||!n.isValid(B))throw new Error("invalid affine point");if(m instanceof b)throw new Error("projective point not allowed");const P=S=>n.eql(S,n.ZERO);return P(x)&&P(B)?b.ZERO:new b(x,B,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const x=yc(n,m.map(B=>B.pz));return m.map((B,P)=>B.toAffine(x[P])).map(b.fromAffine)}static fromHex(m){const x=b.fromAffine(o(le("pointHex",m)));return x.assertValidity(),x}static fromPrivateKey(m){return b.BASE.multiply(l(m))}static msm(m,x){return H1(b,r,m,x)}_setWindowSize(m){M.setWindowSize(this,m)}assertValidity(){p(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){d(m);const{px:x,py:B,pz:P}=this,{px:S,py:F,pz:z}=m,L=n.eql(n.mul(x,z),n.mul(S,P)),O=n.eql(n.mul(B,z),n.mul(F,P));return L&&O}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:x}=t,B=n.mul(x,Ur),{px:P,py:S,pz:F}=this;let z=n.ZERO,L=n.ZERO,O=n.ZERO,v=n.mul(P,P),$=n.mul(S,S),y=n.mul(F,F),I=n.mul(P,S);return I=n.add(I,I),O=n.mul(P,F),O=n.add(O,O),z=n.mul(m,O),L=n.mul(B,y),L=n.add(z,L),z=n.sub($,L),L=n.add($,L),L=n.mul(z,L),z=n.mul(I,z),O=n.mul(B,O),y=n.mul(m,y),I=n.sub(v,y),I=n.mul(m,I),I=n.add(I,O),O=n.add(v,v),v=n.add(O,v),v=n.add(v,y),v=n.mul(v,I),L=n.add(L,v),y=n.mul(S,F),y=n.add(y,y),v=n.mul(y,I),z=n.sub(z,v),O=n.mul(y,$),O=n.add(O,O),O=n.add(O,O),new b(z,L,O)}add(m){d(m);const{px:x,py:B,pz:P}=this,{px:S,py:F,pz:z}=m;let L=n.ZERO,O=n.ZERO,v=n.ZERO;const $=t.a,y=n.mul(t.b,Ur);let I=n.mul(x,S),k=n.mul(B,F),A=n.mul(P,z),C=n.add(x,B),R=n.add(S,F);C=n.mul(C,R),R=n.add(I,k),C=n.sub(C,R),R=n.add(x,P);let U=n.add(S,z);return R=n.mul(R,U),U=n.add(I,A),R=n.sub(R,U),U=n.add(B,P),L=n.add(F,z),U=n.mul(U,L),L=n.add(k,A),U=n.sub(U,L),v=n.mul($,R),L=n.mul(y,A),v=n.add(L,v),L=n.sub(k,v),v=n.add(k,v),O=n.mul(L,v),k=n.add(I,I),k=n.add(k,I),A=n.mul($,A),R=n.mul(y,R),k=n.add(k,A),A=n.sub(I,A),A=n.mul($,A),R=n.add(R,A),I=n.mul(k,R),O=n.add(O,I),I=n.mul(U,R),L=n.mul(C,L),L=n.sub(L,I),I=n.mul(C,k),v=n.mul(U,v),v=n.add(v,I),new b(L,O,v)}subtract(m){return this.add(m.negate())}is0(){return this.equals(b.ZERO)}wNAF(m){return M.wNAFCached(this,m,b.normalizeZ)}multiplyUnsafe(m){const{endo:x,n:B}=t;It("scalar",m,Fe,B);const P=b.ZERO;if(m===Fe)return P;if(this.is0()||m===Y)return this;if(!x||M.hasPrecomputes(this))return M.wNAFCachedUnsafe(this,m,b.normalizeZ);let{k1neg:S,k1:F,k2neg:z,k2:L}=x.splitScalar(m),O=P,v=P,$=this;for(;F>Fe||L>Fe;)F&Y&&(O=O.add($)),L&Y&&(v=v.add($)),$=$.double(),F>>=Y,L>>=Y;return S&&(O=O.negate()),z&&(v=v.negate()),v=new b(n.mul(v.px,x.beta),v.py,v.pz),O.add(v)}multiply(m){const{endo:x,n:B}=t;It("scalar",m,Y,B);let P,S;if(x){const{k1neg:F,k1:z,k2neg:L,k2:O}=x.splitScalar(m);let{p:v,f:$}=this.wNAF(z),{p:y,f:I}=this.wNAF(O);v=M.constTimeNegate(F,v),y=M.constTimeNegate(L,y),y=new b(n.mul(y.px,x.beta),y.py,y.pz),P=v.add(y),S=$.add(I)}else{const{p:F,f:z}=this.wNAF(m);P=F,S=z}return b.normalizeZ([P,S])[0]}multiplyAndAddUnsafe(m,x,B){const P=b.BASE,S=(z,L)=>L===Fe||L===Y||!z.equals(P)?z.multiplyUnsafe(L):z.multiply(L),F=S(this,x).add(S(m,B));return F.is0()?void 0:F}toAffine(m){return h(this,m)}isTorsionFree(){const{h:m,isTorsionFree:x}=t;if(m===Y)return!0;if(x)return x(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:x}=t;return m===Y?this:x?x(b,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return mn("isCompressed",m),this.assertValidity(),s(b,this,m)}toHex(m=!0){return mn("isCompressed",m),yn(this.toRawBytes(m))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:E}=t,M=G1(b,g?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:f}}function Y1(e){const t=Pc(e);return cr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function K1(e){const t=Y1(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(y){return re(y,r)}function u(y){return ps(y,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:h}=Z1({...t,toBytes(y,I,k){const A=I.toAffine(),C=n.toBytes(A.x),R=_n;return mn("isCompressed",k),k?R(Uint8Array.from([I.hasEvenY()?2:3]),C):R(Uint8Array.from([4]),C,n.toBytes(A.y))},fromBytes(y){const I=y.length,k=y[0],A=y.subarray(1);if(I===i&&(k===2||k===3)){const C=tt(A);if(!Ws(C,Y,n.ORDER))throw new Error("Point is not on curve");const R=d(C);let U;try{U=n.sqrt(R)}catch(H){const G=H instanceof Error?": "+H.message:"";throw new Error("Point is not on curve"+G)}const D=(U&Y)===Y;return(k&1)===1!==D&&(U=n.neg(U)),{x:C,y:U}}else if(I===a&&k===4){const C=n.fromBytes(A.subarray(0,n.BYTES)),R=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:C,y:R}}else{const C=i,R=a;throw new Error("invalid Point, expected length of "+C+", or uncompressed "+R+", got "+I)}}});function p(y){const I=r>>Y;return y>I}function b(y){return p(y)?c(-y):y}const g=(y,I,k)=>tt(y.slice(I,k));class E{constructor(I,k,A){It("r",I,Y,r),It("s",k,Y,r),this.r=I,this.s=k,A!=null&&(this.recovery=A),Object.freeze(this)}static fromCompact(I){const k=s;return I=le("compactSignature",I,k*2),new E(g(I,0,k),g(I,k,2*k))}static fromDER(I){const{r:k,s:A}=Oe.toSig(le("DER",I));return new E(k,A)}assertValidity(){}addRecoveryBit(I){return new E(this.r,this.s,I)}recoverPublicKey(I){const{r:k,s:A,recovery:C}=this,R=P(le("msgHash",I));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const U=C===2||C===3?k+t.n:k;if(U>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",Z=f.fromHex(D+jr(U,n.BYTES)),H=u(U),G=c(-R*H),ne=c(A*H),be=f.BASE.multiplyAndAddUnsafe(Z,G,ne);if(!be)throw new Error("point at infinify");return be.assertValidity(),be}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Dn(this.toDERHex())}toDERHex(){return Oe.hexFromSig(this)}toCompactRawBytes(){return Dn(this.toCompactHex())}toCompactHex(){const I=s;return jr(this.r,I)+jr(this.s,I)}}const M={isValidPrivateKey(y){try{return l(y),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const y=xc(t.n);return U1(t.randomBytes(y),t.n)},precompute(y=8,I=f.BASE){return I._setWindowSize(y),I.multiply(BigInt(3)),I}};function w(y,I=!0){return f.fromPrivateKey(y).toRawBytes(I)}function m(y){if(typeof y=="bigint")return!1;if(y instanceof f)return!0;const k=le("key",y).length,A=n.BYTES,C=A+1,R=2*A+1;if(!(t.allowedPrivateKeyLengths||s===C))return k===C||k===R}function x(y,I,k=!0){if(m(y)===!0)throw new Error("first arg must be private key");if(m(I)===!1)throw new Error("second arg must be public key");return f.fromHex(I).multiply(l(y)).toRawBytes(k)}const B=t.bits2int||function(y){if(y.length>8192)throw new Error("input is too large");const I=tt(y),k=y.length*8-o;return k>0?I>>BigInt(k):I},P=t.bits2int_modN||function(y){return c(B(y))},S=ar(o);function F(y){return It("num < 2^"+o,y,Fe,S),An(y,s)}function z(y,I,k=L){if(["recovered","canonical"].some(Ze=>Ze in k))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:C}=t;let{lowS:R,prehash:U,extraEntropy:D}=k;R==null&&(R=!0),y=le("msgHash",y),ii(k),U&&(y=le("prehashed msgHash",A(y)));const Z=P(y),H=l(I),G=[F(H),F(Z)];if(D!=null&&D!==!1){const Ze=D===!0?C(n.BYTES):D;G.push(le("extraEntropy",Ze))}const ne=_n(...G),be=Z;function wr(Ze){const bt=B(Ze);if(!h(bt))return;const xr=u(bt),Ot=f.BASE.multiply(bt).toAffine(),Ye=c(Ot.x);if(Ye===Fe)return;const Ft=c(xr*c(be+Ye*H));if(Ft===Fe)return;let pt=(Ot.x===Ye?0:2)|Number(Ot.y&Y),ho=Ft;return R&&p(Ft)&&(ho=b(Ft),pt^=1),new E(Ye,ho,pt)}return{seed:ne,k2sig:wr}}const L={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};function v(y,I,k=L){const{seed:A,k2sig:C}=z(y,I,k),R=t;return Qf(R.hash.outputLen,R.nByteLength,R.hmac)(A,C)}f.BASE._setWindowSize(8);function $(y,I,k,A=O){const C=y;I=le("msgHash",I),k=le("publicKey",k);const{lowS:R,prehash:U,format:D}=A;if(ii(A),"strict"in A)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&D!=="compact"&&D!=="der")throw new Error("format must be compact or der");const Z=typeof C=="string"||In(C),H=!Z&&!D&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!Z&&!H)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let G,ne;try{if(H&&(G=new E(C.r,C.s)),Z){try{D!=="compact"&&(G=E.fromDER(C))}catch(pt){if(!(pt instanceof Oe.Err))throw pt}!G&&D!=="der"&&(G=E.fromCompact(C))}ne=f.fromHex(k)}catch{return!1}if(!G||R&&G.hasHighS())return!1;U&&(I=t.hash(I));const{r:be,s:wr}=G,Ze=P(I),bt=u(wr),xr=c(Ze*bt),Ot=c(be*bt),Ye=f.BASE.multiplyAndAddUnsafe(ne,xr,Ot)?.toAffine();return Ye?c(Ye.x)===be:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:x,sign:v,verify:$,ProjectivePoint:f,Signature:E,utils:M}}function J1(e){return{hash:e,hmac:(t,...n)=>lc(e,t,uu(...n)),randomBytes:fu}}function Q1(e,t){const n=r=>K1({...e,...J1(r)});return{...n(t),create:n}}const Ic=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ai=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),X1=BigInt(0),eh=BigInt(1),ys=BigInt(2),ci=(e,t)=>(e+t/ys)/t;function th(e){const t=Ic,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,l=de(f,n,t)*f%t,d=de(l,n,t)*f%t,h=de(d,ys,t)*u%t,p=de(h,s,t)*h%t,b=de(p,o,t)*p%t,g=de(b,a,t)*b%t,E=de(g,c,t)*g%t,M=de(E,a,t)*b%t,w=de(M,n,t)*f%t,m=de(w,i,t)*p%t,x=de(m,r,t)*u%t,B=de(x,ys,t);if(!gs.eql(gs.sqr(B),e))throw new Error("Cannot find square root");return B}const gs=co(Ic,void 0,void 0,{sqrt:th}),Ac=Q1({a:X1,b:BigInt(7),Fp:gs,n:ai,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ai,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-eh*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=ci(o*e,t),c=ci(-r*e,t);let u=re(e-a*n-c*s,t),f=re(-a*r-c*o,t);const l=u>i,d=f>i;if(l&&(u=t-u),d&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:d,k2:f}}}},fa),nh=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Ac},Symbol.toStringTag,{value:"Module"}));function Bc(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Dr({signature:e});if(typeof e.s>"u")throw new Dr({signature:e});if(n&&typeof e.yParity>"u")throw new Dr({signature:e});if(e.r<0n||e.r>ei)throw new uh({value:e.r});if(e.s<0n||e.s>ei)throw new fh({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new fo({value:e.yParity})}function rh(e){return Tc(we(e))}function Tc(e){if(e.length!==130&&e.length!==132)throw new ch({signature:e});const t=BigInt(Me(e,0,32)),n=BigInt(Me(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return uo(s)}catch{throw new fo({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function sh(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return oh(e)}function oh(e){const t=typeof e=="string"?Tc(e):e instanceof Uint8Array?rh(e):typeof e.r=="string"?ah(e):e.v?ih(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Bc(t),t}function ih(e){return{r:e.r,s:e.s,yParity:uo(e.v)}}function ah(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=uo(n)),typeof r!="number")throw new fo({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function uo(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new dh({value:e})}class ch extends _{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ue(Pd(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Dr extends _{constructor({signature:t}){super(`Signature \`${Ma(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class uh extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class fh extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class fo extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class dh extends _{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function lh(e,t={}){return typeof e.chainId=="string"?hh(e):{...e,...t.signature}}function hh(e){const{address:t,chainId:n,nonce:r}=e,s=sh(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const bh="0x8010801080108010801080108010801080108010801080108010801080108010",ph=cc("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Mc(e){if(typeof e=="string"){if(Me(e,-32)!==bh)throw new gh(e)}else Bc(e.authorization)}function mh(e){Mc(e);const t=ka(Me(e,-64,-32)),n=Me(e,-t-64,-64),r=Me(e,0,-t-64),[s,o,i]=M1(ph,n);return{authorization:lh({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function yh(e){try{return Mc(e),!0}catch{return!1}}let gh=class extends _{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function wh(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function xh(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Ne(e.nonce):void 0,storageProof:e.storageProof?wh(e.storageProof):void 0}}async function vh(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?N(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return xh(a)}async function Eh(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?N(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function lo(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){const i=r||"latest",a=n!==void 0?N(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,N(o)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,N(o)]},{dedupe:!!a}),!c)throw new Qi({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||or)(c,"getTransaction")}async function Ph(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([j(e,Mn,"getBlockNumber")({}),t?j(e,lo,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function Rn(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Xi({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Js)(n,"getTransactionReceipt")}async function Ih(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:l=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},d=(()=>{if(t.multicallAddress)return t.multicallAddress;if(l)return null;if(e.chain)return zt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let p=0,b=0;for(let M=0;M<u.length;M++){const{abi:w,address:m,args:x,functionName:B}=u[M];try{const P=Ie({abi:w,args:x,functionName:B});b+=(P.length-2)/2,f>0&&b>f&&h[p].length>0&&(p++,b=(P.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:P,target:m}]}catch(P){const S=Ct(P,{abi:w,address:m,args:x,docsPath:"/docs/contract/multicall",functionName:B,sender:n});if(!s)throw S;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:m}]}}const g=await Promise.allSettled(h.map(M=>j(e,xe,"readContract")({...d===null?{code:Ys}:{address:d},abi:Gn,account:n,args:[M],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),E=[];for(let M=0;M<g.length;M++){const w=g[M];if(w.status==="rejected"){if(!s)throw w.reason;for(let x=0;x<h[M].length;x++)E.push({status:"failure",error:w.reason,result:void 0});continue}const m=w.value;for(let x=0;x<m.length;x++){const{returnData:B,success:P}=m[x],{callData:S}=h[M][x],{abi:F,address:z,functionName:L,args:O}=u[E.length];try{if(S==="0x")throw new wn;if(!P)throw new tr({data:B});const v=lt({abi:F,args:O,data:B,functionName:L});E.push(s?{result:v,status:"success"}:v)}catch(v){const $=Ct(v,{abi:F,address:z,args:O,docsPath:"/docs/contract/multicall",functionName:L});if(!s)throw $;E.push({error:$,result:void 0,status:"failure"})}}}if(E.length!==u.length)throw new T("multicall results mismatch");return E}async function ws(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const d of s){const h=d.blockOverrides?Oa(d.blockOverrides):void 0,p=d.calls.map(g=>{const E=g,M=E.account?Pe(E.account):void 0,w=E.abi?Ie(E):E.data,m={...E,account:M,data:E.dataSuffix?Se([w||"0x",E.dataSuffix]):w,from:E.from??M?.address};return Pn(m),rr(m)}),b=d.stateOverrides?zs(d.stateOverrides):void 0;c.push({blockOverrides:h,calls:p,stateOverrides:b})}const f=(typeof n=="bigint"?N(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((d,h)=>({...Fs(d),calls:d.calls.map((p,b)=>{const{abi:g,args:E,functionName:M,to:w}=s[h].calls[b],m=p.error?.data??p.returnData,x=BigInt(p.gasUsed),B=p.logs?.map(z=>De(z)),P=p.status==="0x1"?"success":"failure",S=g&&P==="success"&&m!=="0x"?lt({abi:g,data:m,functionName:M}):null,F=(()=>{if(P==="success")return;let z;if(p.error?.data==="0x"?z=new wn:p.error&&(z=new tr(p.error)),!!z)return Ct(z,{abi:g??[],address:w??"0x",args:E,functionName:M??"<unknown>"})})();return{data:m,gasUsed:x,logs:B,status:P,...P==="success"?{result:S}:{error:F}}})}))}catch(c){const u=c,f=Ss(u,{});throw f instanceof nr?u:f}}function xs(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new _("Unable to normalize signature.");return s}function vs(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ls(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>vs(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>vs(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function $c(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return $c(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?ls(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?ls(n[r],{strict:!1}):!1)return i}}function Nc(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?mo(e):e;return{...r,...n?{hash:vt(r)}:{}}}function yr(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=Id(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Cc(u)===Me(t,0,4):u.type==="event"?vt(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Vn({name:t});if(i.length===1)return{...i[0],...s?{hash:vt(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:vt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((l,d)=>{const h="inputs"in u&&u.inputs[d];return h?vs(l,h):!1})){if(a&&"inputs"in a&&a.inputs){const l=$c(u.inputs,a.inputs,r);if(l)throw new Bh({abiItem:u,type:l[0]},{abiItem:a,type:l[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new Vn({name:t});return{...c,...s?{hash:vt(c)}:{}}}function Cc(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return yr(n,r)}return e[0]})();return Me(vt(t),0,4)}function Ah(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return yr(r,s)}return e[0]})(),n=typeof t=="string"?t:jn(t);return xs(n)}function vt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return yr(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:oc(Zs(Ah(t)))}class Bh extends _{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${xs(jn(t.abiItem))}\`, and`,`\`${n.type}\` in \`${xs(jn(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Vn extends _{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Th(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,i]=e;return[$h(o),i]}return e})(),{bytecode:r,args:s}=n;return ge(r,t.inputs?.length&&s?.length?io(t.inputs,s):"0x")}function Mh(e){return Nc(e)}function $h(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Vn({name:"constructor"});return t}function Nh(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,l]=e;return[ui(u,f,{args:l}),l]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?ui([t,...r],t.name,{args:n}):t,o=Ch(s),i=n.length>0?io(s.inputs,n):void 0;return i?ge(o,i):o}function yt(e,t={}){return Nc(e,t)}function ui(e,t,n){const r=yr(e,t,n);if(r.type!=="function")throw new Vn({name:t,type:"function"});return r}function Ch(e){return Cc(e)}const Sh="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Be="0x0000000000000000000000000000000000000000",kh="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Lh(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?Pe(t.account):void 0;if(i&&!u)throw new T("`account` is required when `traceAssetChanges` is true");const f=u?Th(Mh("constructor(bytes, bytes)"),{bytecode:Ua,args:[kh,Nh(yt("function getBalance(address)"),[u.address])]}):void 0,l=i?await Promise.all(t.calls.map(async A=>{if(!A.data&&!A.abi)return;const{accessList:C}=await Ja(e,{account:u.address,...A,data:A.abi?Ie(A):A.data});return C.map(({address:R,storageKeys:U})=>U.length>0?R:null)})).then(A=>A.flat().filter(Boolean)):[],d=await ws(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:l.map((A,C)=>({abi:[yt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:A,from:Be,nonce:C})),stateOverrides:[{address:Be,nonce:0}]}]:[],{calls:[...s,{}].map(A=>({...A,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:l.map((A,C)=>({abi:[yt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:A,from:Be,nonce:C})),stateOverrides:[{address:Be,nonce:0}]},{calls:l.map((A,C)=>({to:A,abi:[yt("function decimals() returns (uint256)")],functionName:"decimals",from:Be,nonce:C})),stateOverrides:[{address:Be,nonce:0}]},{calls:l.map((A,C)=>({to:A,abi:[yt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Be,nonce:C})),stateOverrides:[{address:Be,nonce:0}]},{calls:l.map((A,C)=>({to:A,abi:[yt("function symbol() returns (string)")],functionName:"symbol",from:Be,nonce:C})),stateOverrides:[{address:Be,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=i?d[2]:d[0],[p,b,,g,E,M,w,m]=i?d:[],{calls:x,...B}=h,P=x.slice(0,-1)??[],S=p?.calls??[],F=b?.calls??[],z=[...S,...F].map(A=>A.status==="success"?X(A.data):null),L=g?.calls??[],O=E?.calls??[],v=[...L,...O].map(A=>A.status==="success"?X(A.data):null),$=(M?.calls??[]).map(A=>A.status==="success"?A.result:null),y=(m?.calls??[]).map(A=>A.status==="success"?A.result:null),I=(w?.calls??[]).map(A=>A.status==="success"?A.result:null),k=[];for(const[A,C]of v.entries()){const R=z[A];if(typeof C!="bigint"||typeof R!="bigint")continue;const U=$[A-1],D=y[A-1],Z=I[A-1],H=A===0?{address:Sh,decimals:18,symbol:"ETH"}:{address:l[A-1],decimals:Z||U?Number(U??1):void 0,symbol:D??void 0};k.some(G=>G.token.address===H.address)||k.push({token:H,value:{pre:R,post:C,diff:C-R}})}return{assetChanges:k,block:B,results:P}}const Sc="0x6492649264926492649264926492649264926492649264926492649264926492";function zh(e){if(Me(e,-32)!==Sc)throw new Rh(e)}function Oh(e){const{data:t,signature:n,to:r}=e;return ge(io(cc("address, bytes, bytes"),[r,t,n]),Sc)}function Fh(e){try{return zh(e),!0}catch{return!1}}class Rh extends _{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function jh({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Ac.Signature(X(e),X(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:Ce(i)}async function gr(e,t){const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,i=(()=>{const a=t.signature;return $e(a)?a:typeof a=="object"&&"r"in a&&"s"in a?jh(a):q(a)})();try{return yh(i)?await Uh(e,{...t,multicallAddress:o,signature:i}):await Dh(e,{...t,verifierAddress:s,signature:i})}catch(a){try{if(ir(_i(n),await na({hash:r,signature:i})))return!0}catch{}if(a instanceof ut)return!1;throw a}}async function Uh(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=mh(t.signature);if(await ds(e,{address:n,blockNumber:r,blockTag:s})===Ee(["0xef0100",a.address]))return await _h(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const d={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:N(a.r,{size:32}),s:N(a.s,{size:32}),yParity:a.yParity};if(!await Fl({address:n,authorization:d}))throw new ut;const p=await j(e,xe,"readContract")({...i?{address:i}:{code:Ys},authorizationList:[d],abi:Gn,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Ie({abi:ja,functionName:"isValidSignature",args:[o,u]})}]]});if(p[p.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new ut}async function Dh(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||Fh(i)?i:Oh({data:s,signature:i,to:r}))(),f=a?{to:a,data:Ie({abi:Zo,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:Ks({abi:Zo,args:[n,o,u],bytecode:Cd}),...c},{data:l}=await j(e,dr,"call")(f).catch(d=>{throw d instanceof ea?new ut:d});if(H0(l??"0x0"))return!0;throw new ut}async function _h(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await j(e,xe,"readContract")({address:n,abi:ja,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof ta?new ut:c})).startsWith("0x1626ba7e"))return!0;throw new ut}class ut extends Error{}async function Gh(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=ec(n);return gr(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function Hh(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,l=Ql({message:i,primaryType:a,types:c,domain:u});return gr(e,{address:n,factory:r,factoryData:s,hash:l,signature:o,...f})}function kc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const l=J(["watchBlockNumber",e.uid,t,n,i]);return We(l,{onBlockNumber:r,onError:s},d=>Tn(async()=>{try{const h=await j(e,Mn,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let p=c+1n;p<h;p++)d.onBlockNumber(p,c),c=p}(c===void 0||h>c)&&(d.onBlockNumber(h,c),c=h)}catch(h){d.onError?.(h)}},{emitOnBegin:t,interval:i}))})():(()=>{const l=J(["watchBlockNumber",e.uid,t,n]);return We(l,{onBlockNumber:r,onError:s},d=>{let h=!0,p=()=>h=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),{unsubscribe:g}=await b.subscribe({params:["newHeads"],onData(E){if(!h)return;const M=X(E.result?.number);d.onBlockNumber(M,c),c=M},onError(E){d.onError?.(E)}});p=g,h||p()}catch(b){s?.(b)}})(),()=>p()})})()}async function Vh(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:x})=>~~(1<<x)*200,timeout:c=18e4}=t,u=J(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let l,d,h,p=!1,b,g;const{promise:E,resolve:M,reject:w}=Ga(),m=c?setTimeout(()=>{g?.(),b?.(),w(new uf({hash:s}))},c):void 0;return b=We(u,{onReplaced:o,resolve:M,reject:w},async x=>{if(h=await j(e,Rn,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(m),x.resolve(h),b?.();return}g=j(e,kc,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(B){const P=F=>{clearTimeout(m),g?.(),F(),b?.()};let S=B;if(!p)try{if(h){if(r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;P(()=>x.resolve(h));return}if(n&&!l&&(p=!0,await cs(async()=>{l=await j(e,lo,"getTransaction")({hash:s}),l.blockNumber&&(S=l.blockNumber)},{delay:a,retryCount:i}),p=!1),h=await j(e,Rn,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;P(()=>x.resolve(h))}catch(F){if(F instanceof Qi||F instanceof Xi){if(!l){p=!1;return}try{d=l,p=!0;const z=await cs(()=>j(e,Te,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:v})=>v instanceof ia});p=!1;const L=z.transactions.find(({from:v,nonce:$})=>v===d.from&&$===d.nonce);if(!L||(h=await j(e,Rn,"getTransactionReceipt")({hash:L.hash}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r)))return;let O="replaced";L.to===d.to&&L.value===d.value&&L.input===d.input?O="repriced":L.from===L.to&&L.value===0n&&(O="cancelled"),P(()=>{x.onReplaced?.({reason:O,replacedTransaction:d,transaction:L,transactionReceipt:h}),x.resolve(h)})}catch(z){P(()=>x.reject(z))}}else P(()=>x.reject(F))}}})}),E}function qh(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let l;return u?(()=>{const p=J(["watchBlocks",e.uid,t,n,r,f,c]);return We(p,{onBlock:s,onError:o},b=>Tn(async()=>{try{const g=await j(e,Te,"getBlock")({blockTag:t,includeTransactions:f});if(g.number!==null&&l?.number!=null){if(g.number===l.number)return;if(g.number-l.number>1&&n)for(let E=l?.number+1n;E<g.number;E++){const M=await j(e,Te,"getBlock")({blockNumber:E,includeTransactions:f});b.onBlock(M,l),l=M}}(l?.number==null||t==="pending"&&g?.number==null||g.number!==null&&g.number>l.number)&&(b.onBlock(g,l),l=g)}catch(g){b.onError?.(g)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,b=!0,g=()=>p=!1;return(async()=>{try{r&&j(e,Te,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{p&&b&&(s(w,void 0),b=!1)}).catch(o);const E=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(m=>m.config.type==="webSocket"||m.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:M}=await E.subscribe({params:["newHeads"],async onData(w){if(!p)return;const m=await j(e,Te,"getBlock")({blockNumber:w.result?.number,includeTransactions:f}).catch(()=>{});p&&(s(m,l),b=!1,l=m)},onError(w){o?.(w)}});g=M,p||g()}catch(E){o?.(E)}})(),()=>g()})()}function Wh(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:l}){const d=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=l??!1;return d?(()=>{const g=J(["watchEvent",t,n,r,e.uid,s,f,i]);return We(g,{onLogs:c,onError:a},E=>{let M;i!==void 0&&(M=i-1n);let w,m=!1;const x=Tn(async()=>{if(!m){try{w=await j(e,Qa,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}m=!0;return}try{let B;if(w)B=await j(e,lr,"getFilterChanges")({filter:w});else{const P=await j(e,Mn,"getBlockNumber")({});M&&M!==P?B=await j(e,Hs,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:M+1n,toBlock:P}):B=[],M=P}if(B.length===0)return;if(r)E.onLogs(B);else for(const P of B)E.onLogs([P])}catch(B){w&&B instanceof ot&&(m=!1),E.onError?.(B)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await j(e,hr,"uninstallFilter")({filter:w}),x()}})})():(()=>{let g=!0,E=()=>g=!1;return(async()=>{try{const M=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return B?B.value:e.transport}return e.transport})(),w=o??(s?[s]:void 0);let m=[];w&&(m=[w.flatMap(P=>vn({abi:[P],eventName:P.name,args:n}))],s&&(m=m[0]));const{unsubscribe:x}=await M.subscribe({params:["logs",{address:t,topics:m}],onData(B){if(!g)return;const P=B.result;try{const{eventName:S,args:F}=Pt({abi:w??[],data:P.data,topics:P.topics,strict:h}),z=De(P,{args:F,eventName:S});c([z])}catch(S){let F,z;if(S instanceof Vt||S instanceof Yn){if(l)return;F=S.abiItem.name,z=S.abiItem.inputs?.some(O=>!("name"in O&&O.name))}const L=De(P,{args:z?[]:{},eventName:F});c([L])}},onError(B){a?.(B)}});E=x,g||E()}catch(M){a?.(M)}})(),()=>E()})()}function Zh(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=J(["watchPendingTransactions",e.uid,t,o]);return We(u,{onTransactions:r,onError:n},f=>{let l;const d=Tn(async()=>{try{if(!l)try{l=await j(e,Xa,"createPendingTransactionFilter")({});return}catch(p){throw d(),p}const h=await j(e,lr,"getFilterChanges")({filter:l});if(h.length===0)return;if(t)f.onTransactions(h);else for(const p of h)f.onTransactions([p])}catch(h){f.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{l&&await j(e,hr,"uninstallFilter")({filter:l}),d()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!u)return;const h=d.result;r([h])},onError(d){n?.(d)}});f=l,u||f()}catch(l){n?.(l)}})(),()=>f()})()}function Yh(e){const{scheme:t,statement:n,...r}=e.match(Kh)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=e.match(Jh)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Kh=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Jh=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Qh(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!W(r.address,{strict:!1})||t&&!ir(r.address,t))return!1}catch{return!1}return!0}async function Xh(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=Yh(s);if(!f.address||!Qh({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const d=ec(s);return gr(e,{address:f.address,hash:d,signature:a,...u})}async function eb(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,N(r)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||Js)(s);if(i.status==="reverted"&&n)throw new cf({receipt:i});return i}function tb(e){return{call:t=>dr(e,t),createAccessList:t=>Ja(e,t),createBlockFilter:()=>ml(e),createContractEventFilter:t=>Zi(e,t),createEventFilter:t=>Qa(e,t),createPendingTransactionFilter:()=>Xa(e),estimateContractGas:t=>Wf(e,t),estimateGas:t=>_s(e,t),getBalance:t=>yl(e,t),getBlobBaseFee:()=>gl(e),getBlock:t=>Te(e,t),getBlockNumber:t=>Mn(e,t),getBlockTransactionCount:t=>wl(e,t),getBytecode:t=>ds(e,t),getChainId:()=>ga(e),getCode:t=>ds(e,t),getContractEvents:t=>xa(e,t),getEip712Domain:t=>vl(e,t),getEnsAddress:t=>el(e,t),getEnsAvatar:t=>hl(e,t),getEnsName:t=>bl(e,t),getEnsResolver:t=>pl(e,t),getEnsText:t=>Ka(e,t),getFeeHistory:t=>Il(e,t),estimateFeesPerGas:t=>Sf(e,t),getFilterChanges:t=>lr(e,t),getFilterLogs:t=>Al(e,t),getGasPrice:()=>Rs(e),getLogs:t=>Hs(e,t),getProof:t=>vh(e,t),estimateMaxPriorityFeePerGas:t=>Cf(e,t),getStorageAt:t=>Eh(e,t),getTransaction:t=>lo(e,t),getTransactionConfirmations:t=>Ph(e,t),getTransactionCount:t=>ua(e,t),getTransactionReceipt:t=>Rn(e,t),multicall:t=>Ih(e,t),prepareTransactionRequest:t=>wa(e,t),readContract:t=>xe(e,t),sendRawTransaction:t=>Hd(e,t),sendRawTransactionSync:t=>eb(e,t),simulate:t=>ws(e,t),simulateBlocks:t=>ws(e,t),simulateCalls:t=>Lh(e,t),simulateContract:t=>Od(e,t),verifyHash:t=>gr(e,t),verifyMessage:t=>Gh(e,t),verifySiweMessage:t=>Xh(e,t),verifyTypedData:t=>Hh(e,t),uninstallFilter:t=>hr(e,t),waitForTransactionReceipt:t=>Vh(e,t),watchBlocks:t=>qh(e,t),watchBlockNumber:t=>kc(e,t),watchContractEvent:t=>Gd(e,t),watchEvent:t=>Wh(e,t),watchPendingTransactions:t=>Zh(e,t)}}function nb(e){const{key:t="public",name:n="Public Client"}=e;return Wd({...e,key:t,name:n,type:"publicClient"}).extend(tb)}function Lc({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=qa();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:jl(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function rb(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:o=sb,retryCount:i,retryDelay:a}=t;return(({chain:c,pollingInterval:u=4e3,timeout:f,...l})=>{let d=e,h=()=>{};const p=Lc({key:n,name:r,async request({method:b,params:g}){let E;const M=async(w=0)=>{const m=d[w]({...l,chain:c,retryCount:0,timeout:f});try{const x=await m.request({method:b,params:g});return h({method:b,params:g,response:x,transport:m,status:"success"}),x}catch(x){if(h({error:x,method:b,params:g,transport:m,status:"error"}),o(x)||w===d.length-1||(E??=d.slice(w+1).some(B=>{const{include:P,exclude:S}=B({chain:c}).config.methods||{};return P?P.includes(b):S?!S.includes(b):!0}),!E))throw x;return M(w+1)}};return M()},retryCount:i,retryDelay:a,type:"fallback"},{onResponse:b=>h=b,transports:d.map(b=>b({chain:c,retryCount:0}))});if(s){const b=typeof s=="object"?s:{};ob({chain:c,interval:b.interval??u,onTransports:g=>d=g,ping:b.ping,sampleCount:b.sampleCount,timeout:b.timeout,transports:d,weights:b.weights})}return p})}function sb(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===$t.code||e.code===et.code||Je.nodeMessage.test(e.message)||e.code===5e3))}function ob({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:o=1e3,transports:i,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,f=[],l=async()=>{const d=await Promise.all(i.map(async b=>{const g=b({chain:e,retryCount:0,timeout:o}),E=Date.now();let M,w;try{await(r?r({transport:g}):g.request({method:"net_listening"})),w=1}catch{w=0}finally{M=Date.now()}return{latency:M-E,success:w}}));f.push(d),f.length>s&&f.shift();const h=Math.max(...f.map(b=>Math.max(...b.map(({latency:g})=>g)))),p=i.map((b,g)=>{const E=f.map(B=>B[g].latency),w=1-E.reduce((B,P)=>B+P,0)/E.length/h,m=f.map(B=>B[g].success),x=m.reduce((B,P)=>B+P,0)/m.length;return x===0?[0,g]:[u*w+c*x,g]}).sort((b,g)=>g[0]-b[0]);n(p.map(([,b])=>i[b])),await Hn(t),l()};l()}class ib extends T{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function fi(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:l}=t;return({chain:d,retryCount:h,timeout:p})=>{const{batchSize:b=1e3,wait:g=0}=typeof n=="object"?n:{},E=t.retryCount??h,M=p??t.timeout??1e4,w=e||d?.rpcUrls.default.http[0];if(!w)throw new ib;const m=Gl(w,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:M});return Lc({key:o,methods:i,name:a,async request({method:x,params:B}){const P={method:x,params:B},{schedule:S}=Ha({id:w,wait:g,shouldSplitBatch(O){return O.length>b},fn:O=>m.request({body:O}),sort:(O,v)=>O.id-v.id}),F=async O=>n?S(O):[await m.request({body:O})],[{error:z,result:L}]=await F(P);if(l)return{error:z,result:L};if(z)throw new Cs({body:P,error:z,url:w});return L},retryCount:E,retryDelay:f,timeout:M,type:"http"},{fetchOptions:s,url:w})}}const ab={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},cb={block:Nf({format(e){return{transactions:e.transactions?.map(n=>{if(typeof n=="string")return n;const r=or(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?X(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:e.stateRoot}}}),transaction:Mf({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?X(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:qd({format(e){return{l1GasPrice:e.l1GasPrice?X(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?X(e.l1GasUsed):null,l1Fee:e.l1Fee?X(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function ub(e,t){return lb(e)?db(e):Nl(e,t)}const fb={transaction:ub};function db(e){hb(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:o,mint:i,to:a,value:c}=e,u=[t,r,a??"0x",i?ce(i):"0x",c?ce(c):"0x",s?ce(s):"0x",o?"0x1":"0x",n??"0x"];return Ee(["0x7e",qe(u)])}function lb(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function hb(e){const{from:t,to:n}=e;if(t&&!W(t))throw new te({address:t});if(n&&!W(n))throw new te({address:n})}const qn={blockTime:2e3,contracts:ab,formatters:cb,serializers:fb},bb=ht({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:250,rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Ut=1,zc=ht({...qn,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...qn.contracts,disputeGameFactory:{[Ut]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Ut]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Ut]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Ut]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Ut});({...zc});const pb=ht({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),mb=ht({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Dt=1,yb=ht({...qn,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...qn.contracts,disputeGameFactory:{[Dt]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Dt]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Dt]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Dt]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Dt}),gb=ht({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),wb="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PgoKPCFET0NUWVBFIHN2ZyAgUFVCTElDICctLy9XM0MvL0RURCBTVkcgMS4xLy9FTicgICdodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQnPgoKPCEtLSBMaWNlbnNlOiBMb2dvLiAtLT4KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAzMiAzMiIgaWQ9Il94M0NfTGF5ZXJfeDNFXyIgdmVyc2lvbj0iMS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CjwhW0NEQVRBWwoJLnN0MHtmaWxsOiNFM0YyRkQ7fQoJLnN0MXtmaWxsOiM4MEQ4RkY7fQoJLnN0MntmaWxsOiMxQUQyQTQ7fQoJLnN0M3tmaWxsOiNFQ0VGRjE7fQoJLnN0NHtmaWxsOiM1NUZCOUI7fQoJLnN0NXtmaWxsOiNCQkRFRkI7fQoJLnN0NntmaWxsOiNDMUFFRTE7fQoJLnN0N3tmaWxsOiNGRjUyNTI7fQoJLnN0OHtmaWxsOiNGRjhBODA7fQoJLnN0OXtmaWxsOiNGRkI3NEQ7fQoJLnN0MTB7ZmlsbDojRkZGMTc2O30KCS5zdDExe2ZpbGw6I0ZGRkZGRjt9Cgkuc3QxMntmaWxsOiM2NUM3RUE7fQoJLnN0MTN7ZmlsbDojQ0ZEOERDO30KCS5zdDE0e2ZpbGw6IzM3NDc0Rjt9Cgkuc3QxNXtmaWxsOiM3ODkwOUM7fQoJLnN0MTZ7ZmlsbDojNDJBNUY1O30KCS5zdDE3e2ZpbGw6IzQ1NUE2NDt9Cl1dPgo8L3N0eWxlPgoKPGcgaWQ9IkV0aGVyZXVtX3gyQ19fY3J5cHRvX3gyQ19fY3J5cHRvY3VycmVuY3lfMV8iPgoKPGcgaWQ9IlhNTElEXzJfIj4KCjxnIGlkPSJYTUxJRF80MV8iPgoKPHBvbHlnb24gY2xhc3M9InN0MSIgaWQ9IlhNTElEXzY5MF8iIHBvaW50cz0iNy42MiwxOC44MyAxNi4wMSwzMC41IDE2LjAxLDI0LjEgICAgIi8+Cgo8L2c+Cgo8ZyBpZD0iWE1MSURfNDJfIj4KCjxwb2x5Z29uIGNsYXNzPSJzdDE2IiBpZD0iWE1MSURfMTNfIiBwb2ludHM9IjE2LjAxLDMwLjUgMjQuMzgsMTguNzggMTYuMDEsMjQuMSAgICAiLz4KCjwvZz4KCjxnIGlkPSJYTUxJRF80M18iPgoKPHBvbHlnb24gY2xhc3M9InN0MTAiIGlkPSJYTUxJRF8xNF8iIHBvaW50cz0iMTYuMDEsMS41IDcuNjIsMTYuMjMgMTYuMDEsMTIuMyAgICAiLz4KCjwvZz4KCjxnIGlkPSJYTUxJRF80Nl8iPgoKPHBvbHlnb24gY2xhc3M9InN0OCIgaWQ9IlhNTElEXzE1XyIgcG9pbnRzPSIyNC4zOCwxNi4xOCAxNi4wMSwxLjUgMTYuMDEsMTIuMyAgICAiLz4KCjwvZz4KCjxnIGlkPSJYTUxJRF80N18iPgoKPHBvbHlnb24gY2xhc3M9InN0NiIgaWQ9IlhNTElEXzE2XyIgcG9pbnRzPSIxNi4wMSwyMS41IDI0LjM4LDE2LjE4IDE2LjAxLDEyLjMgICAgIi8+Cgo8L2c+Cgo8ZyBpZD0iWE1MSURfNDhfIj4KCjxwb2x5Z29uIGNsYXNzPSJzdDQiIGlkPSJYTUxJRF8xOF8iIHBvaW50cz0iMTYuMDEsMTIuMyA3LjYyLDE2LjIzIDE2LjAxLDIxLjUgICAgIi8+Cgo8L2c+Cgo8L2c+Cgo8ZyBpZD0iWE1MSURfNF8iPgoKPGcgaWQ9IlhNTElEXzE5XyI+Cgo8cGF0aCBjbGFzcz0ic3QxNyIgZD0iTTE2LjAxLDIyYy0wLjA5LDAtMC4xOC0wLjAzLTAuMjctMC4wOGwtOC4zOS01LjI3Yy0wLjIzLTAuMTQtMC4zLTAuNDQtMC4xNy0wLjY3ICAgICBsOC4zOS0xNC43M2MwLjE4LTAuMzEsMC42OS0wLjMxLDAuODcsMGw4LjM2LDE0LjY4YzAuMTMsMC4yMywwLjA2LDAuNTMtMC4xNywwLjY3bC04LjM2LDUuMzJDMTYuMiwyMS45NywxNi4xMSwyMiwxNi4wMSwyMnogICAgICBNOC4zLDE2LjA2bDcuNzEsNC44NWw3LjY5LTQuODlMMTYuMDEsMi41MUw4LjMsMTYuMDZ6IiBpZD0iWE1MSURfNzY0XyIvPgoKPC9nPgoKPGcgaWQ9IlhNTElEXzMxXyI+Cgo8cGF0aCBjbGFzcz0ic3QxNyIgZD0iTTE2LjAxLDMxYy0wLjI4LDAtMC41LTAuMjItMC41LTAuNXYtNi40YzAtMC4yOCwwLjIyLTAuNSwwLjUtMC41czAuNSwwLjIyLDAuNSwwLjV2Ni40ICAgICBDMTYuNTEsMzAuNzgsMTYuMjksMzEsMTYuMDEsMzF6IiBpZD0iWE1MSURfNzYzXyIvPgoKPC9nPgoKPGcgaWQ9IlhNTElEXzIwXyI+Cgo8cGF0aCBjbGFzcz0ic3QxNyIgZD0iTTE2LjAxLDMxYy0wLjE2LDAtMC4zMS0wLjA4LTAuNDEtMC4yMUw3LjIyLDE5LjEyYy0wLjE0LTAuMTktMC4xMi0wLjQ2LDAuMDQtMC42MyAgICAgYzAuMTYtMC4xNywwLjQzLTAuMjEsMC42My0wLjA4bDguMTIsNS4xMWw4LjEtNS4xNWMwLjItMC4xMywwLjQ3LTAuMSwwLjYzLDAuMDhjMC4xNiwwLjE3LDAuMTgsMC40NCwwLjA0LDAuNjNsLTguMzYsMTEuNzIgICAgIEMxNi4zMywzMC45MiwxNi4xNiwzMC45OCwxNi4wMSwzMXogTTkuNTIsMjAuNjFsNi40OSw5LjAzbDYuNDctOS4wNmwtNi4yLDMuOTRjLTAuMTYsMC4xLTAuMzcsMC4xLTAuNTMsMEw5LjUyLDIwLjYxeiIgaWQ9IlhNTElEXzc2MF8iLz4KCjwvZz4KCjxnIGlkPSJYTUxJRF8zMF8iPgoKPHBhdGggY2xhc3M9InN0MTciIGQ9Ik0xNi4wMSwyMmMtMC4wOSwwLTAuMTgtMC4wMy0wLjI3LTAuMDhsLTguMzktNS4yN2MtMC4xNS0wLjEtMC4yNC0wLjI3LTAuMjMtMC40NSAgICAgczAuMTItMC4zNCwwLjI5LTAuNDJsOC4zOS0zLjkzYzAuMTMtMC4wNiwwLjI5LTAuMDYsMC40MiwwbDguMzYsMy44OGMwLjE3LDAuMDgsMC4yOCwwLjI0LDAuMjksMC40MiAgICAgYzAuMDEsMC4xOC0wLjA4LDAuMzYtMC4yMywwLjQ1bC04LjM2LDUuMzJDMTYuMiwyMS45NywxNi4xMSwyMiwxNi4wMSwyMnogTTguNjcsMTYuMjlsNy4zNCw0LjYybDcuMzMtNC42NmwtNy4zMi0zLjRMOC42NywxNi4yOSAgICAgeiIgaWQ9IlhNTElEXzc1N18iLz4KCjwvZz4KCjxnIGlkPSJYTUxJRF8zMl8iPgoKPHBhdGggY2xhc3M9InN0MTciIGQ9Ik0xNi4wMSwyMmMtMC4yOCwwLTAuNS0wLjIyLTAuNS0wLjV2LTIwYzAtMC4yOCwwLjIyLTAuNSwwLjUtMC41czAuNSwwLjIyLDAuNSwwLjV2MjAgICAgIEMxNi41MSwyMS43OCwxNi4yOSwyMiwxNi4wMSwyMnoiIGlkPSJYTUxJRF83NTZfIi8+Cgo8L2c+Cgo8ZyBpZD0iWE1MSURfMTkyXyI+Cgo8cGF0aCBjbGFzcz0ic3QxNyIgZD0iTTE2LjAxLDIyYy0wLjA5LDAtMC4xOC0wLjAzLTAuMjctMC4wOGwtOC4zOS01LjI3Yy0wLjIzLTAuMTQtMC4zLTAuNDQtMC4xNy0wLjY3ICAgICBsOC4zOS0xNC43M2MwLjE4LTAuMzEsMC42OS0wLjMxLDAuODcsMGw4LjM2LDE0LjY4YzAuMTMsMC4yMywwLjA2LDAuNTMtMC4xNywwLjY3bC04LjM2LDUuMzJDMTYuMiwyMS45NywxNi4xMSwyMiwxNi4wMSwyMnogICAgICBNOC4zLDE2LjA2bDcuNzEsNC44NWw3LjY5LTQuODlMMTYuMDEsMi41MUw4LjMsMTYuMDZ6IiBpZD0iWE1MSURfNzUzXyIvPgoKPC9nPgoKPC9nPgoKPC9nPgoKPC9zdmc+",xb="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2026.0.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%202496%202496'%20style='enable-background:new%200%200%202496%202496;'%20xml:space='preserve'%3e%3cg%3e%3cpath%20style='fill-rule:evenodd;clip-rule:evenodd;fill:%23F0B90B;'%20d='M1248,0c689.3,0,1248,558.7,1248,1248s-558.7,1248-1248,1248%20S0,1937.3,0,1248S558.7,0,1248,0L1248,0z'/%3e%3cpath%20style='fill:%23FFFFFF;'%20d='M685.9,1248l0.9,330l280.4,165v193.2l-444.5-260.7v-524L685.9,1248L685.9,1248z%20M685.9,918v192.3%20l-163.3-96.6V821.4l163.3-96.6l164.1,96.6L685.9,918L685.9,918z%20M1084.3,821.4l163.3-96.6l164.1,96.6L1247.6,918L1084.3,821.4%20L1084.3,821.4z'/%3e%3cpath%20style='fill:%23FFFFFF;'%20d='M803.9,1509.6v-193.2l163.3,96.6v192.3L803.9,1509.6L803.9,1509.6z%20M1084.3,1812.2l163.3,96.6%20l164.1-96.6v192.3l-164.1,96.6l-163.3-96.6V1812.2L1084.3,1812.2z%20M1645.9,821.4l163.3-96.6l164.1,96.6v192.3l-164.1,96.6V918%20L1645.9,821.4L1645.9,821.4L1645.9,821.4z%20M1809.2,1578l0.9-330l163.3-96.6v524l-444.5,260.7v-193.2L1809.2,1578L1809.2,1578%20L1809.2,1578z'/%3e%3cpolygon%20style='fill:%23FFFFFF;'%20points='1692.1,1509.6%201528.8,1605.3%201528.8,1413%201692.1,1316.4%201692.1,1509.6%20'/%3e%3cpath%20style='fill:%23FFFFFF;'%20d='M1692.1,986.4l0.9,193.2l-281.2,165v330.8l-163.3,95.7l-163.3-95.7v-330.8l-281.2-165V986.4%20L968,889.8l279.5,165.8l281.2-165.8l164.1,96.6H1692.1L1692.1,986.4z%20M803.9,656.5l443.7-261.6l444.5,261.6l-163.3,96.6%20l-281.2-165.8L967.2,753.1L803.9,656.5L803.9,656.5z'/%3e%3c/g%3e%3c/svg%3e",vb=""+new URL("base-De9aXXRM.svg",import.meta.url).href,Eb="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns:xodm='http://www.corel.com/coreldraw/odm/2003'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20id='Layer_1'%20x='0px'%20y='0px'%20viewBox='0%200%202500%202500'%20style='enable-background:new%200%200%202500%202500;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:none;}%20.st1{fill:%23213147;}%20.st2{fill:%2312AAFF;}%20.st3{fill:%239DCCED;}%20.st4{fill:%23FFFFFF;}%20%3c/style%3e%3cg%20id='Layer_x0020_1'%3e%3cg%20id='_2405588477232'%3e%3crect%20class='st0'%20width='2500'%20height='2500'%3e%3c/rect%3e%3cg%3e%3cg%3e%3cpath%20class='st1'%20d='M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760%20c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z'%3e%3c/path%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20class='st2'%20d='M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z'%3e%3c/path%3e%3c/g%3e%3cg%3e%3cpath%20class='st2'%20d='M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%3e%3cpath%20class='st3'%20d='M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5%20s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z%20M1250,0c-33,0-65,8-95,25L237,555%20c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719%20c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z'%3e%3c/path%3e%3c/g%3e%3cpolygon%20class='st1'%20points='642,2179%20727,1947%20897,2088%20738,2234%20'%3e%3c/polygon%3e%3cg%3e%3cpath%20class='st4'%20d='M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z'%3e%3c/path%3e%3cpath%20class='st4'%20d='M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Pb="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2026.0.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20500%20500'%20style='enable-background:new%200%200%20500%20500;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23FF0420;}%20.st1{fill:%23FFFFFF;}%20%3c/style%3e%3ccircle%20class='st0'%20cx='250'%20cy='250'%20r='250'/%3e%3cpath%20class='st1'%20d='M177.1,316.4c-14.9,0-27.1-3.5-36.6-10.5c-9.4-7.1-14.1-17.3-14.1-30.4c0-2.8,0.3-6.1,0.9-10.1%20c1.6-9,3.9-19.8,6.9-32.5c8.5-34.4,30.5-51.6,65.9-51.6c9.6,0,18.3,1.6,25.9,4.9c7.6,3.1,13.6,7.9,18,14.3%20c4.4,6.3,6.6,13.8,6.6,22.5c0,2.6-0.3,5.9-0.9,9.9c-1.9,11.1-4.1,22-6.8,32.5c-4.4,17.1-11.9,30-22.7,38.5%20C209.5,312.3,195.1,316.4,177.1,316.4z%20M179.8,289.4c7,0,12.9-2.1,17.8-6.2c5-4.1,8.6-10.4,10.7-19c2.9-11.8,5.1-22,6.6-30.8%20c0.5-2.6,0.8-5.3,0.8-8.1c0-11.4-5.9-17.1-17.8-17.1c-7,0-13,2.1-18,6.2c-4.9,4.1-8.4,10.4-10.5,19c-2.3,8.4-4.5,18.6-6.8,30.8%20c-0.5,2.5-0.8,5.1-0.8,7.9C161.7,283.7,167.8,289.4,179.8,289.4z'/%3e%3cpath%20class='st1'%20d='M259.3,314.6c-1.4,0-2.4-0.4-3.2-1.3c-0.6-1-0.8-2.1-0.6-3.4l25.9-122c0.2-1.4,0.9-2.5,2.1-3.4%20c1.1-0.9,2.3-1.3,3.6-1.3H337c13.9,0,25,2.9,33.4,8.6c8.5,5.8,12.8,14.1,12.8,25c0,3.1-0.4,6.4-1.1,9.8c-3.1,14.4-9.4,25-19,31.9%20c-9.4,6.9-22.3,10.3-38.7,10.3h-25.3l-8.6,41.1c-0.3,1.4-0.9,2.5-2.1,3.4c-1.1,0.9-2.3,1.3-3.6,1.3H259.3z%20M325.7,242.9%20c5.3,0,9.8-1.4,13.7-4.3c4-2.9,6.6-7,7.9-12.4c0.4-2.1,0.6-4,0.6-5.6c0-3.6-1.1-6.4-3.2-8.3c-2.1-2-5.8-3-10.9-3h-22.5l-7.1,33.6%20H325.7z'/%3e%3c/svg%3e",Ib="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20178%20161'%20style='enable-background:new%200%200%20178%20161;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%236C00F6;}%20%3c/style%3e%3cpath%20class='st0'%20d='M66.8,54.7l-16.7-9.7L0,74.1v58l50.1,29l50.1-29V41.9L128,25.8l27.8,16.1v32.2L128,90.2l-16.7-9.7v25.8%20l16.7,9.7l50.1-29V29L128,0L77.9,29v90.2l-27.8,16.1l-27.8-16.1V86.9l27.8-16.1l16.7,9.7V54.7z'/%3e%3c/svg%3e",pe=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],type:"function"}],gt={bitcoin:{chain:{id:0,name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://mempool.space/api"]}},blockExplorers:{default:{name:"Mempool",url:"https://mempool.space"}}},rpcUrls:["https://mempool.space/api"],name:"Bitcoin",icon:"mdi-bitcoin",iconUrl:Rc},ethereum:{chain:mb,rpcUrls:["https://eth.llamarpc.com","https://ethereum-rpc.publicnode.com","https://1rpc.io/eth","https://eth.drpc.org","https://ethereum.blockpi.network/v1/rpc/public"],name:"Ethereum",icon:"token",iconUrl:wb},bnb:{chain:pb,rpcUrls:["https://bsc-dataseed.bnbchain.org","https://bsc-dataseed1.bnbchain.org","https://1rpc.io/bnb","https://bsc.drpc.org","https://bsc.meowrpc.com"],name:"BNB Chain",icon:"currency_bitcoin",iconUrl:xb},base:{chain:zc,rpcUrls:["https://mainnet.base.org","https://base.llamarpc.com","https://1rpc.io/base","https://base.drpc.org","https://base.meowrpc.com"],name:"Base",icon:"foundation",iconUrl:vb},arbitrum:{chain:bb,rpcUrls:["https://arb1.arbitrum.io/rpc","https://arbitrum.llamarpc.com","https://1rpc.io/arb","https://arbitrum.drpc.org","https://arbitrum.meowrpc.com"],name:"Arbitrum",icon:"trending_up",iconUrl:Eb},optimism:{chain:yb,rpcUrls:["https://mainnet.optimism.io","https://optimism.llamarpc.com","https://1rpc.io/op","https://optimism.drpc.org","https://optimism.meowrpc.com"],name:"Optimism",icon:"lightbulb",iconUrl:Pb},polygon:{chain:gb,rpcUrls:["https://polygon-rpc.com","https://polygon.llamarpc.com","https://1rpc.io/matic","https://polygon.drpc.org","https://polygon.meowrpc.com"],name:"Polygon",icon:"polyline",iconUrl:Ib}},_b=Oc("chain",()=>{const e=Nn.getItem("currentChainId"),t=Cn(e&&gt[e]?e:"bitcoin"),n=new Map,r=Cn(!1),s=(v,$=8)=>{const y=parseFloat(v);if(isNaN(y))return v;const I=v.indexOf(".");return I!==-1&&v.length-I-1>$?y.toFixed($):v},o=Cn(null),i=Cn([]);Fc(t,v=>{Nn.set("currentChainId",v)});function a(){try{const v=Nn.getItem("savedTokens");v&&(i.value=JSON.parse(v))}catch(v){console.error("Failed to load saved tokens:",v)}}function c(){try{Nn.set("savedTokens",JSON.stringify(i.value))}catch(v){console.error("Failed to save tokens:",v)}}function u(v,$,y){i.value.some(k=>k.address.toLowerCase()===v.toLowerCase()&&k.chainId===y)||(i.value.push({address:v,symbol:$,chainId:y}),c())}function f(v){return i.value.filter($=>$.chainId===v)}function l(v,$){i.value=i.value.filter(y=>!(y.address.toLowerCase()===v.toLowerCase()&&y.chainId===$)),c()}a();const d=Sn(()=>gt[t.value]),h=Sn(()=>Object.entries(gt).map(([v,$])=>({id:v,...$}))),p=Sn(()=>g()),b=Sn(()=>f(t.value));function g(v=t.value){if(!n.has(v)){const $=gt[v];if(!$)throw new Error(`Unsupported chain: ${v}`);const y=$.rpcUrls.length>0?$.rpcUrls.map(k=>fi(k)):[fi()],I=nb({chain:$.chain,transport:rb(y,{rank:!1})});n.set(v,I)}return n.get(v)}function E(v){if(!gt[v])throw new Error(`Unsupported chain: ${v}`);if(typeof window<"u"){const $=window.location.hash||window.location.pathname;($.includes("/address/")||$.includes("/transaction/")||$.includes("/bitcoin/address/")||$.includes("/bitcoin/transaction/"))&&(window.location.hash="#/")}t.value=v}async function M(v){if(!v||v.length===0)return[];const $=[],y=_t(["event Transfer(address indexed from, address indexed to, uint256 value)"]),I=_t(["event TransferSingle(address indexed operator, address indexed from, address indexed to, uint256 id, uint256 value)"]),k=_t(["event TransferBatch(address indexed operator, address indexed from, address indexed to, uint256[] ids, uint256[] values)"]);for(const A of v)try{const C=A.address;if(A.topics[0]==="0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"){const R=A.topics.length===4;let U="Unknown",D="Unknown Token",Z=18;try{const[H,G,ne]=await Promise.all([p.value.readContract({address:C,abi:pe,functionName:"symbol"}).catch(()=>"Unknown"),p.value.readContract({address:C,abi:pe,functionName:"name"}).catch(()=>"Unknown Token"),p.value.readContract({address:C,abi:pe,functionName:"decimals"}).catch(()=>18)]);U=H,D=G,Z=ne}catch(H){console.log("Failed to fetch token metadata:",H)}if(R){const H=BigInt(A.topics[3]).toString();$.push({type:"ERC721_Transfer",from:`0x${A.topics[1].slice(26)}`,to:`0x${A.topics[2].slice(26)}`,tokenAddress:C,tokenId:H,tokenSymbol:U,tokenName:D})}else{const H=Pt({abi:y,data:A.data,topics:A.topics}),G=s(Un(H.args.value,Z));$.push({type:"ERC20_Transfer",from:H.args.from,to:H.args.to,tokenAddress:C,value:G,tokenSymbol:U,tokenName:D})}}else if(A.topics[0]==="0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62"){let R="ERC1155",U="ERC1155 Token";try{const[G,ne]=await Promise.all([p.value.readContract({address:C,abi:pe,functionName:"symbol"}).catch(()=>"ERC1155"),p.value.readContract({address:C,abi:pe,functionName:"name"}).catch(()=>"ERC1155 Token")]);R=G,U=ne}catch(G){console.log("Failed to fetch ERC1155 token metadata:",G)}const D=Pt({abi:I,data:A.data,topics:A.topics}),Z=D.args.id.toString(),H=D.args.value.toString();$.push({type:"ERC1155_Transfer",from:D.args.from,to:D.args.to,tokenAddress:C,tokenId:Z,value:H,tokenSymbol:R,tokenName:U})}else if(A.topics[0]==="0x4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb"){let R="ERC1155",U="ERC1155 Token";try{const[G,ne]=await Promise.all([p.value.readContract({address:C,abi:pe,functionName:"symbol"}).catch(()=>"ERC1155"),p.value.readContract({address:C,abi:pe,functionName:"name"}).catch(()=>"ERC1155 Token")]);R=G,U=ne}catch(G){console.log("Failed to fetch ERC1155 token metadata:",G)}const D=Pt({abi:k,data:A.data,topics:A.topics}),Z=D.args.ids,H=D.args.values;Z.forEach((G,ne)=>{const be=H[ne];be!==void 0&&$.push({type:"ERC1155_Transfer",from:D.args.from,to:D.args.to,tokenAddress:C,tokenId:G.toString(),value:be.toString(),tokenSymbol:R,tokenName:U})})}}catch(C){console.error("Failed to decode log:",C,A)}return $}async function w(v){try{r.value=!0,o.value=null;const $=p.value,[y,I,k]=await Promise.all([$.getTransaction({hash:v}),$.getTransactionReceipt({hash:v}).catch(()=>null),$.getBlockNumber()]);if(!y)throw new Error("Transaction not found");let A=null;y.blockNumber&&(A=(await $.getBlock({blockNumber:y.blockNumber})).timestamp);const C=y.blockNumber?Number(k-y.blockNumber)+1:0,R=I?I.status==="success"?"success":"reverted":"pending",U=I?.logs?await M(I.logs):[];return{hash:y.hash,from:y.from,to:y.to,value:y.value,formattedValue:s(Gt(y.value)),gasPrice:y.gasPrice||null,gasUsed:I?.gasUsed||null,formattedGasPrice:s(y.gasPrice?he(y.gasPrice):"0"),blockNumber:y.blockNumber||BigInt(0),blockHash:y.blockHash||"0x",timestamp:A,status:R,input:y.input,nonce:y.nonce,transactionIndex:y.transactionIndex,confirmations:C,logs:U}}catch($){throw o.value=$ instanceof Error?$.message:"Failed to fetch transaction",$}finally{r.value=!1}}async function m(v){try{return r.value=!0,o.value=null,await p.value.getBlock({blockNumber:v,includeTransactions:!0})}catch($){throw o.value=$ instanceof Error?$.message:"Failed to fetch block",$}finally{r.value=!1}}function x(v){if(v==="0x"||v==="0x0")return"Transfer";const $={"0xa9059cbb":"ERC20 Transfer","0x23b872dd":"ERC20 TransferFrom","0x095ea7b3":"ERC20 Approve","0x42842e0e":"NFT safeTransferFrom","0xb88d4fde":"NFT safeTransferFrom","0x40c10f19":"Mint","0x6a627842":"Mint"},y=v.slice(0,10);return $[y]||"Contract Interaction"}function B(v,$){const y=v*$;return{cost:y,formattedCost:s(Gt(y))}}function P(v){const $=BigInt(Math.floor(Date.now()/1e3)),y=Number($-v);return y<60?`${y}s ago`:y<3600?`${Math.floor(y/60)}m ago`:y<86400?`${Math.floor(y/3600)}h ago`:`${Math.floor(y/86400)}d ago`}async function S(v){try{return r.value=!0,o.value=null,await p.value.getBalance({address:v})}catch($){throw o.value=$ instanceof Error?$.message:"Failed to fetch balance",$}finally{r.value=!1}}async function F(v,$){try{const y=p.value,[I,k,A,C]=await Promise.all([y.readContract({address:v,abi:pe,functionName:"balanceOf",args:[$]}),y.readContract({address:v,abi:pe,functionName:"decimals"}),y.readContract({address:v,abi:pe,functionName:"symbol"}),y.readContract({address:v,abi:pe,functionName:"name"})]);return{address:v,symbol:A,name:C,decimals:k,balance:I,formattedBalance:s(Un(I,k))}}catch(y){throw console.error("Error fetching token balance:",y),y}}async function z(v,$=[]){try{if(r.value=!0,o.value=null,!W(v))throw new Error("Invalid address");const y=await S(v),I=[];if($.length>0){const k=$.map(C=>F(C,v).catch(()=>null)),A=await Promise.all(k);I.push(...A.filter(C=>C!==null))}return{address:v,balance:y,formattedBalance:s(Gt(y)),tokens:I}}catch(y){throw o.value=y instanceof Error?y.message:"Failed to fetch wallet info",y}finally{r.value=!1}}async function L(v,$){try{r.value=!0,o.value=null;const y=p.value,k=await y.getBlockNumber()-BigInt(1e3);return await y.getLogs({fromBlock:k,toBlock:"latest",address:$,event:{type:"event",name:"Transfer",inputs:[{type:"address",indexed:!0,name:"from"},{type:"address",indexed:!0,name:"to"},{type:"uint256",indexed:!1,name:"value"}]},args:$?void 0:{from:v}})}catch(y){throw o.value=y instanceof Error?y.message:"Failed to fetch transfers",y}finally{r.value=!1}}async function O(v){try{const $=await p.value.getCode({address:v});return!!$&&$!=="0x"}catch{return!1}}return{currentChainId:t,loading:r,error:o,savedTokens:i,currentChain:d,chains:h,client:p,currentChainSavedTokens:b,getClient:g,switchChain:E,getTransaction:w,getBlockTransactions:m,getTransactionType:x,calculateTransactionCost:B,getTimeAgo:P,getNativeBalance:S,getTokenBalance:F,getWalletInfo:z,getRecentTokenTransfers:L,isContract:O,addSavedToken:u,getSavedTokensForChain:f,removeSavedToken:l,SUPPORTED_CHAINS:gt}});export{T as B,Ht as H,W as a,J as b,ir as c,Ju as d,Kd as e,dr as f,Ns as g,Se as h,$e as i,ft as j,br as l,V as s,_b as u};
