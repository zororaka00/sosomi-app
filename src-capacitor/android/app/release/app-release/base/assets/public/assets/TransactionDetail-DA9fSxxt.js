import{c as E,a as g,h as F,v as G,g as M,C as H,D as W,r as j,o as J,O as c,G as l,$ as K,X as O,N as r,I as u,H as a,J as y,E as p,F as t,Q as R,K as i,R as b,a0 as X,P as m,L as Y,M as Z}from"./index-Wm0S3xPc.js";import{u as ee,Q as ae,B as $,a as w}from"./search-store-C46R9OL-.js";import{f as se,j as te,A as oe,Q as ne,_ as le}from"./_plugin-vue_export-helper-BD_jKrkw.js";import{Q as ie,a as D,b as B}from"./QItem-CDIBj2kh.js";import{L as re,W as h}from"./LoadingMonster-Mt2yiDT0.js";import"./focusout-C962D6ot.js";const de=["top","middle","bottom"],L=E({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:o=>de.includes(o)}},setup(o,{slots:C}){const k=g(()=>o.align!==void 0?{verticalAlign:o.align}:null),d=g(()=>{const _=o.outline===!0&&o.color||o.textColor;return`q-badge flex inline items-center no-wrap q-badge--${o.multiLine===!0?"multi":"single"}-line`+(o.outline===!0?" q-badge--outline":o.color!==void 0?` bg-${o.color}`:"")+(_!==void 0?` text-${_}`:"")+(o.floating===!0?" q-badge--floating":"")+(o.rounded===!0?" q-badge--rounded":"")+(o.transparent===!0?" q-badge--transparent":"")});return()=>F("div",{class:d.value,style:k.value,role:"status","aria-label":o.label},G(C.default,o.label!==void 0?[o.label]:[]))}}),ce={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},I={xs:2,sm:4,md:8,lg:16,xl:24},f=E({name:"QSeparator",props:{...se,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(o){const C=M(),k=te(o,C.proxy.$q),d=g(()=>o.vertical===!0?"vertical":"horizontal"),_=g(()=>` q-separator--${d.value}`),x=g(()=>o.inset!==!1?`${_.value}-${ce[o.inset]}`:""),q=g(()=>`q-separator${_.value}${x.value}`+(o.color!==void 0?` bg-${o.color}`:"")+(k.value===!0?" q-separator--dark":"")),Q=g(()=>{const s={};if(o.size!==void 0&&(s[o.vertical===!0?"width":"height"]=o.size),o.spaced!==!1){const z=o.spaced===!0?`${I.md}px`:o.spaced in I?`${I[o.spaced]}px`:o.spaced,T=o.vertical===!0?["Left","Right"]:["Top","Bottom"];s[`margin${T[0]}`]=s[`margin${T[1]}`]=z}return s});return()=>F("hr",{class:q.value,style:Q.value,"aria-orientation":d.value})}}),ue={class:"page-content"},ve={key:0,class:"transaction-details fade-in"},me={class:"page-header"},fe={class:"page-subtitle"},ge={class:"status-text"},pe={class:"info-row"},be={class:"info-value"},_e={class:"info-row"},ke={class:"info-value"},ye={class:"info-row"},he={class:"info-value"},Ce={key:1,class:"text-grey-6"},xe={class:"info-row"},Te={class:"info-value value-amount"},Se={class:"info-row"},$e={class:"info-value"},we={class:"info-row"},Be={class:"info-value mono-text"},qe={class:"info-row"},Qe={class:"info-value"},ze={key:0},Ie={class:"text-grey-6"},Ne={key:1,class:"text-grey-6"},Re={class:"info-row"},De={class:"info-value"},Le={key:1,class:"info-row"},Ee={class:"info-value"},Fe={key:0,class:"text-grey-6"},Ae={class:"info-row"},Pe={class:"info-value mono-text"},Ve={class:"card-title"},Ue={class:"log-addresses"},Ge={class:"log-address-row"},Me={class:"log-address-row"},He={class:"input-data"},We={key:1,class:"error-container fade-in"},je=H({__name:"TransactionDetail",setup(o){const C=K(),k=O(),d=oe(),_=ee(),{currentChain:x,loading:q,error:Q}=W(d),s=j(null),z=g(()=>s.value?s.value.logs&&s.value.logs.length>0?"Contract Interaction":d.getTransactionType(s.value.input):"Unknown"),T=g(()=>!s.value?.gasUsed||!s.value?.gasPrice?null:d.calculateTransactionCost(s.value.gasUsed,s.value.gasPrice)),A=v=>new Date(Number(v)*1e3).toLocaleString(),S=v=>{k.push({name:"address",params:{address:v}})},P=()=>{k.push({name:"home"})},V=async()=>{const v=C.params.hash;try{s.value=await d.getTransaction(v),console.log("Transaction loaded:",{hash:s.value.hash,logsCount:s.value.logs?.length||0,logs:s.value.logs}),_.addSearch(v,"Transaction",d.currentChainId)}catch(e){console.error("Failed to load transaction:",e)}};return J(()=>{V()}),(v,e)=>(r(),c(ae,{class:"transaction-page"},{default:l(()=>[y(q)?(r(),c(re,{key:0,message:"Fetching transaction from blockchain...",onCancel:P})):u("",!0),a("div",ue,[s.value?(r(),p("div",ve,[a("div",me,[t(R,{flat:"",round:"",icon:"mdi-arrow-left",onClick:e[0]||(e[0]=n=>v.$router.back()),class:"back-btn"}),a("div",null,[e[4]||(e[4]=a("h1",{class:"page-title"},"Transaction Detail",-1)),a("p",fe,"View transaction information on "+i(y(x)?.name),1)])]),t($,{class:"status-card slide-up-soft",elevated:""},{default:l(()=>[t(w,{class:"status-content"},{default:l(()=>[t(b,{name:s.value.status==="success"?"mdi-check-circle":"mdi-close-circle",color:s.value.status==="success"?"positive":"negative",size:"48px"},null,8,["name","color"]),a("div",ge,[e[5]||(e[5]=a("div",{class:"status-label"},"Status",-1)),a("div",{class:X(["status-value",`status-value--${s.value.status}`])},i(s.value.status==="success"?"Success":"Failed"),3)]),s.value.confirmations>0?(r(),c(L,{key:0,color:"primary",label:`${s.value.confirmations} confirmations`,class:"confirmations-badge"},null,8,["label"])):u("",!0)]),_:1})]),_:1}),t($,{class:"info-card slide-up-soft stagger-1",bordered:""},{default:l(()=>[t(w,null,{default:l(()=>[a("div",pe,[e[6]||(e[6]=a("div",{class:"info-label"},"Transaction Hash",-1)),a("div",be,[t(h,{color:"primary",address:s.value.hash,"is-transaction-hash":!0,icon:"mdi-receipt-text"},null,8,["address"])])]),t(f,{class:"info-separator"}),a("div",_e,[e[7]||(e[7]=a("div",{class:"info-label"},"From",-1)),a("div",ke,[t(h,{color:"primary",address:s.value.from,"is-transaction-hash":!0,clickable:"",onClick:e[1]||(e[1]=n=>S(s.value.from))},null,8,["address"])])]),t(f,{class:"info-separator"}),a("div",ye,[e[8]||(e[8]=a("div",{class:"info-label"},"To",-1)),a("div",he,[s.value.to?(r(),c(h,{key:0,color:"primary",address:s.value.to,"is-transaction-hash":!0,clickable:"",onClick:e[2]||(e[2]=n=>S(s.value.to))},null,8,["address"])):(r(),p("span",Ce,"Contract Creation"))])]),e[16]||(e[16]=m()),t(f,{class:"info-separator"}),a("div",xe,[e[9]||(e[9]=a("div",{class:"info-label"},"Value",-1)),a("div",Te,[t(b,{name:"currency_exchange",size:"20px",color:"primary"}),a("span",null,i(s.value.formattedValue)+" "+i(y(x)?.chain.nativeCurrency.symbol),1)])]),t(f,{class:"info-separator"}),a("div",Se,[e[10]||(e[10]=a("div",{class:"info-label"},"Transaction Type",-1)),a("div",$e,[t(L,{color:"primary",label:z.value},null,8,["label"])])]),t(f,{class:"info-separator"}),a("div",we,[e[11]||(e[11]=a("div",{class:"info-label"},"Block Number",-1)),a("div",Be,i(s.value.blockNumber.toString()),1)]),t(f,{class:"info-separator"}),a("div",qe,[e[12]||(e[12]=a("div",{class:"info-label"},"Timestamp",-1)),a("div",Qe,[s.value.timestamp?(r(),p("span",ze,[m(i(A(s.value.timestamp))+"  ",1),a("span",Ie," ("+i(y(d).getTimeAgo(s.value.timestamp))+") ",1)])):(r(),p("span",Ne,"Pending..."))])]),t(f,{class:"info-separator"}),a("div",Re,[e[13]||(e[13]=a("div",{class:"info-label"},"Gas Price",-1)),a("div",De,i(s.value.formattedGasPrice)+" Gwei ",1)]),s.value.gasUsed?(r(),c(f,{key:0,class:"info-separator"})):u("",!0),s.value.gasUsed?(r(),p("div",Le,[e[14]||(e[14]=a("div",{class:"info-label"},"Gas Used",-1)),a("div",Ee,[m(i(s.value.gasUsed.toString())+"  ",1),T.value?(r(),p("span",Fe," ("+i(T.value.formattedCost)+" "+i(y(x)?.chain.nativeCurrency.symbol)+") ",1)):u("",!0)])])):u("",!0),t(f,{class:"info-separator"}),a("div",Ae,[e[15]||(e[15]=a("div",{class:"info-label"},"Nonce",-1)),a("div",Pe,i(s.value.nonce),1)])]),_:1})]),_:1}),s.value.logs&&s.value.logs.length>0?(r(),c($,{key:0,class:"logs-card slide-up-soft stagger-2",bordered:""},{default:l(()=>[t(w,null,{default:l(()=>[a("h3",Ve,[t(b,{name:"mdi-swap-horizontal",size:"20px",color:"primary",class:"q-mr-sm"}),e[17]||(e[17]=m(" Token Transfers ",-1))]),t(ne,{separator:""},{default:l(()=>[(r(!0),p(Y,null,Z(s.value.logs,(n,U)=>(r(),c(ie,{key:U,class:"log-item"},{default:l(()=>[t(D,{avatar:""},{default:l(()=>[t(b,{name:n.type==="ERC20_Transfer"?"mdi-coin":n.type==="ERC721_Transfer"?"mdi-image":"mdi-package-variant",color:n.type==="ERC20_Transfer"?"primary":n.type==="ERC721_Transfer"?"secondary":"accent",size:"32px"},null,8,["name","color"])]),_:2},1024),t(D,null,{default:l(()=>[t(B,{class:"log-token-name"},{default:l(()=>[m(i(n.tokenName)+" ("+i(n.tokenSymbol)+") ",1)]),_:2},1024),t(B,{caption:"",class:"log-type"},{default:l(()=>[m(i(n.type==="ERC20_Transfer"?"Token Transfer":n.type==="ERC721_Transfer"?"NFT Transfer":"ERC-1155 Transfer"),1)]),_:2},1024),a("div",Ue,[a("div",Ge,[e[18]||(e[18]=a("span",{class:"log-label"},"From:",-1)),t(h,{color:"primary",address:n.from,"is-transaction-hash":!0,icon:"mdi-account",clickable:"",onClick:N=>S(n.from)},null,8,["address","onClick"])]),a("div",Me,[e[19]||(e[19]=a("span",{class:"log-label"},"To:",-1)),t(h,{color:"primary",address:n.to,"is-transaction-hash":!0,icon:"mdi-account",clickable:"",onClick:N=>S(n.to)},null,8,["address","onClick"])])]),n.value?(r(),c(B,{key:0,class:"log-value"},{default:l(()=>[t(b,{name:"mdi-cash",size:"16px",class:"q-mr-xs"}),e[20]||(e[20]=m(" Amount: ",-1)),a("strong",null,i(n.value)+" "+i(n.tokenSymbol),1)]),_:2},1024)):u("",!0),n.tokenId?(r(),c(B,{key:1,class:"log-value"},{default:l(()=>[t(b,{name:"mdi-tag",size:"16px",class:"q-mr-xs"}),e[21]||(e[21]=m(" Token ID: ",-1)),a("strong",null,"#"+i(n.tokenId),1)]),_:2},1024)):u("",!0),t(B,{caption:"",class:"log-contract"},{default:l(()=>[t(b,{name:"mdi-file-code",size:"14px",class:"q-mr-xs"}),e[22]||(e[22]=m(" Contract: ",-1)),t(h,{color:"primary",address:n.tokenAddress,"is-transaction-hash":!0,icon:"mdi-file-code",clickable:"",onClick:N=>S(n.tokenAddress)},null,8,["address","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):u("",!0),s.value.input!=="0x"?(r(),c($,{key:1,class:"input-card slide-up-soft stagger-2",bordered:""},{default:l(()=>[t(w,null,{default:l(()=>[e[23]||(e[23]=a("h3",{class:"card-title"},"Input Data",-1)),a("div",He,[a("code",null,i(s.value.input),1)])]),_:1})]),_:1})):u("",!0)])):y(Q)?(r(),p("div",We,[t($,{elevated:""},{default:l(()=>[t(w,{class:"text-center"},{default:l(()=>[t(b,{name:"mdi-alert-circle",size:"64px",color:"negative",class:"q-mb-md"}),e[24]||(e[24]=a("h3",{class:"text-h6 q-mb-sm"},"Transaction Not Found",-1)),t(R,{unelevated:"",rounded:"",color:"primary",label:"Go Back",icon:"mdi-arrow-left",onClick:e[3]||(e[3]=n=>v.$router.back())})]),_:1})]),_:1})])):u("",!0)])]),_:1}))}}),ea=le(je,[["__scopeId","data-v-25fcc764"]]);export{ea as default};
