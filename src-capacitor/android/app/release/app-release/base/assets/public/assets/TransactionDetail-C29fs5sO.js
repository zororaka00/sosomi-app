import{c as V,a as b,h as L,u as G,g as E,B as M,_ as H,C as W,r as j,o as J,N as u,F as r,$ as K,V as O,M as l,H as d,G as e,I as v,D as m,E as t,Q as X,J as n,P as y,a0 as Y,O as p,K as Z,L as ss}from"./index-D71b0TiV.js";import{u as es,Q as as,B as $,a as w}from"./search-store-BWpmkrKr.js";import{f as ts,j as os,A as ns,Q as ls}from"./chain-store-BrD8rbwP.js";import{Q as is,a as rs,b as B}from"./QItem-DSVf96Az.js";import{L as ds,W as x}from"./LoadingMonster-CSFkzw9c.js";import{P as cs}from"./PillButton-D3Uaw3du.js";import{_ as us}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./focusout-DzMFof5N.js";const vs=["top","middle","bottom"],F=V({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:o=>vs.includes(o)}},setup(o,{slots:T}){const h=b(()=>o.align!==void 0?{verticalAlign:o.align}:null),c=b(()=>{const k=o.outline===!0&&o.color||o.textColor;return`q-badge flex inline items-center no-wrap q-badge--${o.multiLine===!0?"multi":"single"}-line`+(o.outline===!0?" q-badge--outline":o.color!==void 0?` bg-${o.color}`:"")+(k!==void 0?` text-${k}`:"")+(o.floating===!0?" q-badge--floating":"")+(o.rounded===!0?" q-badge--rounded":"")+(o.transparent===!0?" q-badge--transparent":"")});return()=>L("div",{class:c.value,style:h.value,role:"status","aria-label":o.label},G(T.default,o.label!==void 0?[o.label]:[]))}}),ms={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},I={xs:2,sm:4,md:8,lg:16,xl:24},f=V({name:"QSeparator",props:{...ts,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(o){const T=E(),h=os(o,T.proxy.$q),c=b(()=>o.vertical===!0?"vertical":"horizontal"),k=b(()=>` q-separator--${c.value}`),q=b(()=>o.inset!==!1?`${k.value}-${ms[o.inset]}`:""),_=b(()=>`q-separator${k.value}${q.value}`+(o.color!==void 0?` bg-${o.color}`:"")+(h.value===!0?" q-separator--dark":"")),D=b(()=>{const C={};if(o.size!==void 0&&(C[o.vertical===!0?"width":"height"]=o.size),o.spaced!==!1){const a=o.spaced===!0?`${I.md}px`:o.spaced in I?`${I[o.spaced]}px`:o.spaced,Q=o.vertical===!0?["Left","Right"]:["Top","Bottom"];C[`margin${Q[0]}`]=C[`margin${Q[1]}`]=a}return C});return()=>L("hr",{class:_.value,style:D.value,"aria-orientation":c.value})}}),fs={class:"page-content"},gs={key:0,class:"transaction-details fade-in"},bs={class:"page-header"},ps={class:"page-subtitle"},ks={class:"status-text"},_s={class:"info-row"},ys={class:"info-value"},hs={class:"info-row"},Cs={class:"info-value"},xs={class:"info-row"},Ts={class:"info-value"},Ss={key:1,class:"text-grey-6"},$s={class:"info-row"},ws={class:"info-value"},Bs={class:"info-row"},qs={class:"info-value value-amount"},Qs={key:0,class:"info-usd text-grey-7"},zs={key:0,class:"info-row"},Ds={class:"info-value"},Is={key:0,class:"info-usd text-grey-7"},Ns={class:"info-row"},Fs={class:"info-value mono-text"},Vs={class:"info-row"},Ls={class:"info-value"},Ps={key:0},Us={class:"text-grey-6"},As={key:1,class:"text-grey-6"},Rs={class:"info-row"},Gs={class:"info-value"},Es={key:2,class:"info-row"},Ms={class:"info-value mono-text"},Hs={class:"info-row"},Ws={class:"info-value mono-text"},js={class:"card-title"},Js={class:"log-addresses"},Ks={class:"log-address-row"},Os={class:"log-address-row"},Xs={class:"input-data"},Ys={key:1,class:"error-container fade-in"},Zs=M({__name:"TransactionDetail",setup(o){const T=K(),h=O(),c=ns(),k=es(),q=H(),{currentChain:_,loading:D,error:C}=W(c),a=j(null),Q=b(()=>a.value?a.value.logs&&a.value.logs.length>0?"Contract Interaction":c.getTransactionType(a.value.input):"Unknown"),z=b(()=>!a.value?.gasUsed||!a.value?.gasPrice?null:c.calculateTransactionCost(a.value.gasUsed,a.value.gasPrice)),P=g=>new Date(Number(g)*1e3).toLocaleString(),S=g=>{h.push({name:"address",params:{address:g}})},U=()=>{h.push({name:"home"})},A=async()=>{const g=T.params.hash;try{a.value=await c.getTransaction(g),console.log("Transaction loaded:",{hash:a.value.hash,logsCount:a.value.logs?.length||0,logs:a.value.logs}),k.addSearch(g,"Transaction",c.currentChainId)}catch(s){console.error("Failed to load transaction:",s)}};return J(()=>{A()}),(g,s)=>(l(),u(as,{class:"transaction-page"},{default:r(()=>[v(D)?(l(),u(ds,{key:0,message:"Fetching transaction from blockchain...",onCancel:U})):d("",!0),e("div",fs,[a.value?(l(),m("div",gs,[e("div",bs,[t(X,{flat:"",round:"",icon:"mdi-arrow-left",onClick:s[0]||(s[0]=i=>g.$router.back()),class:"back-btn"}),e("div",null,[s[4]||(s[4]=e("h1",{class:"page-title"},"Transaction Detail",-1)),e("p",ps,"View transaction information on "+n(v(_)?.name),1)])]),t($,{class:"status-card slide-up-soft",elevated:""},{default:r(()=>[t(w,{class:"status-content"},{default:r(()=>[t(y,{name:a.value.status==="success"?"mdi-check-circle":"mdi-close-circle",color:a.value.status==="success"?"positive":"negative",size:"48px"},null,8,["name","color"]),e("div",ks,[s[5]||(s[5]=e("div",{class:"status-label"},"Status",-1)),e("div",{class:Y(["status-value",`status-value--${a.value.status}`])},n(a.value.status==="success"?"Success":"Failed"),3)]),a.value.confirmations>0?(l(),u(F,{key:0,color:"primary",label:`${a.value.confirmations} confirmations`,class:"confirmations-badge"},null,8,["label"])):d("",!0)]),_:1})]),_:1}),t($,{class:"info-card slide-up-soft stagger-1",bordered:""},{default:r(()=>[t(w,null,{default:r(()=>[e("div",_s,[s[6]||(s[6]=e("div",{class:"info-label"},"Transaction Hash",-1)),e("div",ys,[t(x,{color:"primary",address:a.value.hash,"is-transaction-hash":!0,icon:"mdi-receipt-text"},null,8,["address"])])]),t(f,{class:"info-separator"}),e("div",hs,[s[7]||(s[7]=e("div",{class:"info-label"},"From",-1)),e("div",Cs,[t(x,{color:"primary",address:a.value.from,"is-transaction-hash":!0,clickable:"",onClick:s[1]||(s[1]=i=>S(a.value.from))},null,8,["address"])])]),t(f,{class:"info-separator"}),e("div",xs,[s[8]||(s[8]=e("div",{class:"info-label"},"To",-1)),e("div",Ts,[a.value.to?(l(),u(x,{key:0,color:"primary",address:a.value.to,"is-transaction-hash":!0,clickable:"",onClick:s[2]||(s[2]=i=>S(a.value.to))},null,8,["address"])):(l(),m("span",Ss,"Contract Creation"))])]),s[17]||(s[17]=p()),t(f,{class:"info-separator"}),e("div",$s,[s[9]||(s[9]=e("div",{class:"info-label"},"Transaction Type",-1)),e("div",ws,[t(F,{color:"primary",label:Q.value},null,8,["label"])])]),t(f,{class:"info-separator"}),e("div",Bs,[s[10]||(s[10]=e("div",{class:"info-label"},"Value",-1)),e("div",qs,[t(y,{name:"currency_exchange",size:"20px",color:"primary"}),e("span",null,n(a.value.formattedValue)+" "+n(v(_)?.chain.nativeCurrency.symbol),1)]),a.value.value>0n?(l(),m("div",Qs," ≈ "+n(v(q).formatUsdValue(parseFloat(a.value.formattedValue),v(_)?.chain.nativeCurrency.symbol||""))+" USD ",1)):d("",!0)]),t(f,{class:"info-separator"}),z.value?(l(),m("div",zs,[s[11]||(s[11]=e("div",{class:"info-label"},"Transaction Fee",-1)),e("div",Ds,n(z.value.formattedCost)+" "+n(v(_)?.chain.nativeCurrency.symbol),1),z.value.cost>0?(l(),m("div",Is," ≈ "+n(v(q).formatUsdValue(parseFloat(z.value.formattedCost),v(_)?.chain.nativeCurrency.symbol||""))+" USD ",1)):d("",!0)])):d("",!0),t(f,{class:"info-separator"}),e("div",Ns,[s[12]||(s[12]=e("div",{class:"info-label"},"Block Number",-1)),e("div",Fs,n(a.value.blockNumber.toString()),1)]),t(f,{class:"info-separator"}),e("div",Vs,[s[13]||(s[13]=e("div",{class:"info-label"},"Timestamp",-1)),e("div",Ls,[a.value.timestamp?(l(),m("span",Ps,[p(n(P(a.value.timestamp))+"  ",1),e("span",Us," ("+n(v(c).getTimeAgo(a.value.timestamp))+") ",1)])):(l(),m("span",As,"Pending..."))])]),t(f,{class:"info-separator"}),e("div",Rs,[s[14]||(s[14]=e("div",{class:"info-label"},"Gas Price",-1)),e("div",Gs,n(a.value.formattedGasPrice)+" Gwei ",1)]),a.value.gasUsed?(l(),u(f,{key:1,class:"info-separator"})):d("",!0),a.value.gasUsed?(l(),m("div",Es,[s[15]||(s[15]=e("div",{class:"info-label"},"Gas Used",-1)),e("div",Ms,n(a.value.gasUsed.toString()),1)])):d("",!0),t(f,{class:"info-separator"}),e("div",Hs,[s[16]||(s[16]=e("div",{class:"info-label"},"Nonce",-1)),e("div",Ws,n(a.value.nonce),1)])]),_:1})]),_:1}),a.value.logs&&a.value.logs.length>0?(l(),u($,{key:0,class:"logs-card slide-up-soft stagger-2",bordered:""},{default:r(()=>[t(w,null,{default:r(()=>[e("h3",js,[t(y,{name:"mdi-swap-horizontal",size:"20px",color:"primary",class:"q-mr-sm"}),s[18]||(s[18]=p(" Token Transfers ",-1))]),t(ls,{separator:""},{default:r(()=>[(l(!0),m(Z,null,ss(a.value.logs,(i,R)=>(l(),u(is,{key:R,class:"log-item"},{default:r(()=>[t(rs,null,{default:r(()=>[t(B,{class:"log-token-name"},{default:r(()=>[p(n(i.tokenName)+" ("+n(i.tokenSymbol)+") ",1)]),_:2},1024),t(B,{caption:"",class:"log-type"},{default:r(()=>[p(n(i.type==="ERC20_Transfer"?"Token Transfer":i.type==="ERC721_Transfer"?"NFT Transfer":"ERC-1155 Transfer"),1)]),_:2},1024),e("div",Js,[e("div",Ks,[s[19]||(s[19]=e("span",{class:"log-label"},"From:",-1)),t(x,{color:"primary",address:i.from,"is-transaction-hash":!0,icon:"mdi-account",clickable:"",onClick:N=>S(i.from)},null,8,["address","onClick"])]),e("div",Os,[s[20]||(s[20]=e("span",{class:"log-label"},"To:",-1)),t(x,{color:"primary",address:i.to,"is-transaction-hash":!0,icon:"mdi-account",clickable:"",onClick:N=>S(i.to)},null,8,["address","onClick"])])]),i.value?(l(),u(B,{key:0,class:"log-value"},{default:r(()=>[t(y,{name:"mdi-cash",size:"16px",class:"q-mr-xs"}),s[21]||(s[21]=p(" Amount: ",-1)),e("strong",null,n(i.value)+" "+n(i.tokenSymbol),1)]),_:2},1024)):d("",!0),i.tokenId?(l(),u(B,{key:1,class:"log-value"},{default:r(()=>[t(y,{name:"mdi-tag",size:"16px",class:"q-mr-xs"}),s[22]||(s[22]=p(" Token ID: ",-1)),e("strong",null,"#"+n(i.tokenId),1)]),_:2},1024)):d("",!0),t(B,{caption:"",class:"log-contract"},{default:r(()=>[t(y,{name:"mdi-file-code",size:"14px",class:"q-mr-xs"}),s[23]||(s[23]=p(" Contract: ",-1)),t(x,{color:"primary",address:i.tokenAddress,"is-transaction-hash":!0,icon:"mdi-file-code",clickable:"",onClick:N=>S(i.tokenAddress)},null,8,["address","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):d("",!0),a.value.input!=="0x"?(l(),u($,{key:1,class:"input-card slide-up-soft stagger-2",bordered:""},{default:r(()=>[t(w,null,{default:r(()=>[s[24]||(s[24]=e("h3",{class:"card-title"},"Input Data",-1)),e("div",Xs,[e("code",null,n(a.value.input),1)])]),_:1})]),_:1})):d("",!0)])):v(C)?(l(),m("div",Ys,[t($,{elevated:""},{default:r(()=>[t(w,{class:"text-center"},{default:r(()=>[t(y,{name:"mdi-alert-circle",size:"64px",color:"negative",class:"q-mb-md"}),s[25]||(s[25]=e("h3",{class:"text-h6 q-mb-sm"},"Transaction Not Found",-1)),t(cs,{label:"Go Back",icon:"mdi-arrow-left","bg-color":"#3b82f6","text-color":"#ffffff",onClick:s[3]||(s[3]=i=>g.$router.back())})]),_:1})]),_:1})])):d("",!0)])]),_:1}))}}),re=us(Zs,[["__scopeId","data-v-d07c160a"]]);export{re as default};
